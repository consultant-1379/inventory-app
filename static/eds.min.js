!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).eds=e()}}((function(){return function e(t,n,i){function r(s,o){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!o&&l)return l(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};t[s][0].call(c.exports,(function(e){return r(t[s][1][e]||e)}),c,c.exports,e,t,n,i)}return n[s].exports}for(var a="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,t,n){"use strict";function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)}function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=o(e);if(t){var r=o(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}function l(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,a=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return a}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=p(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){o=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw a}}}}function p(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function g(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}!function(){if("undefined"!=typeof window)try{var e=new window.CustomEvent("test",{cancelable:!0});if(e.preventDefault(),!0!==e.defaultPrevented)throw new Error("Could not prevent default")}catch(e){var t=function(e,t){var n,i;return(t=t||{}).bubbles=!!t.bubbles,t.cancelable=!!t.cancelable,(n=document.createEvent("CustomEvent")).initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i=n.preventDefault,n.preventDefault=function(){i.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(e){this.defaultPrevented=!0}},n};t.prototype=window.Event.prototype,window.CustomEvent=t}}(),e("core-js/modules/es.symbol.iterator.js"),e("core-js/modules/es.object.get-own-property-descriptor.js"),e("core-js/modules/es.object.get-own-property-descriptors.js"),e("core-js/modules/es.object.define-properties.js"),e("core-js/modules/es.object.set-prototype-of.js"),e("core-js/modules/es.object.get-prototype-of.js"),e("core-js/modules/es.object.proto.js"),e("core-js/modules/es.reflect.to-string-tag.js"),e("core-js/modules/es.reflect.construct.js"),e("core-js/modules/es.object.create.js"),e("core-js/modules/es.object.define-property.js"),e("core-js/modules/es.array.for-each.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/web.dom-collections.for-each.js"),e("core-js/modules/es.array.from.js"),e("core-js/modules/es.string.iterator.js"),e("core-js/modules/es.array.push.js"),e("core-js/modules/es.array.slice.js"),e("core-js/modules/es.date.to-string.js"),e("core-js/modules/es.parse-int.js"),e("core-js/modules/es.array.index-of.js"),e("core-js/modules/es.array.map.js"),e("core-js/modules/es.number.constructor.js"),e("core-js/modules/es.array.concat.js"),e("core-js/modules/es.array.join.js"),e("core-js/modules/es.json.stringify.js"),e("core-js/modules/web.timers.js"),e("core-js/modules/es.regexp.exec.js"),e("core-js/modules/es.string.match.js"),e("core-js/modules/es.date.to-iso-string.js"),e("core-js/modules/es.error.to-string.js"),e("core-js/modules/es.regexp.to-string.js"),e("core-js/modules/es.array.some.js"),e("core-js/modules/es.function.bind.js"),e("core-js/modules/es.regexp.flags.js"),e("core-js/modules/es.symbol.js"),e("core-js/modules/es.symbol.description.js"),e("core-js/modules/es.array.iterator.js"),e("core-js/modules/es.map.js"),e("core-js/modules/web.dom-collections.iterator.js"),e("core-js/modules/es.date.now.js"),e("core-js/modules/es.string.substr.js"),e("core-js/modules/es.array.find.js"),e("core-js/modules/es.string.trim.js"),e("core-js/modules/es.array.filter.js"),e("core-js/modules/es.array.splice.js"),e("core-js/modules/es.array.is-array.js"),e("core-js/modules/es.array.includes.js"),e("core-js/modules/es.string.includes.js"),e("core-js/modules/es.object.keys.js"),e("core-js/modules/es.number.to-fixed.js"),e("core-js/modules/es.array.every.js"),e("core-js/modules/es.regexp.test.js"),e("core-js/modules/es.array.sort.js"),e("core-js/modules/es.array.find-index.js"),e("core-js/modules/es.error.cause.js"),e("core-js/modules/es.string.search.js"),e("core-js/modules/es.regexp.constructor.js"),e("core-js/modules/es.regexp.dot-all.js"),e("core-js/modules/es.regexp.sticky.js"),e("core-js/modules/es.set.js"),e("core-js/modules/es.array.fill.js"),e("core-js/modules/es.function.name.js"),e("core-js/modules/es.string.bold.js"),e("core-js/modules/es.object.assign.js"),e("core-js/modules/es.array.flat.js"),e("core-js/modules/es.array.unscopables.flat.js"),e("core-js/modules/es.string.split.js"),e("core-js/modules/es.string.replace.js"),e("core-js/modules/es.array.reduce.js"),e("core-js/modules/es.array.unshift.js"),e("core-js/modules/es.array-buffer.slice.js"),e("core-js/modules/es.typed-array.float64-array.js"),e("core-js/modules/es.typed-array.at.js"),e("core-js/modules/es.typed-array.copy-within.js"),e("core-js/modules/es.typed-array.every.js"),e("core-js/modules/es.typed-array.fill.js"),e("core-js/modules/es.typed-array.filter.js"),e("core-js/modules/es.typed-array.find.js"),e("core-js/modules/es.typed-array.find-index.js"),e("core-js/modules/es.typed-array.find-last.js"),e("core-js/modules/es.typed-array.find-last-index.js"),e("core-js/modules/es.typed-array.for-each.js"),e("core-js/modules/es.typed-array.includes.js"),e("core-js/modules/es.typed-array.index-of.js"),e("core-js/modules/es.typed-array.iterator.js"),e("core-js/modules/es.typed-array.join.js"),e("core-js/modules/es.typed-array.last-index-of.js"),e("core-js/modules/es.typed-array.map.js"),e("core-js/modules/es.typed-array.reduce.js"),e("core-js/modules/es.typed-array.reduce-right.js"),e("core-js/modules/es.typed-array.reverse.js"),e("core-js/modules/es.typed-array.set.js"),e("core-js/modules/es.typed-array.slice.js"),e("core-js/modules/es.typed-array.some.js"),e("core-js/modules/es.typed-array.sort.js"),e("core-js/modules/es.typed-array.subarray.js"),e("core-js/modules/es.typed-array.to-locale-string.js"),e("core-js/modules/es.typed-array.to-string.js"),e("core-js/modules/es.typed-array.uint16-array.js"),e("core-js/modules/es.typed-array.uint32-array.js"),e("core-js/modules/es.math.fround.js"),e("core-js/modules/es.typed-array.float32-array.js"),e("core-js/modules/es.string.starts-with.js"),Object.defineProperty(n,"__esModule",{value:!0});var b,j=(b=e("dragula/dist/dragula.min"))&&"object"===_(b)&&"default"in b?b.default:b,x=e("d3"),w=e("leaflet/dist/leaflet-src.js"),k=function(){function e(t){var n=this;v(this,e),this.dom={accordion:t,titles:[]},this.listeners={click:function(e){return n.toggleAccordion(e)},elementKeyPress:function(e){"Space"===e.code&&"LI"===e.target.nodeName&&(e.preventDefault(),n.toggleAccordion(e))}},this.autoclose=this.dom.accordion.classList.contains("autoclose")}return g(e,[{key:"init",value:function(){this._processElement(),this._addEventListeners()}},{key:"destroy",value:function(){this._removeEventListeners()}},{key:"_addEventListeners",value:function(){var e,t=f(this.dom.titles);try{for(t.s();!(e=t.n()).done;){e.value.addEventListener("click",this.listeners.click)}}catch(e){t.e(e)}finally{t.f()}this.dom.accordion.addEventListener("keydown",this.listeners.elementKeyPress)}},{key:"_removeEventListeners",value:function(){var e,t=f(this.dom.titles);try{for(t.s();!(e=t.n()).done;){e.value.removeEventListener("click",this.listeners.click)}}catch(e){t.e(e)}finally{t.f()}this.dom.accordion.removeEventListener("keyup",this.listeners.elementKeyPress)}},{key:"_processElement",value:function(){var e=this,t=this.dom.accordion.querySelector("ul");t.classList.add("accordion-list"),Array.from(t.children).forEach((function(t){t.classList.add("accordion-item"),e.dom.titles.push(t.querySelector(".title"))}))}},{key:"toggleAccordion",value:function(e){var t=e.target.closest(".accordion-item");this.autoclose&&Array.from(this.dom.accordion.querySelectorAll(".accordion-item")).forEach((function(e){e!==t&&e.classList.remove("opened")})),t.classList.toggle("opened")}}]),e}(),S=function(){function e(t){var n=this;v(this,e),this.dom={appbar:t,navItem:t.querySelector(".actions-left .item"),navToggle:t.querySelector(".actions-left .item .navigation-toggle"),menuAnchor:t.querySelector(".actions-left .menu-anchor"),title:t.querySelector(".actions-left .title")},this.events={toggleNavigation:new CustomEvent("toggleNavigation"),showNavigation:new CustomEvent("showNavigation"),hideNavigation:new CustomEvent("hideNavigation")},this.listeners={toggleNavigation:function(){return n._toggle()},hideNavigation:function(){return n._hide()},showNavigation:function(){return n._show()}}}return g(e,[{key:"init",value:function(){this._addEventListeners()}},{key:"destroy",value:function(){this._removeEventListeners()}},{key:"_toggleNavigation",value:function(e){var t=this.dom.title.classList.contains("open-menu");(!0===e&&!1===t||!1===e&&!0===t||void 0===e)&&this._toggle()}},{key:"_isNavigationOpen",value:function(){return this.dom.title.classList.contains("open-menu")}},{key:"_addEventListeners",value:function(){this.dom.navItem.addEventListener("click",this.listeners.toggleNavigation),this.dom.menuAnchor.addEventListener("click",this.listeners.toggleNavigation),document.addEventListener("hideNavigation",this.listeners.hideNavigation),document.addEventListener("showNavigation",this.listeners.showNavigation)}},{key:"_removeEventListeners",value:function(){this.dom.navItem.removeEventListener("click",this.listeners.toggleNavigation),this.dom.menuAnchor.removeEventListener("click",this.listeners.toggleNavigation),document.removeEventListener("hideNavigation",this.listeners.hideNavigation),document.removeEventListener("showNavigation",this.listeners.showNavigation)}},{key:"_toggle",value:function(){this.dom.title.classList.contains("open-menu")?this._hide():this._show(),document.dispatchEvent(this.events.toggleNavigation)}},{key:"_hide",value:function(){this.dom.title.classList.remove("open-menu"),this.dom.menuAnchor.classList.remove("open-menu"),this.dom.navToggle.classList.remove("closed")}},{key:"_show",value:function(){this.dom.title.classList.add("open-menu"),this.dom.menuAnchor.classList.add("open-menu"),this.dom.navToggle.classList.add("closed")}}]),e}(),P=function(){function e(t){var n=this;v(this,e),this.dom={appnav:t},this.listeners={toggleNavigation:function(){return n._toggle()},showNavigation:function(){return n._show()},hideNavigation:function(){return n._hide()}}}return g(e,[{key:"init",value:function(){this._addEventListeners()}},{key:"destroy",value:function(){this._removeEventListeners()}},{key:"_addEventListeners",value:function(){document.addEventListener("toggleNavigation",this.listeners.toggleNavigation),document.addEventListener("showNavigation",this.listeners.showNavigation),document.addEventListener("hideNavigation",this.listeners.hideNavigation)}},{key:"_removeEventListeners",value:function(){document.removeEventListener("toggleNavigation",this.listeners.toggleNavigation),document.removeEventListener("showNavigation",this.listeners.showNavigation),document.removeEventListener("hideNavigation",this.listeners.hideNavigation)}},{key:"_toggle",value:function(){this.dom.appnav.classList.contains("hidden")?(this._show(),window.localStorage.setItem("navClosed",!1)):(this._hide(),window.localStorage.setItem("navClosed",!0))}},{key:"_show",value:function(){window.localStorage.setItem("navClosed",!1),this.dom.appnav.classList.remove("hidden")}},{key:"_hide",value:function(){window.localStorage.setItem("navClosed",!0),this.dom.appnav.classList.add("hidden")}}]),e}(),M=function(){function e(t){var n=this;v(this,e),this.dom={breadcrumb:t,links:[],separators:[],more:{element:null,icon:null,menu:null,items:[]}},this.state={breadcrumb:[]},this.listeners={iconClick:function(){n.dom.more.menu.classList.contains("visible")?n.dom.more.menu.classList.remove("visible"):n.dom.more.menu.classList.add("visible")},windowClick:function(e){var t=e.target?e.target:e.srcElement;t===n.dom.more.icon||n.dom.more.icon.contains(t)||n.dom.more.menu.classList.remove("visible")}}}return g(e,[{key:"init",value:function(e){this.state.breadcrumb=e,this._buildBreadcrumb(),this._addEventListeners()}},{key:"destroy",value:function(){this._removeEventListeners(),this.dom.breadcrumb.innerHTML=""}},{key:"_buildBreadcrumb",value:function(){this.state.breadcrumb.length<=3?this._buildShortBreadcrumb():this._buildLongBreadcrumb()}},{key:"_buildShortBreadcrumb",value:function(){var e=this;this.dom.breadcrumb.classList.add("short"),this.dom.breadcrumb.classList.remove("long");var t=this.state.breadcrumb.length;if(t>1){var n=this.state.breadcrumb.slice(0,this.state.breadcrumb.length-1),i=this._createMoreElement(n);this.dom.breadcrumb.appendChild(i);var r=this._createSeparatorElement();this.dom.breadcrumb.appendChild(r)}this.state.breadcrumb.forEach((function(n,i){if(t-1!==i){var r=e._createLinkElement(n,!1);e.dom.breadcrumb.appendChild(r)}else{var a=e._createLinkElement(n,!0);e.dom.breadcrumb.appendChild(a)}if(t-1!==i){var s=e._createSeparatorElement();e.dom.breadcrumb.appendChild(s)}}))}},{key:"_buildLongBreadcrumb",value:function(){var e=this;this.dom.breadcrumb.classList.remove("short"),this.dom.breadcrumb.classList.add("long");var t=this.state.breadcrumb.length,n=this.state.breadcrumb[0],i=this.state.breadcrumb.slice(0,t-1),r=this.state.breadcrumb.slice(t-2,t),a=this._createLinkElement(n,!1),s=this._createSeparatorElement();this.dom.breadcrumb.appendChild(a),this.dom.breadcrumb.appendChild(s);var o=this._createMoreElement(i);this.dom.breadcrumb.appendChild(o),r.forEach((function(t,n){var i,r=e._createSeparatorElement();i=1===n?e._createLinkElement(t,!0):e._createLinkElement(t,!1),e.dom.breadcrumb.appendChild(r),e.dom.breadcrumb.appendChild(i)}))}},{key:"_createLinkElement",value:function(e,t){var n=document.createElement("span");return n.classList.add("link"),n.innerHTML=e.title,!t&&e.action&&n.addEventListener("click",(function(){e.action()})),this.dom.links.push(n),n}},{key:"_createSeparatorElement",value:function(){var e=document.createElement("span");return e.classList.add("separator"),this.dom.separators.push(e),e}},{key:"_createMoreElement",value:function(e){var t=document.createElement("span"),n=document.createElement("i"),i=document.createElement("div");return t.classList.add("more"),n.classList.add("icon"),i.classList.add("menu"),t.appendChild(n),t.appendChild(i),e.forEach((function(e){var t=document.createElement("div");t.classList.add("item"),t.innerHTML=e.title,e.action&&t.addEventListener("click",(function(){e.action()})),i.appendChild(t)})),this.dom.more.element=t,this.dom.more.icon=n,this.dom.more.menu=i,t}},{key:"_addEventListeners",value:function(){this.dom.more.element&&window.addEventListener("click",this.listeners.windowClick),this.dom.more.icon&&this.dom.more.icon.addEventListener("click",this.listeners.iconClick)}},{key:"_removeEventListeners",value:function(){this.dom.more.element&&window.removeEventListener("click",this.listeners.windowClick),this.dom.more.icon&&this.dom.more.icon.removeEventListener("click",this.listeners.iconClick)}}]),e}(),O=function(){function e(t){var n=this;v(this,e),this.dom={calendar:t,year:t.querySelector(".year"),month:t.querySelector(".month"),days:[],prevYear:t.querySelector(".head i:nth-child(4)"),prevMonth:t.querySelector(".head i:nth-child(1)"),nextMonth:t.querySelector(".head i:nth-child(3)"),nextYear:t.querySelector(".head i:nth-child(6)"),todayBtn:t.querySelector(".set-current-day"),body:t.querySelector("table.body")},this.eng={months:["January","February","March","April","May","June","July","August","September","October","November","December"],days:["Mo","Tu","We","Th","Fr","Sa","Su"]},this.listeners={clickToday:function(){return n._setToday()},clickPrevYear:function(){return n._setPrevYear()},clickPrevMonth:function(){return n._setPrevMonth()},clickNextMonth:function(){return n._setNextMonth()},clickNextYear:function(){return n._setNextYear()}},this.calendar={year:"",month:"",days:[]}}return g(e,[{key:"init",value:function(){this._createCalendarBody(),this.setDataCalendar(new Date),this._addEventListeners()}},{key:"destroy",value:function(){this._removeEventListeners()}},{key:"_addEventListeners",value:function(){this.dom.prevYear.addEventListener("click",this.listeners.clickPrevYear,!1),this.dom.prevMonth.addEventListener("click",this.listeners.clickPrevMonth,!1),this.dom.nextMonth.addEventListener("click",this.listeners.clickNextMonth,!1),this.dom.nextYear.addEventListener("click",this.listeners.clickNextYear,!1),this.dom.todayBtn&&this.dom.todayBtn.addEventListener("click",this.listeners.clickToday,!1)}},{key:"_removeEventListeners",value:function(){this.dom.prevYear.removeEventListener("click",this.listeners.clickPrevYear,!1),this.dom.prevMonth.removeEventListener("click",this.listeners.clickPrevMonth,!1),this.dom.nextMonth.removeEventListener("click",this.listeners.clickNextMonth,!1),this.dom.nextYear.removeEventListener("click",this.listeners.clickNextYear,!1),this.dom.todayBtn&&this.dom.todayBtn.removeEventListener("click",this.listeners.clickToday,!1)}},{key:"_setToday",value:function(){this.setDataCalendar(new Date)}},{key:"_setPrevYear",value:function(){var e=parseInt(this.calendar.year,10)-1,t=this.eng.months.indexOf(this.calendar.month);this.setDataCalendar(new Date(e,t,"1")),this.removeAllSelectedDays(),this.disableUnselectableDays()}},{key:"_setPrevMonth",value:function(){var e=this.calendar.year,t=this.eng.months.indexOf(this.calendar.month);0===t?(t=11,e=parseInt(this.calendar.year,10)-1):t-=1,this.setDataCalendar(new Date(e,t,"1")),this.removeAllSelectedDays(),this.disableUnselectableDays()}},{key:"_setNextMonth",value:function(){var e=this.calendar.year,t=this.eng.months.indexOf(this.calendar.month);11===t?(t=0,e=parseInt(this.calendar.year,10)+1):t+=1,this.setDataCalendar(new Date(e,t,"1")),this.removeAllSelectedDays(),this.disableUnselectableDays()}},{key:"_setNextYear",value:function(){var e=parseInt(this.calendar.year,10)+1,t=this.eng.months.indexOf(this.calendar.month);this.setDataCalendar(new Date(e,t,"1")),this.removeAllSelectedDays(),this.disableUnselectableDays()}},{key:"_createCalendarBody",value:function(){for(var e=document.createElement("thead"),t=document.createElement("tr"),n=0;n<7;n+=1){var i=document.createElement("th");i.innerHTML=this.eng.days[n],t.appendChild(i)}e.appendChild(t),this.dom.body.appendChild(e);for(var r=document.createElement("tbody"),a=0;a<6;a+=1){for(var s=document.createElement("tr"),o=0;o<7;o+=1){var l=document.createElement("td");s.appendChild(l)}r.appendChild(s)}this.dom.body.appendChild(r),this.dom.days=this.dom.calendar.querySelectorAll("td")}},{key:"_setDOMCalendar",value:function(){var e=this,t=this.formatJsDate(new Date).split("-");this.dom.month.innerText=this.calendar.month,this.dom.year.innerText=this.calendar.year,Array.from(this.dom.days).forEach((function(n,i){var r=e.calendar.days[i];0!==r?(n.innerText=r,n.classList.remove("dummy"),+t[0]==+e.calendar.year&&+t[1]===e.eng.months.indexOf(e.calendar.month)+1&&+t[2]===e.calendar.days[i]&&(n.innerHTML='<span class="today">'+r+"</span>")):(n.innerText="",n.classList.add("dummy"))}))}},{key:"setDataCalendar",value:function(e){var t=this.formatJsDate(e).split("-"),n=new Date(t[0],t[1]-1,1),i=new Date(t[0],t[1],0).getDate(),r=n.getDay();this.calendar.year=t[0],this.calendar.month=this.eng.months[t[1]-1];var a=Array.apply(null,{length:(r+6)%7}).map(Number.prototype.valueOf,0),s=Array.apply(null,{length:i+1}).map(Number.call,Number);s.shift();var o=42-(a.length+s.length),l=Array.apply(null,Array(o)).map(Number.prototype.valueOf,0);this.calendar.days=a.concat(s,l),this._setDOMCalendar()}},{key:"formatJsDate",value:function(e){var t=e.getMonth()+1,n=e.getDate();return[e.getFullYear(),(t>9?"":"0")+t,(n>9?"":"0")+n].join("-")}},{key:"formatDate",value:function(e){return e.year+"-"+this._getMonthNum(e.month)+"-"+this._getDayNum(e.day)}},{key:"_getMonthNum",value:function(e){var t=this.eng.months.indexOf(e)+1;return t<10?"0"+t:t}},{key:"_getDayNum",value:function(e){return e<10?"0"+e:e}},{key:"removeAllSelectedDays",value:function(){Array.from(this.dom.days).forEach((function(e){e.classList.remove("selected")}))}},{key:"setMaximumDate",value:function(e){var t=e.split("-");this.max={day:+t[2],month:+t[1],year:+t[0]}}},{key:"setMinimumDate",value:function(e){var t=e.split("-");this.min={day:+t[2],month:+t[1],year:+t[0]}}},{key:"_disableMaximumUnselectableDays",value:function(){var e=this;this.max&&Array.from(this.dom.days).forEach((function(t){(+e.calendar.year>e.max.year||+e.calendar.year===e.max.year&&+e._getMonthNum(e.calendar.month)>e.max.month||+e.calendar.year===e.max.year&&+e._getMonthNum(e.calendar.month)===e.max.month&&+t.innerText>e.max.day)&&t.classList.add("disabled")}))}},{key:"_disableMinimumUnselectableDays",value:function(){var e=this;this.min&&Array.from(this.dom.days).forEach((function(t){(+e.calendar.year<e.min.year||+e.calendar.year===e.min.year&&+e._getMonthNum(e.calendar.month)<e.min.month||+e.calendar.year===e.min.year&&+e._getMonthNum(e.calendar.month)===e.min.month&&+t.innerText<e.min.day)&&t.classList.add("disabled")}))}},{key:"_clearRestrictionDates",value:function(){Array.from(this.dom.days).forEach((function(e){e.classList.remove("disabled")}))}},{key:"disableUnselectableDays",value:function(){this.dom.days&&(this._clearRestrictionDates(),this._disableMaximumUnselectableDays(),this._disableMinimumUnselectableDays())}}]),e}(),L=function(){function e(t){var n=this;v(this,e),this.dom={card:t},this.listeners={selectCard:function(){return n.selectCard()}}}return g(e,[{key:"init",value:function(){this._addEventListeners()}},{key:"destroy",value:function(){this._removeEventListeners()}},{key:"_addEventListeners",value:function(){this.dom.card.addEventListener("click",this.listeners.selectCard)}},{key:"_removeEventListeners",value:function(){this.dom.card.removeEventListener("click",this.listeners.selectCard)}},{key:"selectCard",value:function(){this.dom.card.classList.toggle("selected")}}]),e}(),E=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;v(this,e),this.dom={container:t,counter:t.querySelector(".carousel-counter"),prevEl:t.querySelector(".carousel-button-prev"),nextEl:t.querySelector(".carousel-button-next"),pagination:t.querySelector(".carousel-pagination"),slides:t.querySelectorAll(".carousel-slide")},this.customSettings=i?JSON.parse(JSON.stringify(i)):"",this.settings={initialSlide:this.customSettings.initialSlide||0,loop:void 0===this.customSettings.loop||this.customSettings.loop,clickablePagination:void 0===this.customSettings.clickablePagination||this.customSettings.clickablePagination,autoplay:void 0!==this.customSettings.autoplay&&this.customSettings.autoplay,autoplaySpeed:this.customSettings.autoplaySpeed||3e3},this.currentSlide=this.settings.initialSlide,this.animationRunning=!1,this.isMouseOver=!1,this.listeners={clickNext:function(){return n._nextSlide()},clickPrev:function(){return n._prevSlide()},clickPager:function(){return n._pagerClick()},mouseOver:function(){return n._mouseOver()},mouseOut:function(){return n._mouseOut()},onKeyDown:function(e){" "!==e.key&&"Enter"!==e.key||n._arrowKeyActions(e)}}}return g(e,[{key:"init",value:function(){this._render(),this._addEventListeners(),this.settings.autoplay&&this._autoplay(),this.afterInit()}},{key:"_render",value:function(){var e=this.dom.slides.length,t=this.settings.initialSlide;if((t<0||t>e-1||isNaN(t))&&(this.settings.initialSlide=0,this.currentSlide=0),this.dom.slides[this.settings.initialSlide].classList.add("active"),this.dom.prevEl&&(this.dom.prevEl.tabIndex=0,0!==this.currentSlide||this.settings.loop||(this.dom.prevEl.classList.add("disabled"),this.dom.prevEl.tabIndex=-1)),this.dom.nextEl&&(this.dom.nextEl.tabIndex=0,this.currentSlide!==e-1||this.settings.loop||(this.dom.nextEl.classList.add("disabled"),this.dom.nextEl.tabIndex=-1)),this.dom.counter){var n=this.currentSlide+1;this.dom.counter.innerHTML='\n        <span class="counter-current">'+n+'</span>/<span class="counter-total">'+e+"</span>\n      "}if(this.dom.pagination){var i=document.createElement("div");i.classList="carousel-pagination-wrap";for(var r=0;r<this.dom.slides.length;r+=1){var a=document.createElement("span");a.dataset.indexNumber=r,a.classList="carousel-pagination-bullet",this.settings.clickablePagination?(a.tabIndex=0,a.classList.add("clickable")):a.tabIndex=-1,r===this.settings.initialSlide&&a.classList.add("active"),i.appendChild(a)}this.dom.pagination.appendChild(i)}}},{key:"_addEventListeners",value:function(){var e=this;this.dom.nextEl.addEventListener("click",this.listeners.clickNext),this.dom.prevEl.addEventListener("click",this.listeners.clickPrev),this.settings.autoplay&&(this.dom.container.addEventListener("mouseover",this.listeners.mouseOver),this.dom.container.addEventListener("mouseout",this.listeners.mouseOut)),this.dom.nextEl.addEventListener("keydown",this.listeners.onKeyDown),this.dom.prevEl.addEventListener("keydown",this.listeners.onKeyDown);var t=Array.from(this.dom.pagination.querySelectorAll(".carousel-pagination-bullet"));this.listeners.clickPager=t.map((function(t){if(e.settings.clickablePagination){var n=function(){parseInt(t.dataset.indexNumber,10)!==e.currentSlide&&e._cnangeSldie(parseInt(t.dataset.indexNumber,10))};return t.addEventListener("click",n),t.addEventListener("keydown",e.listeners.onKeyDown),[t,n]}}))}},{key:"_removeEventListeners",value:function(){var e=this;this.dom.nextEl.removeEventListener("click",this.listeners.clickNext),this.dom.prevEl.removeEventListener("click",this.listeners.clickPrev),this.settings.autoplay&&(this.dom.container.removeEventListener("mouseover",this.listeners.mouseOver),this.dom.container.removeEventListener("mouseout",this.listeners.mouseOut)),this.dom.nextEl.removeEventListener("keydown",this.listeners.onKeyDown),this.dom.prevEl.removeEventListener("keydown",this.listeners.onKeyDown);var t=Array.from(this.dom.pagination.querySelectorAll(".carousel-pagination-bullet"));this.listeners.clickPager=t.map((function(t){e.settings.clickablePagination&&(t.removeEventListener("click",e.listeners.clickPager),t.removeEventListener("keydown",e.listeners.onKeyDown))}))}},{key:"_arrowKeyActions",value:function(e){e.preventDefault()," "!==e.key&&"Enter"!==e.key||this.animationRunning||e.target.click()}},{key:"_nextSlide",value:function(){!this.animationRunning&&this.dom.slides.length>1&&(this.currentSlide+1<this.dom.slides.length?this._cnangeSldie(this.currentSlide+1):this.settings.loop&&this._cnangeSldie(0))}},{key:"_prevSlide",value:function(){!this.animationRunning&&this.dom.slides.length>1&&(this.currentSlide>0?this._cnangeSldie(this.currentSlide-1):this.settings.loop&&this._cnangeSldie(this.dom.slides.length-1))}},{key:"_cnangeSldie",value:function(e){if(this.animationRunning)return!1;var t=this,n=this.dom.pagination;this.animationRunning=!0,this.dom.slides[this.currentSlide].classList.remove("active"),n.querySelector('[data-index-number="'+this.currentSlide+'"]').classList.remove("active"),t.dom.prevEl.classList.remove("disabled"),t.dom.prevEl.tabIndex=0,t.dom.nextEl.classList.remove("disabled"),t.dom.nextEl.tabIndex=0,setTimeout((function(){t.currentSlide=e,t.dom.slides[e].classList.add("active"),n.querySelector('[data-index-number="'+e+'"]').classList.add("active"),t.settings.loop||0!==t.currentSlide?t.settings.loop||t.currentSlide!==t.dom.slides.length-1||(t.dom.nextEl.classList.add("disabled"),t.dom.nextEl.tabIndex=-1):(t.dom.prevEl.classList.add("disabled"),t.dom.prevEl.tabIndex=-1),t.dom.counter&&(t.dom.counter.querySelector(".counter-current").innerHTML=e+1),t.onSlideChange()}),200),setTimeout((function(){t.animationRunning=!1}),500)}},{key:"_autoplay",value:function(){var e=this;this.isMouseOver=setInterval((function(){e.animationRunning||(e.currentSlide+1<e.dom.slides.length?e._cnangeSldie(e.currentSlide+1):e._cnangeSldie(0))}),this.settings.autoplaySpeed)}},{key:"_mouseOver",value:function(){clearInterval(this.isMouseOver)}},{key:"_mouseOut",value:function(){this._autoplay()}},{key:"destroy",value:function(){this._removeEventListeners()}},{key:"afterInit",value:function(){}},{key:"onSlideChange",value:function(){}}]),e}(),A=function(){function e(t){var n=this;v(this,e),this.dom={datepicker:t,calendar:t.querySelector(".calendar"),button:t.querySelector(".btn, .suffix"),input:t.querySelector('input[type="text"]'),days:null,hiddenInput:t.querySelector('input[type="hidden"]')},this.listeners={clickOutside:function(e){return n._hideIfClickedOutside(e)},clickDay:function(e){return n._selectDay(e)},clickButton:function(){return n._toggleCalendar()},clickInput:function(){return n._showCalendar()},onFocus:function(){return n._showCalendar()},changeInput:function(){return n._onInputChange()},keyupInput:function(e){return n._onInputKeyup(e)},resetForm:function(){return n._onResetForm()}},this.calendar=null,this.selectedDate=null}return g(e,[{key:"init",value:function(){this.calendar=new O(this.dom.calendar),this.calendar.init(),this.dom.days=this.dom.calendar.querySelectorAll("td"),this.dom.input.min&&this.setMinimumDate(this.dom.input.min),this.dom.input.max&&this.setMaximumDate(this.dom.input.max),this.dom.input.value&&this._isValidDate(this.dom.input.value)&&this._isInRange(this.dom.input.value)?this._setSelectedDate():this.dom.input.value="",this._addEventListeners()}},{key:"destroy",value:function(){this._removeEventListeners()}},{key:"_addEventListeners",value:function(){var e=this;this.dom.button.addEventListener("click",this.listeners.clickButton,!1),Array.from(this.dom.days).forEach((function(t){t.addEventListener("click",e.listeners.clickDay,!1)})),this.dom.input.addEventListener("click",this.listeners.clickInput,!1),this.dom.input.addEventListener("change",this.listeners.changeInput),this.dom.input.addEventListener("keyup",this.listeners.keyupInput),this.dom.input.addEventListener("focus",this.listeners.onFocus,!1),document.addEventListener("click",this.listeners.clickOutside,!1),document.addEventListener("keyup",this.listeners.clickOutside,!1),this.dom.input.form&&this.dom.input.form.addEventListener("reset",this.listeners.resetForm)}},{key:"_removeEventListeners",value:function(){var e=this;this.dom.button.removeEventListener("click",this.listeners.clickButton,!1),Array.from(this.dom.days).forEach((function(t){t.removeEventListener("click",e.listeners.clickDay,!1)})),this.dom.input.removeEventListener("change",this.listeners.changeInput),this.dom.input.removeEventListener("keyup",this.listeners.keyupInput),document.removeEventListener("click",this.listeners.clickOutside,!1),document.removeEventListener("keyup",this.listeners.clickOutside,!1),this.dom.input.form&&this.dom.input.form.removeEventListener("reset",this.listeners.resetForm)}},{key:"_isValidDate",value:function(e){if(!e.match(/^\d{4}-\d{2}-\d{2}$/))return!1;var t=new Date(e);return!isNaN(t.getTime())&&t.toISOString().slice(0,10)===e}},{key:"_isInRange",value:function(e){var t=!0;return this.calendar.min&&new Date(e)<new Date(this.dom.input.min)&&(t=!1),this.calendar.max&&new Date(e)>new Date(this.dom.input.max)&&(t=!1),t}},{key:"_handleDateChange",value:function(){var e=this.dom.input.value;if(10===e.length)if(this._isValidDate(e)){this.calendar.setDataCalendar(new Date(e));var t=e.split("-");this.selectedDate={year:t[0],month:t[1],day:t[2]},this._setSelectedDateCSS()}else this._correctDateFormat()}},{key:"_onInputChange",value:function(){if(!this.dom.input.value)return this._clearSelectedDate(),void(this.dom.hiddenInput.value=null);this._isValidDate(this.dom.input.value)&&this._isInRange(this.dom.input.value)?this._setSelectedDate():this.dom.input.value=this.selectedDate?"".concat(this.selectedDate.year,"-").concat(this.selectedDate.month,"-").concat(this.selectedDate.day):""}},{key:"_onInputKeyup",value:function(e){"Escape"===e.key?this._hideCalendar():10===this.dom.input.value.length?this._isValidDate(this.dom.input.value)&&this._isInRange(this.dom.input.value)&&this._setSelectedDate():0===this.dom.input.value.length&&this._clearSelectedDate()}},{key:"_onResetForm",value:function(){this.dom.hiddenInput.value=null}},{key:"_setSelectedDate",value:function(){this.calendar.setDataCalendar(new Date(this.dom.input.value));var e=this.dom.input.value.split("-");this.selectedDate={year:e[0],month:e[1],day:e[2]},this._setSelectedDateCSS()}},{key:"_clearSelectedDate",value:function(){this.selectedDate=null,this.calendar.removeAllSelectedDays()}},{key:"_correctDateFormat",value:function(){var e=new Date,t=this.calendar.formatJsDate(e).split("-");this.dom.input.value=t.join("-"),this.selectedDate={year:t[0],month:t[1],day:t[2]},this.calendar.setDataCalendar(new Date(e)),this.calendar.removeAllSelectedDays(),this._setSelectedDateCSS()}},{key:"_setSelectedDateCSS",value:function(){this.calendar.removeAllSelectedDays();var e=this.selectedDate?+this.selectedDate.day:new Date(this.dom.input.value).getDate();e=e.toString(),Array.from(this.dom.days).some((function(t){if(t.innerText===e)return t.classList.add("selected"),!0}))}},{key:"_selectDay",value:function(e){if(!e.target.classList.contains("dummy")){this.calendar.removeAllSelectedDays(),this.selectedDate={year:this.calendar.calendar.year,month:this.calendar.calendar.month,day:e.target.innerText};var t=this.calendar.formatDate(this.selectedDate);this.dom.input.value=this.dom.hiddenInput.value=t,"TD"===e.target.tagName?e.target.classList.add("selected"):e.target.parentNode.classList.add("selected"),this.dom.input.dispatchEvent(new Event("change")),this._hideCalendar()}}},{key:"_hideCalendar",value:function(){this.dom.calendar.classList.add("closed")}},{key:"_showCalendar",value:function(){this.calendar.disableUnselectableDays(),this.dom.calendar.classList.remove("closed")}},{key:"_toggleCalendar",value:function(){this.dom.calendar.classList.contains("closed")?this._showCalendar():this._hideCalendar();var e=this.dom.input.value;e&&this._isValidDate(e)&&this._isInRange(e)&&(this.calendar.setDataCalendar(new Date(e)),this._setSelectedDateCSS())}},{key:"_hideIfClickedOutside",value:function(e){var t=e.target;this.dom.datepicker.contains(t)||this._hideCalendar()}},{key:"setMaximumDate",value:function(e){this.calendar.setMaximumDate(e)}},{key:"setMinimumDate",value:function(e){this.calendar.setMinimumDate(e)}}]),e}(),C=function(){function e(t){var n=this;v(this,e),this.dom={dialog:t,content:t.querySelector(".content"),id:t.id,closeButtons:[],focusableElements:[]},this.type=t.dataset.type,this.trigger=t.dataset.trigger,this.events={closeDialogEvent:new CustomEvent("DialogClose",{detail:{id:this.dom.id}}),showDialogEvent:new CustomEvent("DialogShow",{detail:{id:this.dom.id}})},this.listeners={show:function(){return n.show()},hide:function(){return n.hide()},triggerDialog:function(e){return n._triggerDialog(e)},keydown:function(e){if("Escape"===e.key&&n.dom.dialog.classList.contains("show")&&"INPUT"!==e.target.tagName.toUpperCase()&&n.hide(),"Tab"===e.key){var t=n.dom.focusableElements[0],i=n.dom.focusableElements[n.dom.focusableElements.length-1];e.shiftKey?e.target===t&&(i.focus(),e.preventDefault()):e.target===i&&(t.focus(),e.preventDefault())}}}}return g(e,[{key:"init",value:function(){this._getCloseButtons(),this._getFocusableElements(),this._addEventListeners()}},{key:"destroy",value:function(){this._removeEventListeners()}},{key:"_addEventListeners",value:function(){var e=this;this.trigger?document.querySelector(this.trigger).addEventListener("click",this.listeners.show):this.dom.dialog.addEventListener("triggerDialog",this.listeners.triggerDialog);this.dom.closeButtons.forEach((function(t){t.addEventListener("click",e.listeners.hide)})),document.addEventListener("keydown",this.listeners.keydown)}},{key:"_removeEventListeners",value:function(){var e=this;this.trigger?document.querySelector(this.trigger).removeEventListener("click",this.listeners.show):this.dom.dialog.removeEventListener("triggerDialog",this.listeners.triggerDialog);this.dom.closeButtons.forEach((function(t){t.removeEventListener("click",e.listeners.hide)})),document.removeEventListener("keydown",this.listeners.keydown)}},{key:"show",value:function(){this.dom.dialog.classList.add("show"),this.dom.dialog.dispatchEvent(this.events.showDialogEvent)}},{key:"hide",value:function(){this.dom.dialog.classList.remove("show"),this.dom.dialog.dispatchEvent(this.events.closeDialogEvent)}},{key:"_getCloseButtons",value:function(){var e,t=f(this.dom.dialog.querySelectorAll("[data-close]"));try{for(t.s();!(e=t.n()).done;){var n=e.value;this.dom.closeButtons.push(n)}}catch(e){t.e(e)}finally{t.f()}}},{key:"_getFocusableElements",value:function(){this.dom.focusableElements=this.dom.dialog.querySelectorAll('a[href], area[href], button:not([disabled]),\n      input:not([disabled]), select:not([disabled]), textarea:not([disabled]),\n      iframe, object, embed, *[tabindex]:not([tabindex="-1"]), *[contenteditable]')}},{key:"_triggerDialog",value:function(e){e.detail.id===this.dom.id&&this.show()}}]),e}(),T=function(){function e(){v(this,e)}return g(e,null,[{key:"setContainers",value:function(e){j(e);for(var t=0;t<e.length;t+=1)e[t].addEventListener("touchmove",(function(e){return e.preventDefault()}))}}]),e}(),D=function(){function e(t){v(this,e),this.dom={dropAreas:t}}return g(e,[{key:"init",value:function(){this.initEmptyStates(),this.dragBehavior(),this.fixForTouchScreen()}},{key:"initEmptyStates",value:function(){for(var e=0;e<this.dom.dropAreas.length;e+=1){var t=this.dom.dropAreas[e];0===this.cardsIn(t)&&this.showEmptyState(t)}}},{key:"dragBehavior",value:function(){var e,t=this;j(this.dom.dropAreas).on("over",(function(n,i){e||(e=i),e!==i&&(t.showDropOver(i),t.hideDropOver(e),0===t.cardsIn(i)&&t.hideEmptyState(i),1===t.cardsIn(e)&&t.showEmptyState(e),e=i)})).on("drop",(function(n,i){t.hideDropOver(i),e=null})).on("cancel",(function(n,i){t.hideDropOver(i),e=null}))}},{key:"cardsIn",value:function(e){return Array.from(e.querySelectorAll(".card")).length}},{key:"showEmptyState",value:function(e){try{e.querySelector(".empty-state").classList.add("visible")}catch(e){this.emptyStateNotFound()}}},{key:"hideEmptyState",value:function(e){try{e.querySelector(".empty-state").classList.remove("visible")}catch(e){this.emptyStateNotFound()}}},{key:"emptyStateNotFound",value:function(){console.error("No empty-state element found! You have to add one to your drop-area. Check EDS documentation for more info.")}},{key:"showDropOver",value:function(e){e.classList.add("drop-over")}},{key:"hideDropOver",value:function(e){e.classList.remove("drop-over")}},{key:"fixForTouchScreen",value:function(){for(var e=0;e<this.dom.dropAreas.length;e+=1)this.dom.dropAreas[e].addEventListener("touchmove",(function(e){return e.preventDefault()}))}}]),e}(),I=function(){function e(t){v(this,e),this.dom={menu:t,items:t.querySelectorAll(".item")}}return g(e,[{key:"init",value:function(){}},{key:"toggle",value:function(){this.dom.menu.classList.contains("visible")?this.hide():this.show()}},{key:"show",value:function(){var e=this.dom.menu.parentElement.classList;e.contains("dropdown")&&e.add("open"),this.dom.menu.classList.add("visible")}},{key:"hide",value:function(){var e=this.dom.menu.parentElement.classList;e.contains("dropdown")&&e.remove("open"),this.dom.menu.classList.remove("visible")}}]),e}(),N=function(){function e(t){var n=this;v(this,e),this.dom={dropdown:t,button:t.querySelector(".btn, .clickable"),extraButton:t.querySelector(".extra"),menu:t.querySelector(".menu"),items:t.querySelectorAll(".item:not(.disabled):not([disabled]):not(.header)")},this.listeners={dropdownKeydown:function(e){"ArrowUp"!==e.key&&"ArrowDown"!==e.key&&"Enter"!==e.key&&" "!==e.key||e.preventDefault()," "===e.key&&n.dom.dropdown.classList.contains("open")&&n.dom.menu.querySelector(".highlight")&&e.preventDefault(),n._arrowKeyActions(e)},toggleMenu:function(){return n.menu.toggle()},hideMenu:function(){n.menu.hide(),n._removeOptionsHighlight()},clickOutside:function(e){return n._hideIfClickedOutside(e)}},this.highlightIndex=-1,this.type=t.getAttribute("data-type")||"click",this.isDisabled=null!==this.dom.dropdown.getAttribute("disabled")}return g(e,[{key:"init",value:function(){this.dom.menu&&(this.menu=new I(this.dom.menu),this.menu.init()),this.isDisabled&&this._setDisabled(),this._addEventListeners()}},{key:"destroy",value:function(){this._removeEventListeners()}},{key:"_addEventListeners",value:function(){switch(this.type){case"click":this.dom.button.addEventListener("click",this.listeners.toggleMenu),this.dom.menu.addEventListener("click",this.listeners.hideMenu),this.dom.dropdown.addEventListener("keydown",this.listeners.dropdownKeydown);break;case"divided":this.dom.extraButton.addEventListener("click",this.listeners.toggleMenu),this.dom.menu.addEventListener("click",this.listeners.hideMenu),this.dom.button.addEventListener("click",this.listeners.hideMenu),this.dom.extraButton.addEventListener("keydown",this.listeners.dropdownKeydown)}document.addEventListener("click",this.listeners.clickOutside),document.addEventListener("keyup",this.listeners.clickOutside)}},{key:"_removeEventListeners",value:function(){switch(this.type){case"click":this.dom.button.removeEventListener("click",this.listeners.toggleMenu),this.dom.menu.removeEventListener("click",this.listeners.hideMenu),this.dom.dropdown.removeEventListener("keydown",this.listeners.dropdownKeydown);break;case"divided":this.dom.extraButton.removeEventListener("click",this.listeners.toggleMenu),this.dom.menu.removeEventListener("click",this.listeners.hideMenu),this.dom.button.removeEventListener("click",this.listeners.hideMenu),this.dom.extraButton.removeEventListener("keydown",this.listeners.dropdownKeydown)}document.removeEventListener("click",this.listeners.clickOutside),document.addEventListener("keyup",this.listeners.clickOutside)}},{key:"_setDisabled",value:function(){this.dom.button&&this.dom.button.setAttribute("disabled","disabled"),this.dom.extraButton&&this.dom.extraButton.setAttribute("disabled","disabled")}},{key:"_hideIfClickedOutside",value:function(e){var t=e.target;this.dom.dropdown.contains(t)||this.menu.hide()}},{key:"_arrowKeyActions",value:function(e){var t=this.dom.items.length-1;switch(e.key){case"Escape":this.menu.hide(),this._removeOptionsHighlight();break;case"ArrowDown":this.highlightIndex>=t?this.highlightIndex=0:this.highlightIndex+=1;break;case"ArrowUp":this.highlightIndex<=0?this.highlightIndex=t:this.highlightIndex-=1;break;case"Enter":case" ":this.dom.dropdown.classList.contains("open")&&this.dom.menu.querySelector(".highlight")?this.dom.menu.querySelector(".highlight").click():this.dom.button.classList.contains("disabled")||this.menu.toggle(),this._removeOptionsHighlight()}this._highlightOptions()}},{key:"_highlightOptions",value:function(){for(var e=this.dom.items,t=0;t<e.length;t+=1)e[t].classList.remove("highlight"),t===this.highlightIndex&&e[t].classList.add("highlight")}},{key:"_removeOptionsHighlight",value:function(){this.highlightIndex=-1;for(var e=this.dom.items.length,t=0;t<e;t+=1)this.dom.items[t].classList.remove("highlight");this.dom.menu.scrollTop=0}}]),e}(),z=function(){function e(t){var n=this;v(this,e),this.dom={group:t,buttons:t.querySelectorAll(".btn")},this.listeners={click:function(e){return n._toggle(e)}}}return g(e,[{key:"init",value:function(){this._addEventListeners()}},{key:"destroy",value:function(){this._removeEventListeners()}},{key:"_addEventListeners",value:function(){this.dom.group.addEventListener("click",this.listeners.click)}},{key:"_removeEventListeners",value:function(){this.dom.group.removeEventListener("click",this.listeners.click)}},{key:"_toggle",value:function(e){e.target.classList.contains("btn")&&this.dom.buttons.forEach((function(t){return t.classList[e.target===t?"toggle":"remove"]("active")}))}}]),e}(),q=function(){function e(t){v(this,e),this.dom={app:t,appbar:t.querySelector(".appbar"),appnav:t.querySelector(".appnav")},this.appbar=new S(this.dom.appbar),this.appnav=new P(this.dom.appnav),this.listeners={toggle:this.toggle.bind(this)}}return g(e,[{key:"init",value:function(){this.enforceTheme(),this.appbar.init(),this.appnav.init(),this.addEventListeners()}},{key:"destroy",value:function(){this.removeEventListeners(),this.appbar.destroy(),this.appnav.destroy()}},{key:"enforceTheme",value:function(){var e=localStorage.getItem("theme"),t=document.body.classList;e?t.add(e):t.contains("dark")||t.contains("light")||t.add("light")}},{key:"addEventListeners",value:function(){window.addEventListener("SyspanelOpenEvent",this.listeners.toggle),window.addEventListener("SyspanelCloseEvent",this.listeners.toggle)}},{key:"removeEventListeners",value:function(){window.removeEventListener("SyspanelOpenEvent",this.listeners.toggle),window.removeEventListener("SyspanelCloseEvent",this.listeners.toggle)}},{key:"toggle",value:function(){this.dom.app.classList.contains("slide-left")?this.slideRight():this.slideLeft()}},{key:"toggleNavigation",value:function(e){this.appbar._toggleNavigation(e)}},{key:"isNavigationOpen",value:function(){return this.appbar._isNavigationOpen()}},{key:"slideLeft",value:function(){this.dom.app.classList.add("slide-left"),this.dom.app.classList.remove("slide-right")}},{key:"slideRight",value:function(){this.dom.app.classList.add("slide-right"),this.dom.app.classList.remove("slide-left")}}]),e}(),R=function(){function e(t){v(this,e),this.dom={syspanel:t,syspanelCloseIcons:t.querySelectorAll(".syspanel-close"),items:t.children},this.listeners={toggleSyspanel:this.toggle.bind(this),pageClick:this.pageClickHandler.bind(this),closeIconClickHandler:this.close.bind(this)},this.events={SyspanelOpenEvent:new CustomEvent("SyspanelOpenEvent"),SyspanelCloseEvent:new CustomEvent("SyspanelCloseEvent"),SyspanelTabEvent:new CustomEvent("SyspanelTabEvent")}}return g(e,[{key:"init",value:function(){this.addEventListeners()}},{key:"destroy",value:function(){this.removeEventListerners()}},{key:"addEventListeners",value:function(){var e=this;window.addEventListener("toggleSyspanel",this.listeners.toggleSyspanel),Array.from(this.dom.syspanelCloseIcons).forEach((function(t){t.addEventListener("click",e.listeners.closeIconClickHandler)}))}},{key:"removeEventListerners",value:function(){var e=this;window.removeEventListener("toggleSyspanel",this.listeners.toggleSyspanel),Array.from(this.dom.syspanelCloseIcons).forEach((function(t){t.removeEventListener("click",e.listeners.closeIconClickHandler)})),window.removeEventListener("click",this.listeners.pageClick,!0)}},{key:"toggle",value:function(e){var t=e.detail;this.isHidden(this.dom.syspanel)?(this.show(t),this.hideAllExcept(t),this.open()):this.isHidden(t)?(this.show(t),this.hideAllExcept(t),this.tabEvent()):this.close()}},{key:"open",value:function(){this.show(this.dom.syspanel),this.openEvent()}},{key:"close",value:function(){this.hide(this.dom.syspanel),this.closeEvent()}},{key:"isHidden",value:function(e){return e.classList.contains("hidden")}},{key:"hide",value:function(e){e.classList.add("hidden")}},{key:"show",value:function(e){e.classList.remove("hidden")}},{key:"hideAllExcept",value:function(e){var t=this;Array.from(this.dom.items).forEach((function(n){n!==e&&t.hide(n)}))}},{key:"openEvent",value:function(){window.addEventListener("click",this.listeners.pageClick,!0),window.dispatchEvent(this.events.SyspanelOpenEvent)}},{key:"closeEvent",value:function(){window.removeEventListener("click",this.listeners.pageClick,!0),window.dispatchEvent(this.events.SyspanelCloseEvent)}},{key:"tabEvent",value:function(){window.dispatchEvent(this.events.SyspanelTabEvent)}},{key:"pageClickHandler",value:function(e){document.querySelector(".sysbar").contains(e.target)||this.dom.syspanel.contains(e.target)||this.close()}}]),e}(),B=function(){function e(t){v(this,e),this.dom={sysbar:t,items:t.querySelectorAll(".item")},this.listeners={click:this.toggleSyspanel.bind(this)},this.events={toggleSyspanel:new CustomEvent("toggleSyspanel",{detail:document.querySelector(".settings")})}}return g(e,[{key:"init",value:function(){this.addEventListeners()}},{key:"destroy",value:function(){this.removeEventListeners()}},{key:"addEventListeners",value:function(){var e=this;Array.from(this.dom.items).forEach((function(t){t.classList.contains("settings-trigger")&&t.addEventListener("click",e.listeners.click)}))}},{key:"removeEventListeners",value:function(){var e=this;Array.from(this.dom.items).forEach((function(t){t.classList.contains("settings-trigger")&&t.removeEventListener("click",e.listeners.click)}))}},{key:"toggleSyspanel",value:function(){window.dispatchEvent(this.events.toggleSyspanel)}}]),e}(),F=480,H=768,W=function(){function e(t){var n=this;v(this,e),this.dom={body:t,app:t.querySelector(".app"),appnav:t.querySelector(".appnav"),syspanel:t.querySelector(".syspanel"),sysbar:t.querySelector(".sysbar")},this.app=new q(this.dom.app),this.syspanel=new R(this.dom.syspanel),this.sysbar=new B(this.dom.sysbar),this.listeners={resize:function(){return n._setContentBehavior()},navClick:function(e){return n._navClick(e)}},this.events={showNavigation:new CustomEvent("showNavigation"),hideNavigation:new CustomEvent("hideNavigation"),toggleNavigation:new CustomEvent("toggleNavigation")}}return g(e,[{key:"init",value:function(){this.app.init(),this.syspanel.init(),this.sysbar.init(),this._addEventListeners(),this._setContentBehavior()}},{key:"destroy",value:function(){this._removeEventListeners(),this.app.destroy(),this.syspanel.destroy(),this.sysbar.destroy()}},{key:"toggleNavigation",value:function(){this.app.toggleNavigation()}},{key:"openNavigation",value:function(e){this.app.toggleNavigation(e)}},{key:"isNavigationOpen",value:function(){return this.app.isNavigationOpen()}},{key:"_addEventListeners",value:function(){window.addEventListener("resize",this.listeners.resize),this.dom.appnav.addEventListener("click",this.listeners.navClick)}},{key:"_removeEventListeners",value:function(){window.removeEventListener("resize",this.listeners.resize),this.dom.appnav.removeEventListener("click",this.listeners.navClick)}},{key:"_setContentBehavior",value:function(){var e=window.outerWidth;e<=F||e<=H?document.dispatchEvent(this.events.hideNavigation):window.localStorage.getItem("navClosed")||document.dispatchEvent(this.events.showNavigation)}},{key:"_navClick",value:function(e){window.outerWidth<=F&&"A"===e.target.tagName&&document.dispatchEvent(this.events.hideNavigation)}}]),e}(),Z=function(){function e(t){var n=this;v(this,e),this.dom={multiPanelTile:t,leftPanel:t.querySelector(".left-panel"),midPanel:t.querySelector(".mid-panel"),rightPanel:t.querySelector(".right-panel"),leftPanelTriggers:t.querySelectorAll(".left-panel-trigger"),rightPanelTriggers:t.querySelectorAll(".right-panel-trigger")},this.listeners={toggleLeftPanel:function(){n._togglePanel(n.dom.leftPanel),n._updatePanelBehavior()},toggleRightPanel:function(){n._togglePanel(n.dom.rightPanel),n._updatePanelBehavior()},updatePanelBehavior:function(){return n._updatePanelBehavior()}},this.flags={panelLeft:!1,panelRight:!1}}return g(e,[{key:"init",value:function(){this._addEventListeners(),this._updatePanelBehavior()}},{key:"destroy",value:function(){this._removeEventListeners()}},{key:"_addEventListeners",value:function(){var e=this;Array.from(this.dom.leftPanelTriggers).forEach((function(t){t.addEventListener("click",e.listeners.toggleLeftPanel)})),Array.from(this.dom.rightPanelTriggers).forEach((function(t){t.addEventListener("click",e.listeners.toggleRightPanel)})),window.addEventListener("resize",this.listeners.updatePanelBehavior)}},{key:"_removeEventListeners",value:function(){var e=this;Array.from(this.dom.leftPanelTriggers).forEach((function(t){t.removeEventListener("click",e.listeners.toggleLeftPanel)})),Array.from(this.dom.rightPanelTriggers).forEach((function(t){t.removeEventListener("click",e.listeners.toggleRightPanel)})),window.removeEventListener("resize",this.listeners.updatePanelBehavior)}},{key:"_isPanelClosed",value:function(e){return e.classList.contains("hidden")}},{key:"_togglePanel",value:function(e){this._isPanelClosed(e)?this._showPanel(e):this._hidePanel(e)}},{key:"_showPanel",value:function(e){e.classList.contains("left-panel")&&(this.flags.panelLeft=!0),e.classList.contains("right-panel")&&(this.flags.panelRight=!0),e.classList.remove("hidden")}},{key:"_hidePanel",value:function(e){e.classList.add("hidden")}},{key:"_updatePanelBehavior",value:function(){var e=this.dom.leftPanel,t=this.dom.midPanel,n=this.dom.rightPanel,i=document.body.offsetWidth;i<769?(this._isPanelClosed(e)||this._isPanelClosed(n)||(this._hidePanel(e),this._hidePanel(t)),this._isPanelClosed(e)&&this._isPanelClosed(n)&&this._showPanel(t),!this._isPanelClosed(e)&&this._isPanelClosed(n)&&(this._hidePanel(t),this._showPanel(e)),this._isPanelClosed(e)&&!this._isPanelClosed(n)&&(this._hidePanel(t),this._showPanel(n))):i<1201?(this._showPanel(t),this._isPanelClosed(e)||this._isPanelClosed(n)||(this.flags.panelLeft?this._hidePanel(n):this._hidePanel(e),this.flags.panelRight&&(this._hidePanel(e),this._showPanel(n)))):this._showPanel(t),this.flags.panelLeft=!1,this.flags.panelRight=!1}}]),e}(),V=function(){function e(t){var n=this;v(this,e),this.dom={notification:null,close:null},this.props=t||{title:"No notification title",description:""},this.listeners={click:function(e){return n._handleClick(e)},keyDown:function(e){return n._closeOnKeyDown(e)}}}return g(e,[{key:"init",value:function(){this._createNotification(),this._addEventListeners()}},{key:"destroy",value:function(){this._removeEventListeners()}},{key:"_addEventListeners",value:function(){this.dom.notification.addEventListener("click",this.listeners.click),window.addEventListener("keydown",this.listeners.keyDown)}},{key:"_removeEventListeners",value:function(){this.dom.notification&&this.dom.notification.parentNode&&(this.dom.notification.removeEventListener("click",this.listeners.click),window.removeEventListener("keydown",this.listeners.keyDown),this.dom.notification.parentNode.removeChild(this.dom.notification))}},{key:"getNotification",value:function(){return this.dom.notification}},{key:"_createNotification",value:function(){var e=this,t=document.querySelector(".notifications-wrapper");t||((t=document.createElement("div")).classList.add("notifications-wrapper"),document.body.appendChild(t)),this.dom.notification=document.createElement("div"),this.dom.notification.classList.add("notification");var n=document.createElement("div");n.classList.add("top-row");var i=document.createElement("div");i.classList.add("title"),i.innerText=this.props.title,n.appendChild(i);var r=document.createElement("i");if(r.className="icon icon-cross close",n.appendChild(r),this.dom.notification.appendChild(n),this.props.icon){var a=document.createElement("i");a.classList.add("icon",this.props.icon),i.insertBefore(a,i.childNodes[0])}if(this.props.stripeColor&&this.dom.notification.classList.add("stripe-".concat(this.props.stripeColor)),this.props.isBanner&&this.dom.notification.classList.add("banner"),this.props.description){var s=document.createElement("div");s.classList.add("description"),s.innerText=this.props.description,this.dom.notification.appendChild(s)}if(this.dom.close=r,this.props.isBanner){var o=document.getElementById("app"),l=document.querySelector(".appbar");o.insertBefore(this.dom.notification,l)}else t.appendChild(this.dom.notification),setTimeout((function(){e.dom.notification.classList.add("live")}),10),this.props.timeout&&setTimeout((function(){e.destroy()}),this.props.timeout)}},{key:"_handleClick",value:function(e){var t=e.target;t!==this.dom.close&&this.props.action?this.props.action():t.matches(".icon-cross")&&this.destroy()}},{key:"_closeOnKeyDown",value:function(e){"Escape"===e.key&&this._handleClick(this.dom.notification)}}]),e}(),U={init:function(){var e=this;this.dom={notificationLog:document.querySelector(".notification-log"),notificationLogContainer:document.querySelector(".notification-log-container"),notificationLogTrigger:document.querySelector(".notification-log-trigger"),notificationLogNumber:document.querySelector(".notification-log-number"),notificationLogEmpty:document.querySelector(".notification-log-empty")},this.state={isNew:0,seen:!1,notifications:[],notificationsDOM:[],liveNotifications:new Map},this.listeners={clickTrigger:function(){return e._clickTrigger()},SyspanelOpenEvent:function(){return e._removeLiveNotifications()},SyspanelTabEvent:function(){return e._clearAllNotifications()},SyspanelCloseEvent:function(){return e._clearAllNotifications()},onLiveNotificationClick:function(t){return e._clearNotification(t)}},this.events={toggleSyspanel:new CustomEvent("toggleSyspanel",{detail:this.dom.notificationLog}),NotificationLogCounterUpdate:new CustomEvent("NotificationLogCounterUpdate")},this.notificationTimeout=1e4,this._addEventListeners()},destroy:function(){this._removeEventListeners()},_addEventListeners:function(){this.dom.notificationLogTrigger.addEventListener("click",this.listeners.clickTrigger),window.addEventListener("SyspanelOpenEvent",this.listeners.SyspanelOpenEvent),window.addEventListener("SyspanelTabEvent",this.listeners.SyspanelTabEvent),window.addEventListener("SyspanelCloseEvent",this.listeners.SyspanelCloseEvent)},_removeEventListeners:function(){this.dom.notificationLogTrigger.removeEventListener("click",this.listeners.clickTrigger),window.removeEventListener("SyspanelOpenEvent",this.listeners.SyspanelOpenEvent),window.removeEventListener("SyspanelTabEvent",this.listeners.SyspanelTabEvent),window.removeEventListener("SyspanelCloseEvent",this.listeners.SyspanelCloseEvent),this.state.notificationsDOM.forEach((function(e){e.removeAllListeners()}))},setNotification:function(e){e.isNew=!0,this.state.isNew+=1,this.state.notifications.push(e),this._showLiveNotification(e),this._prependToLog(e),this._updateCounter(),this._removeEmptyMessage()},loadNotificationLog:function(e){var t=this;e.forEach((function(e){e.isNew&&(t.state.isNew+=1,t._showLiveNotification(e)),t.state.notifications.push(e),t._prependToLog(e)})),this._updateCounter(),this._removeEmptyMessage()},getNotifications:function(){return this.state.notifications},setNotificationTimeout:function(e){this.notificationTimeout=e},_showLiveNotification:function(e){var t=this;if(document.querySelector(".syspanel").classList.contains("hidden")){var n=new V({title:e.title,description:e.description,icon:e.icon,stripeColor:e.stripeColor,action:e.action,isBanner:e.isBanner,timeout:this.notificationTimeout});n.init();var i=document.querySelectorAll(".notification-log-container .notification-log-item").length;this.state.liveNotifications.set(i,n),n.getNotification().dataset.index=i.toString(),n.getNotification().addEventListener("click",this.listeners.onLiveNotificationClick),setTimeout((function(){n.getNotification().removeEventListener("click",t.listeners.onLiveNotificationClick),t.state.liveNotifications.delete(i)}),this.notificationTimeout)}},_removeLiveNotifications:function(){var e=this;this.state.liveNotifications.size&&this.state.liveNotifications.forEach((function(t,n){t.destroy(),e.state.liveNotifications.delete(n)}))},_prependToLog:function(e){var t=this,n=document.createElement("div");n.classList.add("notification-log-item"),e.isNew&&n.classList.add("new");var i=document.createElement("div");if(i.classList.add("title"),i.innerText=e.title,n.appendChild(i),e.icon){var r=document.createElement("i");r.classList.add("icon",e.icon),i.insertBefore(r,i.childNodes[0])}var a=document.createElement("div");a.classList.add("description"),a.innerText=e.description,n.appendChild(a);var s=document.createElement("span");s.classList.add("notification-log-item-time"),s.innerText=this._getRelativeTime(new Date(e.timestamp)),n.appendChild(s),n.dataset.timestamp=e.timestamp,this.state.notificationsDOM.push(n);var o=document.querySelector(".notification-log-container");n.dataset.index=o.querySelectorAll(".notification-log-item").length,o.insertBefore(n,o.firstChild),e.action&&n.addEventListener("click",(function(){window.dispatchEvent(t.events.toggleSyspanel),setTimeout((function(){e.action()}),250)}))},_updateCounter:function(){window.dispatchEvent(this.events.NotificationLogCounterUpdate),this.dom.notificationLogNumber.innerHTML=this.state.isNew;var e="has-notification",t="no-notification";0===this.state.isNew?this.dom.notificationLogTrigger.classList.contains(e)&&(this.dom.notificationLogTrigger.classList.remove(e),this.dom.notificationLogTrigger.classList.add(t)):(document.querySelector(".syspanel").classList.contains("hidden")&&(this.seen=!1),this.dom.notificationLogTrigger.classList.remove(t),this.dom.notificationLogTrigger.classList.add(e))},_markAsSeen:function(e){e.classList.contains("new")&&(e.classList.remove("new"),this.state.notifications[e.dataset.index].isNew=!1)},_markAllAsSeen:function(){for(var e=0;e<this.state.notificationsDOM.length;e+=1)this._markAsSeen(this.state.notificationsDOM[e])},_clickTrigger:function(){window.dispatchEvent(this.events.toggleSyspanel),this.seen=!0,this._updateTimes()},_clearNotification:function(e){this.state.isNew-=1,this._updateCounter();var t=e.target.closest(".notification");t.removeEventListener("click",this.listeners.onLiveNotificationClick);var n=+t.dataset.index;this.state.liveNotifications.delete(n),this._markAsSeen(this.state.notificationsDOM[n])},_clearAllNotifications:function(){this.seen&&(this.state.isNew=0,this.seen=!1,this._updateCounter(),this._markAllAsSeen())},_removeEmptyMessage:function(){this.dom.notificationLogEmpty.classList.add("hidden")},_getRelativeTime:function(e){var t=6e4,n=36e5,i=864e5,r=2592e6,a=31536e6,s=Date.now()-e.getTime();return s<t?"":s<n?Math.round(s/t)+" m":s<i?Math.round(s/n)+" h":s<r?Math.round(s/i)+" d":s<a?Math.round(s/r)+" mo":Math.round(s/a)+" y"},_updateTimes:function(){for(var e=0;e<this.state.notificationsDOM.length;e+=1){var t=this.state.notificationsDOM[e];t.querySelector(".notification-log-item-time").innerHTML=this._getRelativeTime(new Date(t.dataset.timestamp))}}},Y=function(){function e(t){var n=this;v(this,e),this.dom={tile:t,header:t.querySelector(".header"),actions:t.querySelectorAll(".header .action"),id:t.id},this.events={maximizeTile:new CustomEvent("maximizeTile",{detail:{id:this.dom.id,message:"tile maximized"},bubbles:!1,cancelable:!0}),minimizeTile:new CustomEvent("minimizeTile",{detail:{id:this.dom.id,message:"tile minimize"},bubbles:!0,cancelable:!0})},this.listeners={show:function(){return n.show()},toggleFullScreen:[]}}return g(e,[{key:"init",value:function(){this._addEventListeners()}},{key:"destroy",value:function(){this._removeEventListeners()}},{key:"_addEventListeners",value:function(){var e=this,t=this.dom.actions;t&&Array.from(t).forEach((function(t,n){if("maximize"===t.dataset.type){var i=function(){return e._toggleFullScreen(t)};t.addEventListener("click",i),e.listeners.toggleFullScreen[n]=i}})),this.dom.tile.addEventListener("minimizeTile",this.listeners.show)}},{key:"_removeEventListeners",value:function(){var e=this,t=this.dom.actions;t&&(Array.from(t).forEach((function(t,n){"maximize"===t.dataset.type&&t.removeEventListener("click",e.listeners.toggleFullScreen[n])})),this.listeners.toggleFullScreen=[]),this.dom.tile.removeEventListener("minimizeTile",this.listeners.show)}},{key:"_toggleFullScreen",value:function(e){this.dom.tile.classList.contains("fullscreen")?this._minimize(e):this._maximize(e)}},{key:"_maximize",value:function(e){this._setTooltipMessage(e,"Minimize tile"),this.dom.tile.classList.add("fullscreen");var t=e.querySelector(".icon");t.classList.add("icon-minimize"),t.classList.remove("icon-maximize"),window.document.dispatchEvent(this.events.maximizeTile)}},{key:"_minimize",value:function(e){this._setTooltipMessage(e,"Maximize tile"),this.dom.tile.classList.remove("fullscreen");var t=e.querySelector(".icon");t.classList.remove("icon-minimize"),t.classList.add("icon-maximize"),window.document.dispatchEvent(this.events.minimizeTile)}},{key:"_setTooltipMessage",value:function(e,t){e.querySelector(".tooltip .message").innerText=t}},{key:"show",value:function(){this.dom.tile.classList.remove("hidden")}},{key:"hide",value:function(){this.dom.tile.classList.add("hidden")}},{key:"hideNotSelf",value:function(e){e.detail.id!==this.dom.id&&this.dom.hide()}}]),e}(),G=function(){function e(){var t=this;v(this,e),this.dom={page:document,tiles:document.querySelectorAll(".tile")},this.listeners={maximize:function(e){return t._hideNotSelf(e)},minimize:function(e){return t._showAll(e)}},this.tiles=[]}return g(e,[{key:"init",value:function(){var e=this;this.dom.tiles&&Array.from(this.dom.tiles).forEach((function(t){var n=new Y(t);n.init(),e.tiles.push(n)})),this._addEventListeners()}},{key:"destroy",value:function(){this.tiles&&this.tiles.forEach((function(e){e.destroy()})),this._removeEventListeners()}},{key:"_addEventListeners",value:function(){this.dom.page.addEventListener("maximizeTile",this.listeners.maximize),this.dom.page.addEventListener("minimizeTile",this.listeners.minimize)}},{key:"_removeEventListeners",value:function(){this.dom.page.removeEventListener("maximizeTile",this.listeners.maximize),this.dom.page.removeEventListener("minimizeTile",this.listeners.minimize)}},{key:"_showAll",value:function(e){this.tiles.forEach((function(e){e.show()})),e.detail.id&&this._scrollToTile(e.detail.id),window.dispatchEvent(new Event("resize"))}},{key:"_hideNotSelf",value:function(e){this.tiles.forEach((function(t){t.dom.id!==e.detail.id&&t.hide()})),window.dispatchEvent(new Event("resize"))}},{key:"_scrollToTile",value:function(e){var t=this.dom.page.querySelector("#".concat(e));t&&t.scrollIntoView()}}]),e}(),X=function(){function e(t){var n=this;v(this,e),this.dom={select:t,current:t.querySelector(".current-options"),input:t.querySelector(".current-options").children[0],selectOptions:t.querySelector(".options-list"),items:t.querySelectorAll(".item"),form:null},this.events={singleOption:new CustomEvent("singleOption",{detail:{selectedOptions:this.selectedOptions}})},this.listeners={singleCurrentClick:function(){return n._toggleSelectOpt()},singleSelectOptionsClick:function(e){return n._onOptionClick(e)},singleSelectKeydown:function(e){return n._arrowKeyActions(e)},multiCurrentClick:function(){return n._toggleSelectOpt()},multiSelectOptionsChange:function(e){return n._onOptionClick(e)},multiSelectKeydown:function(e){return n._arrowKeyActions(e)},multiPillsCurrentClick:function(){return n._toggleSelectOpt()},multiPillsSelectOptionsChange:function(e){return n._onOptionClick(e)},multiPillsSelectQuerySelectorClick:function(e){return n._onPillClick(e.target)},multiPillsSelectKeydown:function(e){return n._arrowKeyActions(e)},inputSingleSelectOptionsClick:function(e){return n._onOptionClick(e)},inputSingleInputClick:function(){n.dom.select.classList.add("open"),n.dom.select.classList.remove("closed")},inputSingleInputKeyup:function(){return n._filterOptions()},inputSingleSelectKeyup:function(e){return n._arrowKeyActions(e)},inputSingleIconClick:function(){n.dom.select.classList.toggle("open"),n.dom.select.classList.toggle("closed")},inputMultiInputClick:function(){n.dom.select.classList.add("open"),n.dom.select.classList.remove("closed")},inputMultiSelectOptionsChange:function(e){return n._onOptionClick(e)},inputMultiInputKeyup:function(e){return n._filterOptions(e)},inputMultiSelectQuerySelectorClick:function(e){return n._onPillClick(e.target)},inputMultiSelectKeyup:function(e){return n._arrowKeyActions(e)},inputMultiIconClick:function(){n.dom.select.classList.toggle("open"),n.dom.select.classList.toggle("closed")},scroll:function(){n.dom.select.classList.contains("open")&&n._optionsListPosition(n.dom.select)},clickedOutside:function(e){var t=e.target;n.dom.select.contains(t)||n._hideSelectOpt()},resetForm:function(){return n._onResetForm()}},this.type=this.dom.select.getAttribute("data-type")||void 0,this.highlightIndex=-1,this.selectedOptions=[],this.filteredOptions=[]}return g(e,[{key:"init",value:function(){var e=this;this.dom.form=this.dom.input?this.dom.input.form:this.dom.current.form,this._render(),this._disableState(),this._addEventListeners(),Array.from(this.dom.selectOptions.querySelectorAll(".item.active")).forEach((function(t){e._selectOption(t)}))}},{key:"destroy",value:function(){this._removeEventListeners()}},{key:"_render",value:function(){if("multi"===this.type)this._createCheckboxes();else if("multi-pills"===this.type||"input-multi"===this.type)this.dom.pillsContainer=document.createElement("div"),this.dom.pillsContainer.classList.add("options_container"),this.dom.select.appendChild(this.dom.pillsContainer),this._createCheckboxes();else if("single"===this.type||"input-single"===this.type)for(var e=0;e<this.dom.items.length;e+=1)this._isEllipsisActive(this.dom.items[e])&&(this.dom.items[e].title=this.dom.items[e].innerText);else this.dom.select.innerHTML='\n        <div class="invalid_select">\n          Invalid type\n          <i class="icon icon-triangle-warning"></i>\n        </div>';if("input-single"===this.type||"input-multi"===this.type){var t=document.createElement("i");t.classList.add("icon","icon-chevron-down"),this.dom.current.appendChild(t)}this.dom.input&&this.dom.input.setAttribute("autocomplete","off"),this.dom.select.classList.add("closed")}},{key:"_disableState",value:function(){this.dom.select.classList.contains("disabled")&&(("input-single"===this.type||"input-multi"===this.type?this.dom.current.querySelector("input"):this.dom.select.querySelector("button.current-options")).tabIndex=-1)}},{key:"_createCheckboxes",value:function(){for(var e="i"+Math.random().toString(36).substr(2,5),t=0;t<this.dom.items.length;t+=1){var n=this.dom.items[t],i=document.createElement("input"),r=document.createElement("label"),a=n.innerText;i.type="checkbox",i.tabIndex=-1,i.id=e+"_"+Number(t+1),r.htmlFor=e+"_"+Number(t+1),i.value=n.dataset.value||n.innerText,r.appendChild(document.createTextNode(a)),this._isEllipsisActive(n)&&(r.title=a),n.removeAttribute("data-value"),n.innerHTML="",n.appendChild(i),n.appendChild(r)}}},{key:"_isEllipsisActive",value:function(e){return e.offsetWidth<e.scrollWidth}},{key:"_togglePill",value:function(e){var t=e.closest(".item").querySelector("input");t.checked?this._addPill(t):this._removePill(t)}},{key:"_addPill",value:function(e){var t=e.nextSibling.innerText,n=document.createElement("span");n.className+="pill removable",n.tabIndex=0,n.innerHTML=t,n.dataset.input=e.id,this.dom.pillsContainer.append(n),this._isEllipsisActive(n)&&(n.title=t)}},{key:"_removePill",value:function(e){var t=this.dom.pillsContainer.querySelector('.pill[data-input="'.concat(e.id,'"]'));this.dom.pillsContainer.removeChild(t)}},{key:"_onPillClick",value:function(e){var t=Array.from(this.dom.items).find((function(t){var n=t.querySelector('input[type="checkbox"]');return!(!n||n.id!==e.dataset.input)}));if(t){e.parentNode.removeChild(e),this._multiSelect(t),this._refreshMultiPlaceholder();var n=new CustomEvent("selectOption",{detail:{value:this.value}});this.dom.select.dispatchEvent(n)}}},{key:"_addEventListeners",value:function(){switch(this.type){case"single":this.dom.current.addEventListener("click",this.listeners.singleCurrentClick),this.dom.selectOptions.addEventListener("click",this.listeners.singleSelectOptionsClick),this.dom.select.addEventListener("keydown",this.listeners.singleSelectKeydown);break;case"multi":this.dom.current.addEventListener("click",this.listeners.multiCurrentClick),this.dom.selectOptions.addEventListener("change",this.listeners.multiSelectOptionsChange),this.dom.select.addEventListener("keydown",this.listeners.multiSelectKeydown);break;case"multi-pills":this.dom.current.addEventListener("click",this.listeners.multiPillsCurrentClick),this.dom.selectOptions.addEventListener("change",this.listeners.multiPillsSelectOptionsChange),this.dom.pillsContainer.addEventListener("click",this.listeners.multiPillsSelectQuerySelectorClick),this.dom.select.addEventListener("keydown",this.listeners.multiPillsSelectKeydown);break;case"input-single":this.dom.selectOptions.addEventListener("click",this.listeners.inputSingleSelectOptionsClick),this.dom.current.querySelector(".icon").addEventListener("click",this.listeners.inputSingleIconClick),this.dom.input.addEventListener("click",this.listeners.inputSingleInputClick),this.dom.input.addEventListener("keyup",this.listeners.inputSingleInputKeyup),this.dom.select.addEventListener("keyup",this.listeners.inputSingleSelectKeyup);break;case"input-multi":this.dom.input.addEventListener("click",this.listeners.inputMultiInputClick),this.dom.selectOptions.addEventListener("change",this.listeners.inputMultiSelectOptionsChange),this.dom.current.querySelector(".icon").addEventListener("click",this.listeners.inputMultiIconClick),this.dom.input.addEventListener("keyup",this.listeners.inputMultiInputKeyup),this.dom.pillsContainer.addEventListener("click",this.listeners.inputMultiSelectQuerySelectorClick),this.dom.select.addEventListener("keyup",this.listeners.inputMultiSelectKeyup)}document.querySelector(".appcontent")&&document.querySelector(".appcontent").addEventListener("scroll",this.listeners.scroll),document.addEventListener("click",this.listeners.clickedOutside),document.addEventListener("keyup",this.listeners.clickedOutside),this.dom.form&&this.dom.form.addEventListener("reset",this.listeners.resetForm)}},{key:"_removeEventListeners",value:function(){switch(this.type){case"single":this.dom.current.removeEventListener("click",this.listeners.singleCurrentClick),this.dom.selectOptions.removeEventListener("click",this.listeners.singleSelectOptionsClick),this.dom.select.removeEventListener("keydown",this.listeners.singleSelectKeydown);break;case"multi":this.dom.current.removeEventListener("click",this.listeners.multiCurrentClick),this.dom.selectOptions.removeEventListener("change",this.listeners.multiSelectOptionsChange),this.dom.select.removeEventListener("keydown",this.listeners.multiSelectKeydown);break;case"multi-pills":this.dom.current.removeEventListener("click",this.listeners.multiPillsCurrentClick),this.dom.selectOptions.removeEventListener("change",this.listeners.multiPillsSelectOptionsChange),this.dom.pillsContainer.removeEventListener("click",this.listeners.multiPillsSelectQuerySelectorClick),this.dom.select.removeEventListener("keydown",this.listeners.multiPillsSelectKeydown);break;case"input-single":this.dom.selectOptions.removeEventListener("click",this.listeners.inputSingleSelectOptionsClick),this.dom.current.querySelector(".icon").removeEventListener("click",this.listeners.inputSingleIconClick),this.dom.input.removeEventListener("click",this.listeners.inputSingleInputClick),this.dom.input.removeEventListener("keyup",this.listeners.inputSingleInputKeyup),this.dom.select.removeEventListener("keyup",this.listeners.inputSingleSelectKeyup);break;case"input-multi":this.dom.input.removeEventListener("click",this.listeners.inputMultiInputClick),this.dom.selectOptions.removeEventListener("change",this.listeners.inputMultiSelectOptionsChange),this.dom.current.querySelector(".icon").removeEventListener("click",this.listeners.inputMultiIconClick),this.dom.input.removeEventListener("keyup",this.listeners.inputMultiInputKeyup),this.dom.pillsContainer.removeEventListener("click",this.listeners.inputMultiSelectQuerySelectorClick),this.dom.select.removeEventListener("keyup",this.listeners.inputMultiSelectKeyup)}document.querySelector(".appcontent")&&document.querySelector(".appcontent").removeEventListener("scroll",this.listeners.scroll),document.removeEventListener("click",this.listeners.clickedOutside),this.dom.form&&this.dom.form.removeEventListener("reset",this.listeners.resetForm)}},{key:"_onOptionClick",value:function(e){var t;if("keyup"===e.type||"keydown"===e.type)t=this.dom.selectOptions.querySelector(".highlight");else{if(!e.target.classList.contains("item")&&!e.target.parentElement.classList.contains("item"))return;t=e.target}this._selectOption(t)}},{key:"_selectOption",value:function(e){switch(this.type){case"single":var t=e.dataset.value||e.innerText;this.selectedOptions=[],this.dom.current.innerHTML=e.innerText,this.selectedOptions.push(t),this.events.singleOption.detail.selectedOptions=this.selectedOptions,document.dispatchEvent(this.events.singleOption),this._highlightSingleActiveOption(e),this._hideSelectOpt();break;case"multi":this._multiSelect(e),this._refreshMultiPlaceholder();break;case"multi-pills":this._multiSelect(e),this._togglePill(e),this._refreshMultiPlaceholder();break;case"input-single":if(null!==e&&!e.classList.contains("no_results")){this.selectedOptions=[],this._setInputValue(e),this._highlightSingleActiveOption(e),this._filterOptions(),this._hideSelectOpt();var n=e.dataset.value||e.innerText.trim();this.selectedOptions.push(n)}break;case"input-multi":null===e||e.classList.contains("no_results")||(this._multiSelect(e),this._refreshMultiPlaceholder(),this._togglePill(e))}var i=new CustomEvent("selectOption",{detail:{value:this.value}});this.dom.select.dispatchEvent(i)}},{key:"_highlightSingleActiveOption",value:function(e){if(!e.classList.contains("active")){var t=this.dom.selectOptions.querySelectorAll(".item");[].forEach.call(t,(function(e){return e.classList.remove("active")})),e.classList.add("active")}}},{key:"_setInputValue",value:function(e){e.classList.contains("no_results")||(this.dom.input.value=e.innerText)}},{key:"_filterOptions",value:function(){this.dom.select.classList.add("open"),this.dom.select.classList.remove("closed");var e=Array.from(this.dom.items),t=this.dom.input.value.toLowerCase().trim();if(this.filteredOptions=e.filter((function(e){return e.innerText.toLowerCase().indexOf(t)>-1})),this.filteredOptions.length){this.dom.selectOptions.innerHTML="";for(var n=0;n<this.filteredOptions.length;n+=1)t!==this.filteredOptions[n].innerText.trim().toLowerCase()?this.filteredOptions[n].classList.remove("active"):this.filteredOptions[n].classList.add("active"),this.dom.selectOptions.appendChild(this.filteredOptions[n])}else this.dom.selectOptions.innerHTML='<div class="no_results">No results found</div>'}},{key:"_multiSelect",value:function(e){var t=this.selectedOptions,n=e.closest(".item"),i=n.querySelector("input"),r=i.value;"INPUT"!==e.tagName&&(i.checked=!i.checked),n.classList.toggle("active",i.checked),-1===t.indexOf(r)?t.push(r):t.splice(t.indexOf(r),1)}},{key:"_refreshMultiPlaceholder",value:function(){var e=this.selectedOptions.length,t=e?e+(1===e?" option":" options")+" selected":"Select options";"multi"!==this.type&&"multi-pills"!==this.type||(this.dom.current.innerHTML=t),"input-multi"===this.type&&(this.dom.current.querySelector("input").placeholder=t)}},{key:"_arrowKeyActions",value:function(e){var t=this.dom.selectOptions.querySelectorAll(".item").length-1;switch(e.key){case"Escape":case"Tab":this._hideSelectOpt();break;case"ArrowDown":e.preventDefault(),this.highlightIndex>=t?this.highlightIndex=0:this.highlightIndex+=1;break;case"ArrowUp":e.preventDefault(),this.highlightIndex<=0?this.highlightIndex=t:this.highlightIndex-=1;break;case"Enter":e.preventDefault(),this.dom.select.classList.contains("open")&&this.dom.selectOptions.querySelector(".highlight")?this._onOptionClick(e):this.dom.select.classList.contains("disabled")||this._toggleSelectOpt();break;case" ":if("input-single"===this.type||"input-multi"===this.type)break;e.preventDefault(),this.dom.select.classList.contains("open")&&this.dom.selectOptions.querySelector(".highlight")?this._onOptionClick(e):this.dom.select.classList.contains("disabled")||(document.activeElement.classList.contains("pill")?this._onPillClick(e.target):this._toggleSelectOpt())}this._highlightOptions()}},{key:"_highlightOptions",value:function(){for(var e=this.dom.selectOptions.querySelectorAll(".item"),t=0;t<e.length;t+=1)e[t].classList.remove("highlight"),t===this.highlightIndex&&(e[t].classList.add("highlight"),this._isInViewport(e[t])||(this.dom.selectOptions.scrollTop=e[t].offsetTop))}},{key:"_removeOptionsHighlight",value:function(){for(var e=this.dom.items.length,t=0;t<e;t+=1)this.dom.items[t].classList.remove("highlight");this.dom.selectOptions.scrollTop=0}},{key:"_isInViewport",value:function(e){var t=e.offsetTop,n=t+e.clientHeight,i=this.dom.selectOptions.scrollTop,r=i+this.dom.selectOptions.offsetHeight-4;return n>i&&t<r}},{key:"_toggleSelectOpt",value:function(){this._removeOptionsHighlight(),this.dom.select.classList.toggle("open"),this.dom.select.classList.toggle("closed"),this.highlightIndex=-1,this._optionsListPosition(this.dom.select)}},{key:"_optionsListPosition",value:function(e){var t=window.innerHeight-e.getBoundingClientRect().height;(t-=e.getBoundingClientRect().top)<e.querySelector(".options-list").offsetHeight+4&&e.classList.contains("open")?e.classList.add("open-top"):e.classList.remove("open-top")}},{key:"_hideSelectOpt",value:function(){this._removeOptionsHighlight(),this.dom.select.classList.remove("open"),this.dom.select.classList.add("closed"),this.highlightIndex=-1}},{key:"_deselectAllOptions",value:function(){var e,t=f(this.dom.items);try{for(t.s();!(e=t.n()).done;){var n=e.value;"multi"!==this.type&&"multi-pills"!==this.type&&"input-multi"!==this.type||n.classList.contains("active")&&this._selectOption(n)}}catch(e){t.e(e)}finally{t.f()}}},{key:"_onResetForm",value:function(){this.filteredOptions=[],this.selectedOptions=[];var e,t=f(this.dom.items);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.classList.contains("active")&&n.classList.remove("active")}}catch(e){t.e(e)}finally{t.f()}switch(this.type){case"single":this.dom.current.innerText="Select option";break;case"input-single":this.dom.input.value=null,this._filterOptions(),this._hideSelectOpt();break;case"multi":case"multi-pills":case"input-multi":this._refreshMultiPlaceholder()}this.dom.pillsContainer&&(this.dom.pillsContainer.innerHTML="");var i=new CustomEvent("selectOption",{detail:{value:this.value}});this.dom.select.dispatchEvent(i)}},{key:"value",get:function(){return this.selectedOptions},set:function(e){var t=this,n=[];Array.isArray(e)?n=e:n.push(e),this._deselectAllOptions(),n.forEach((function(e){var n,i=f(t.dom.items);try{for(i.s();!(n=i.n()).done;){var r=n.value;if((r.querySelector("input")?r.querySelector("input").value:r.dataset.value||r.innerText)===e){t._selectOption(r);break}}}catch(e){i.e(e)}finally{i.f()}}))}}]),e}(),K=function(){function e(t){var n=this;v(this,e),this.dom={paginationGroup:t,paginationInput:t.querySelector('.actions input[type="number"]'),paginationSelect:t.querySelector(".actions .select")},this.state={currentPage:1,hasNextPage:!1,hasPreviousPage:!1,numEntries:0,numPerPage:0,numPages:0,pageClicked:0},this.events={paginationChangePage:new CustomEvent("paginationChangePage",{detail:{state:this.state}}),paginationChangeSelect:new CustomEvent("paginationChangeSelect",{detail:{state:this.state}})},this.listeners={pagination:[],inputChange:function(e){return n._onInputChange(e)},selectChange:function(e){var t=e.detail.value[0];n.state.numPerPage="all"===t.toLowerCase()?n.state.numEntries:+t,n._onSelectChange()}}}return g(e,[{key:"init",value:function(e){var t=e;if(this.dom.paginationSelect){var n=new X(this.dom.paginationSelect);n.init(),this._setNumEntries(e),this.state.numPerPage=+n.dom.current.innerHTML,t=this._calcNumPages()}this._setNumPages(t),this._injectPaginationControls(),this._addEventListeners()}},{key:"destroy",value:function(){this._removeEventListeners()}},{key:"_addEventListeners",value:function(){var e=this,t=Array.from(this.dom.paginationGroup.querySelectorAll(".pagination li"));this.listeners.pagination=t.map((function(t){var n=function(n){n.preventDefault(),n.target.classList.contains("disabled")||e.state.currentPage===+n.target.dataset.value||(e.state.pageClicked=t.dataset.value,e._updatePaginationDOM(),document.dispatchEvent(e.events.paginationChangePage),e.dom.paginationGroup.dispatchEvent(e.events.paginationChangePage))};return t.addEventListener("click",n),[t,n]})),this.dom.paginationInput&&this.dom.paginationInput.addEventListener("change",this.listeners.inputChange),this.dom.paginationSelect&&this.dom.paginationSelect.addEventListener("selectOption",this.listeners.selectChange)}},{key:"_removeEventListeners",value:function(){this.listeners.pagination.forEach((function(e){var t=h(e,2),n=t[0],i=t[1];n.removeEventListener("click",i)})),this.listeners.pagination=[],this.dom.paginationInput&&this.dom.paginationInput.removeEventListener("change",this.listeners.inputChange),this.dom.paginationSelect&&this.dom.paginationSelect.removeEventListener("selectOption",this.listeners.selectChange)}},{key:"_updatePaginationDOM",value:function(){this._updateCurrentPage(),this._setPaginationControls()}},{key:"_updateCurrentPage",value:function(){this.state.numPages<2||(this.state.pageClicked.includes("left")?this.state.currentPage>1&&(this.state.currentPage-=1):this.state.pageClicked.includes("right")?this.state.currentPage<this.state.numPages&&(this.state.currentPage+=1):0!==this.state.pageClicked.length&&(this.state.currentPage=parseInt(this.state.pageClicked,10)),this.state.hasNextPage=!0,this.state.hasPreviousPage=!0,1===this.state.currentPage&&(this.state.hasNextPage=!0,this.state.hasPreviousPage=!1),this.state.currentPage===this.state.numPages&&(this.state.hasNextPage=!1,this.state.hasPreviousPage=!0))}},{key:"_calcNumPages",value:function(){return Math.ceil(this.state.numEntries/this.state.numPerPage)||1}},{key:"_setNumPages",value:function(e){this.state.numPages=e,e>1&&(this.state.hasNextPage=!0),this.dom.paginationInput&&this.dom.paginationInput.setAttribute("max",e)}},{key:"_setNumEntries",value:function(e){this.state.numEntries=e}},{key:"_injectPaginationControls",value:function(){var e=this.dom.paginationGroup.querySelector(".pagination");e.innerHTML="";var t=this._genArrowControl("left",this.state.hasPreviousPage),n=this._genArrowControl("right",this.state.hasNextPage);e.appendChild(t);for(var i=1;i<=Math.min(7,this.state.numPages);i+=1)e.appendChild(this._genPageControl("",!1));e.appendChild(n),this._setPaginationControls()}},{key:"_setPaginationControls",value:function(){var e=this,t=parseInt(this.state.currentPage,10),n=parseInt(this.state.numPages,10),i=[];if(i.push({label:"left",state:!1}),n<=7)for(var r=1;r<=n;r+=1)i.push({label:r,state:this._isCurrentPage(r)});else if(t<5){for(var a=1;a<=5;a+=1)i.push({label:a,state:this._isCurrentPage(a)});i.push({label:"",state:!1}),i.push({label:this.state.numPages,state:!1})}else if(t<n-3){i.push({label:"1",state:!1}),i.push({label:"",state:!1});for(var s=t-1;s<=t+1;s+=1)i.push({label:s,state:this._isCurrentPage(s)});i.push({label:"",state:!1}),i.push({label:this.state.numPages,state:!1})}else{i.push({label:1,state:!1}),i.push({label:"",state:!1});for(var o=n-4;o<=n;o+=1)i.push({label:o,state:this._isCurrentPage(o)})}i.push({label:"right",state:!1});var l=this.dom.paginationGroup.querySelectorAll(".pagination li");Array.from(l).forEach((function(t,n){var r=i[n].label,a=i[n].state;"left"===r?e._setArrowControl(t,"left",e.state.hasPreviousPage):"right"===r?e._setArrowControl(t,"right",e.state.hasNextPage):e._setPageControl(t,r,a)}))}},{key:"_genArrowControl",value:function(e,t){var n=document.createElement("li"),i=document.createElement("a"),r=document.createElement("i");return n.classList.add("".concat(e,"-arrow")),t?n.classList.remove("disabled"):n.classList.add("disabled"),n.dataset.value=e,r.classList.add("icon"),r.classList.add("icon-arrow-".concat(e)),i.setAttribute("href","#"),i.appendChild(r),n.appendChild(i),n}},{key:"_genPageControl",value:function(e,t){var n=document.createElement("li");if(t&&n.classList.add("active"),n.dataset.value=e,e){var i=document.createElement("a");i.href="#",i.innerText=e,n.appendChild(i)}return n}},{key:"_setArrowControl",value:function(e,t,n){var i=e.querySelector("i");e.classList.add("".concat(t,"-arrow")),n?e.classList.remove("disabled"):e.classList.add("disabled"),e.dataset.value=t,i.classList.add("icon"),i.classList.add("icon-arrow-".concat(t))}},{key:"_setPageControl",value:function(e,t,n){if(n?e.classList.add("active"):e.classList.remove("active"),e.dataset.value=t,t){e.innerHTML="";var i=document.createElement("a");i.href="#",i.innerText=t,e.appendChild(i)}else e.innerText=t}},{key:"_isCurrentPage",value:function(e){return parseInt(e,10)===parseInt(this.state.currentPage,10)}},{key:"_onInputChange",value:function(e){var t=e.target,n=Math.max(this.dom.paginationInput.min,Math.min(t.value,this.dom.paginationInput.max));this.dom.paginationInput.value=n,this.state.pageClicked=n.toString(),this._updatePaginationDOM(),this.dom.paginationGroup.dispatchEvent(this.events.paginationChangePage)}},{key:"_onSelectChange",value:function(){var e=!1,t=this.state.numPages,n=this._calcNumPages();this._setNumPages(n),1===this.state.numPages&&(this.state.hasPreviousPage=!1,this.state.hasNextPage=!1,1!==this.state.currentPage&&(this.state.currentPage=1,e=!0)),this.state.currentPage>this.state.numPages&&(this.state.pageClicked=this.state.numPages.toString(),this._updateCurrentPage(),e=!0),n!==t&&(this._injectPaginationControls(),this._addEventListeners()),this.dom.paginationGroup.dispatchEvent(this.events.paginationChangeSelect),e&&this.dom.paginationGroup.dispatchEvent(this.events.paginationChangePage)}},{key:"update",value:function(e){this._setNumEntries(e),this._onSelectChange()}}]),e}(),$=function(){function e(t,n){var i=this;v(this,e),this.dom={pill:t},this.listeners={click:function(){return i._clickAction()},onKeyDown:function(e){" "===e.key&&(e.preventDefault(),i._clickAction())}},this.action=n,this.data={}}return g(e,[{key:"init",value:function(){this.update(),this._addEventListeners()}},{key:"destroy",value:function(){this._removeEventListeners(),this.dom.pill&&this.dom.pill.parentNode&&this.dom.pill.parentNode.removeChild(this.dom.pill)}},{key:"_addEventListeners",value:function(){this.dom.pill.addEventListener("click",this.listeners.click),this.dom.pill.addEventListener("keydown",this.listeners.onKeyDown)}},{key:"_removeEventListeners",value:function(){this.dom.pill.removeEventListener("click",this.listeners.click),this.dom.pill.removeEventListener("keydown",this.listeners.onKeyDown)}},{key:"_clickAction",value:function(){this.toggle(),this.remove(),this.action&&this.action()}},{key:"activate",value:function(){this.dom.pill.classList.add("activated")}},{key:"deactivate",value:function(){this.dom.pill.classList.remove("activated")}},{key:"toggle",value:function(){this.isSelected()?this.unselect():this.select()}},{key:"select",value:function(){this.dom.pill.classList.remove("unselected")}},{key:"unselect",value:function(){this.dom.pill.classList.add("unselected")}},{key:"remove",value:function(){this.dom.pill.classList.contains("removable")&&this.destroy()}},{key:"isDisabled",value:function(){return this.dom.pill.classList.contains("disabled")}},{key:"isSelected",value:function(){return!this.dom.pill.classList.contains("unselected")}},{key:"setData",value:function(e){this.data=e}},{key:"update",value:function(){var e=this.dom.pill;(e.classList.contains("removable")||e.classList.contains("toggle"))&&(e.classList.contains("disabled")?e.tabIndex=-1:e.tabIndex=0)}}]),e}(),J=function(){function e(t){var n=this;v(this,e),this.dom={element:t.element,selectAll:void 0},this.type=t.type||"filter",this.action=t.action||function(){},this.pills=[],this.allPillsSelected=!0,this.lessThanTwoPills=!0,this.lastSelectedBitmask=[],this.listeners={selectAll:function(){n.selectAllPills(),n.action(n.pills)}}}return g(e,[{key:"init",value:function(){var e=[];switch(Array.from(this.dom.element.querySelectorAll(".pill")).forEach((function(t){var n={};Object.keys(t.dataset).forEach((function(e){return n[e]=t.dataset[e]})),e.push({element:t,dataset:n,selected:!t.classList.contains("unselected"),disabled:t.classList.contains("disabled"),toggle:t.classList.contains("toggle")})})),this.type){case"radio":this._initRadio(e);break;case"checkbox":this._initCheckbox(e);break;default:this._initFilter(e)}}},{key:"destroy",value:function(){this.dom.selectAll&&this.dom.selectAll.removeEventListener("click",this.listeners.selectAll),this.pills.forEach((function(e){return e.destroy()})),this.pills=[]}},{key:"getPills",value:function(){return this.pills}},{key:"_initRadio",value:function(e){var t=this,n=0;if(e.forEach((function(e,i){(!1===e.selected||n>0)&&e.element.classList.add("unselected"),!0!==e.disabled&&!1!==e.selected&&(n+=1);var r=new $(e.element,t._enforcePillRadioBehavior(i,t.action));r.setData(e.dataset),r.init(),t.pills.push(r)})),this.lastSelectedBitmask=this.pills.map((function(e){return e.isSelected()})),0===n)for(var i=0;i<this.pills.length;i+=1)if(!0!==this.pills[i].disabled){this.pills[i].select();break}}},{key:"_initCheckbox",value:function(e){var t=this,n=0,i=0;e.forEach((function(e,r){!1===e.selected&&e.element.classList.add("unselected"),!0!==e.disabled&&(i+=1),!0!==e.disabled&&!1!==e.selected&&(n+=1);var a=new $(e.element,t._enforcePillCheckboxBehavior(r,t.action));a.setData(e.dataset),a.init(),t.pills.push(a)})),this.allPillsSelected=!1,i===n&&(this.allPillsSelected=!0),this.dom.selectAll=this.dom.element.querySelector(".toggle-all")||void 0,void 0!==this.dom.selectAll&&(this.allPillsSelected&&this._hideSelectAll(),this.dom.selectAll.addEventListener("click",this.listeners.selectAll))}},{key:"_initFilter",value:function(e){var t=this,n=0,i=0,r=0;e.forEach((function(e){!0!==e.disabled&&(!1===e.selected?i+=1:n+=1,r+=1)}));var a=0===i&&n>0,s=i>0&&0===n;r>1&&(this.lessThanTwoPills=!1),this.allPillsSelected=!(!a&&!s),e.forEach((function(e,n){t.allPillsSelected&&e.element.classList.remove("unselected");var i=new $(e.element,t._enforcePillFilterBehavior(n,t.action));i.setData(e.dataset),i.init(),t.pills.push(i)})),this.lastSelectedBitmask=this.pills.map((function(e){return e.isSelected()})),this.dom.selectAll=this.dom.element.querySelector(".toggle-all")||void 0,void 0!==this.dom.selectAll&&(this.allPillsSelected&&this._hideSelectAll(),this.dom.selectAll.addEventListener("click",this.listeners.selectAll))}},{key:"_hideSelectAll",value:function(){void 0!==this.dom.selectAll&&(this.dom.selectAll.style.display="none")}},{key:"_showSelectAll",value:function(){void 0!==this.dom.selectAll&&(this.dom.selectAll.style.display="")}},{key:"selectAllPills",value:function(){"filter"!==this.type&&"checkbox"!==this.type||(this.allPillsSelected=!0,this.pills.forEach((function(e){e.isDisabled()||e.select()})),this.lastSelectedBitmask=this.pills.map((function(e){return e.isSelected()})),this._hideSelectAll())}},{key:"_selectAllPills",value:function(){"filter"!==this.type&&"checkbox"!==this.type||(this.allPillsSelected=!0,this.pills.forEach((function(e){e.isDisabled()||e.select()})),this._hideSelectAll())}},{key:"_enforcePillRadioBehavior",value:function(e,t){var n=this;return function(){n.pills.forEach((function(t,n){t.isDisabled()||(e===n?t.select():t.unselect())}));var i=n.lastSelectedBitmask.filter((function(e,t){return e!==n.pills[t].isSelected()})).length>0;n.lastSelectedBitmask=n.pills.map((function(e){return e.isSelected()})),i&&t&&t(n.pills)}}},{key:"_enforcePillCheckboxBehavior",value:function(e,t){var n=this;return function(){var e=0,i=0;n.pills.forEach((function(t){t.isDisabled()||(e+=1,t.isSelected()&&(i+=1))})),e===i?(n.allPillsSelected=!0,n._hideSelectAll()):n._showSelectAll(),t&&t(n.pills)}}},{key:"_enforcePillFilterBehavior",value:function(e,t){var n=this;return function(){if(n.allPillsSelected&&!n.lessThanTwoPills)n.pills.forEach((function(t,n){t.isDisabled()||(e!==n?t.unselect():t.select())})),n.allPillsSelected=!1,n._showSelectAll();else{var i=!0;n.allPillsSelected=!0,n._hideSelectAll(),n.pills.forEach((function(e){e.isDisabled()||(!1===e.isSelected()?(n.allPillsSelected=!1,n._showSelectAll()):i=!1)})),i?n._selectAllPills():n.allPillsSelected&&n._hideSelectAll()}var r=n.lastSelectedBitmask.filter((function(e,t){return e!==n.pills[t].isSelected()})).length>0;n.lastSelectedBitmask=n.pills.map((function(e){return e.isSelected()})),r&&t&&t(n.pills)}}}]),e}(),Q=function(){function e(t){var n=this;v(this,e),this.dom={prefill:t,saved:t.dataset.saved},this.listeners={blur:function(e){return n._checkIfChanged(e)}}}return g(e,[{key:"init",value:function(){this._setSavedValue(),this._addEventListeners()}},{key:"destroy",value:function(){this._removeEventListeners()}},{key:"_addEventListeners",value:function(){this.dom.prefill.addEventListener("blur",this.listeners.blur)}},{key:"_removeEventListeners",value:function(){this.dom.prefill.removeEventListener("blur",this.listeners.blur)}},{key:"_setSavedValue",value:function(){this.dom.prefill.value=this.dom.saved}},{key:"_checkIfChanged",value:function(e){e.target.value!==this.dom.saved?this.dom.prefill.classList.add("changed"):this.dom.prefill.classList.remove("changed")}}]),e}(),ee=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v(this,e),"string"==typeof t&&(t=document.querySelector(t)),this.settings={multiple:t.hasAttribute("multiple"),thresholds:t.classList.contains("thresholds"),min:Number(t.min)||0,max:Number(t.max)||100,step:Number(t.step)||1,readonly:t.readOnly,units:i.units||null,classes:{input:"ranger-input",container:"ranger-container",lower:"ranger-lower",progress:"ranger-progress",handle:"ranger-handle",tooltip:"ranger-tooltip",track:"ranger-track",multiple:"ranger-multiple",limits:"range-limits",limit:"range-limit",readonly:"ranger-readonly",thresholds:"ranger-thresholds",units:"ranger-units"}},this.dom={input:t},this.listeners={down:function(e){return n._down(e)},touchstart:function(e){return n._touchStart(e)},move:function(e){return n._move(e)},up:function(){return n._up()},update:function(){return n.update()},change:function(){return n._change()},reset:function(){return n._reset()},keyUp:function(e){return n._keyActions(e)},keyDown:function(e){"ArrowUp"!==e.key&&"ArrowDown"!==e.key||e.preventDefault()}},this.listeners.scroll=this._throttle(this.listeners.update,100),this.listeners.resize=this._throttle(this.listeners.update,50),this.touch=!1,this.init(),this.onInit()}return g(e,[{key:"init",value:function(){this.dom.input.ranger||(this.dom.input.ranger=this,this.settings.multiple?this.dom.input.getAttribute("values")?(this.dom.input.values=this.dom.input.getAttribute("values").split(","),this.dom.input.removeAttribute("values")):this.dom.input.values=[this.settings.min,this.settings.max]:this.dom.input.value||(this.dom.input.value=this.settings.max),this._render())}},{key:"_render",value:function(){var e=this.settings,t=e.classes,n=this._createElement("div",t.container),i=this._createElement("div",t.track),r=this._createElement("div",t.progress),a=this._createElement("div",t.handle),s=this._createElement("div",t.tooltip),o=this._createElement("div",t.limits),l=[this._createElement("div",t.limit),this._createElement("div",t.limit)];if(e.readonly&&n.classList.add(t.readonly),e.multiple){if(a=[this._createElement("div",t.handle),this._createElement("div",t.handle)],s=[this._createElement("div",t.tooltip),this._createElement("div",t.tooltip),this._createElement("div",t.tooltip)],a.forEach((function(e,t){e.index=t,e.tabIndex=0,r.appendChild(e),e.appendChild(s[t])})),r.appendChild(s[2]),n.classList.add(t.multiple),this.dom.input.tabIndex=-1,a[0].classList.add("rsh-min"),a[1].classList.add("rsh-max"),e.thresholds){var u=this._createElement("div",t.lower);i.appendChild(u),this.dom.lower=u,n.classList.add(t.thresholds)}}else r.appendChild(a),a.appendChild(s);if(i.appendChild(r),l[0].textContent=this.settings.min,l[1].textContent=this.settings.max,this.settings.units){var d=[this._createElement("div",t.units),this._createElement("div",t.units)];d[0].textContent=this.settings.units,d[1].textContent=this.settings.units,l[0].appendChild(d[0]),l[1].appendChild(d[1])}l.forEach((function(e,t){o.appendChild(l[t])})),i.appendChild(o),this.dom=c(c({},this.dom),{},{container:n,track:i,progress:r,handle:a,tooltip:s}),n.appendChild(i),e.size&&(n.style.width=isNaN(e.size)?e.size:"".concat(e.size,"%")),this.dom.input.parentNode.insertBefore(n,this.dom.input),this.dom.input.disabled&&n.classList.add("disabled"),n.insertBefore(this.dom.input,i),this.dom.input.classList.add(t.input),this.settings.readonly||this._addEventListeners(),this.update()}},{key:"_reset",value:function(){var e=this;setTimeout((function(){e._setValue(e.dom.input.value)}),0)}},{key:"_setValueFromPosition",value:function(e){var t=parseFloat(this.settings.min),n=parseFloat(this.settings.max),i=parseFloat(this.settings.step),r=this.rects,a=((this.touch?e.touches[0].clientX:e.clientX)-this.rects.container.left)/r.container.width*100*(n-t)/100+t;a=Math.ceil(a/i)*i;var s=this.activeHandle.index;this.settings.multiple?this._setValueMultiple(e,a,s):this._setValueSingle(e,a,s),this.dom.input.focus()}},{key:"_setValueMultiple",value:function(e,t,n){t=0===n?Math.min(t,this.dom.input.values[1]):Math.max(t,this.dom.input.values[0]),("mousedown"===e.type||0===n&&parseFloat(t)!==parseFloat(this.dom.input.values[1])||1===n&&parseFloat(t)!==parseFloat(this.dom.input.values[0]))&&this._setValue(t,n)}},{key:"_setValueSingle",value:function(e,t,n){"mousedown"!==e.type&&parseFloat(t)===parseFloat(this.dom.input.value)||this._setValue(t,n)}},{key:"_change",value:function(){this.settings.multiple||this.update()}},{key:"_touchStart",value:function(e){this._down(e)}},{key:"_down",value:function(e){e.preventDefault(),this.dom.container.classList.add("dragging"),this._recalculate(),this.activeHandle=this._getHandle(e),this.activeHandle.classList.add("active"),this._setValueFromPosition(e),this.touch?(document.addEventListener("touchmove",this.listeners.move,!1),document.addEventListener("touchend",this.listeners.up,!1),document.addEventListener("touchcancel",this.listeners.up,!1)):(document.addEventListener("mousemove",this.listeners.move,!1),document.addEventListener("mouseup",this.listeners.up,!1))}},{key:"_move",value:function(e){this._setValueFromPosition(e),this.dom.input.dispatchEvent(new Event("input"))}},{key:"_up",value:function(){this.dom.container.classList.remove("dragging"),this.activeHandle.classList.remove("active"),this.activeHandle=!1,document.removeEventListener("mousemove",this.listeners.move),document.removeEventListener("mouseup",this.listeners.up),document.removeEventListener("touchmove",this.listeners.move),document.removeEventListener("touchend",this.listeners.up),document.removeEventListener("touchcancel",this.listeners.up),this.dom.input.dispatchEvent(new Event("change"))}},{key:"_recalculate",value:function(){var e=[];this.settings.multiple?this.dom.handle.forEach((function(t,n){e[n]=t.getBoundingClientRect()})):e=this.dom.handle.getBoundingClientRect(),this.rects={handle:e,container:this.dom.container.getBoundingClientRect()}}},{key:"update",value:function(){var e=this;this._recalculate(),this.accuracy=0,this.dom.input.step.includes(".")&&(this.accuracy=(this.dom.input.step.split(".")[1]||[]).length),this.settings.multiple?this.dom.input.values.forEach((function(t,n){e._setValue(t,n)})):this._setValue()}},{key:"_setValue",value:function(e,t){var n=this.dom,i=parseFloat(this.settings.min),r=parseFloat(this.settings.max);if(this.settings.multiple&&void 0===t)return!1;if(void 0===e&&(e=this.dom.input.value),(e=(e=parseFloat(e)).toFixed(this.accuracy))<i?e=i.toFixed(this.accuracy):e>r&&(e=r.toFixed(this.accuracy)),this.settings.multiple){var a=this.dom.input.values;a[t]=e,n.tooltip[t].textContent=e;var s=this._tipsIntersecting();s&&(n.tooltip[2].textContent=a[0]===a[1]?a[0]:"".concat(a[0]," - ").concat(a[1])),n.container.classList.toggle("combined-tooltip",s)}else this.dom.input.value=e,n.tooltip.textContent=e;this._setPosition(e,t),this.onChange()}},{key:"_setPosition",value:function(){var e;if(this.settings.multiple){var t=this._getPosition(this.dom.input.values[0]),n=this._getPosition(this.dom.input.values[1]);this.settings.thresholds&&(this.dom.lower.style.width="".concat(t,"%")),this.dom.progress.style.left="".concat(t,"%"),e=n-t}else e=this._getPosition();this.dom.progress.style.width="".concat(e,"%")}},{key:"_getOffset",value:function(){var e=this.dom.track.offsetWidth,t=this.dom.tooltip;if(this.settings.multiple){var n=this.dom.input.values,i=this._getPosition(n[1])-this._getPosition(n[0]),r=parseInt(window.getComputedStyle(t[2],null).getPropertyValue("padding-left"),10),a=Math.round(e-(this._getPosition(n[1])+t[1].offsetWidth/2-r)),s=Math.round(this._getPosition(n[0])-(t[0].offsetWidth/2-r));this._setOffset([t[0],t[1]],a,s);var o=Math.round(e-(this._getPosition(n[0])+(t[2].offsetWidth+i)/2-r)),l=Math.round(this._getPosition(n[1])-((t[2].offsetWidth+i)/2-r));this._setOffset(t[2],o,l)}else{var u=parseInt(window.getComputedStyle(t,null).getPropertyValue("padding-left"),10),c=Math.round(e-(this._getPosition()+t.offsetWidth/2-u)),d=Math.round(this._getPosition()-(t.offsetWidth/2-u));this._setOffset(this.dom.tooltip,c,d)}}},{key:"_setOffset",value:function(e,t,n){var i=e instanceof Array,r=i?e[0]:e,a=i?e[1]:e;t<0||n<0?(t<0&&(a.style["margin-right"]=Math.abs(t)+"px"),n<0&&(r.style["margin-right"]="-"+Math.abs(n)+"px")):(a.style["margin-right"]=0,r.style["margin-right"]=0)}},{key:"_getPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.dom.input.value,t=parseFloat(this.settings.min),n=parseFloat(this.settings.max);return(e-t)/(n-t)*100}},{key:"_tipsIntersecting",value:function(){var e=this.dom.tooltip,t=e[0].getBoundingClientRect(),n=e[1].getBoundingClientRect();return!(t.right<n.left||t.left>n.right||t.bottom<n.top||t.top>n.bottom)}},{key:"_getHandle",value:function(e){if(!this.settings.multiple)return this.dom.handle;var t=this.rects,n=Math.abs(e.clientX-t.handle[0].left),i=Math.abs(e.clientX-(t.handle[1].left+2)),r=e.target.closest(".".concat(this.settings.classes.handle));return r||(n>i?this.dom.handle[1]:this.dom.handle[0])}},{key:"destroy",value:function(){this.dom.input.ranger&&(this._removeEventListeners(),this.dom.input.classList.remove(this.settings.classes.input),this.dom.container.parentNode.replaceChild(this.dom.input,this.dom.container),delete this.dom.input.ranger)}},{key:"onInit",value:function(){this._isFunction(this.settings.onInit)&&this.settings.onInit.call(this,this.dom.input.value)}},{key:"onChange",value:function(){this._isFunction(this.settings.onChange)&&this.settings.onChange.call(this,this.dom.input.value),this._getOffset()}},{key:"_keyActions",value:function(e){if(document.activeElement===this.dom.input)this.settings.multiple||this.update();else{var t=parseInt(this.dom.input.values[0],10),n=parseInt(this.dom.input.values[1],10);document.activeElement.classList.contains("rsh-min")&&(this._handleMin(t,n,e),this.update()),document.activeElement.classList.contains("rsh-max")&&(this._handleMax(t,n,e),this.update())}}},{key:"_handleMin",value:function(e,t,n){"ArrowRight"!==n.key&&"ArrowUp"!==n.key||e<t&&(this.dom.input.values[0]=e+this.settings.step),"ArrowLeft"!==n.key&&"ArrowDown"!==n.key||e>=this.settings.min&&(this.dom.input.values[0]=e-this.settings.step)}},{key:"_handleMax",value:function(e,t,n){"ArrowRight"!==n.key&&"ArrowUp"!==n.key||t<=this.settings.max&&(this.dom.input.values[1]=t+this.settings.step),"ArrowLeft"!==n.key&&"ArrowDown"!==n.key||t>e&&(this.dom.input.values[1]=t-this.settings.step)}},{key:"_addEventListeners",value:function(){var e=this;document.addEventListener("scroll",this.listeners.scroll,!1),this.settings.multiple?this.dom.handle.forEach((function(t){t.addEventListener("keydown",e.listeners.keyDown,!1),t.addEventListener("keyup",e.listeners.keyUp,!1)})):this.dom.input.addEventListener("keyup",this.listeners.keyUp,!1),window.addEventListener("resize",this.listeners.resize,!1),this.dom.input.addEventListener("change",this.listeners.change,!1),this.touch?this.dom.container.addEventListener("touchstart",this.listeners.touchstart,!1):this.dom.container.addEventListener("mousedown",this.listeners.down),this.dom.input.form&&this.dom.input.form.addEventListener("reset",this.listeners.reset,!1)}},{key:"_removeEventListeners",value:function(){var e=this;this.touch?this.dom.container.removeEventListener("touchstart",this.listeners.touchstart):this.dom.container.removeEventListener("mousedown",this.listeners.down),this.settings.multiple?this.dom.handle.forEach((function(t){t.removeEventListener("keyup",e.listeners.keyUp,!1)})):this.dom.input.removeEventListener("keyup",this.listeners.keyUp,!1),document.removeEventListener("scroll",this.listeners.scroll),window.removeEventListener("resize",this.listeners.resize),this.dom.input.removeEventListener("change",this.listeners.change),this.dom.input.form&&this.dom.input.form.removeEventListener("reset",this.listeners.reset),this.listeners=null}},{key:"_createElement",value:function(e,t){var n=document.createElement(e);if("string"==typeof t)n.classList.add(t);else if(t===Object(t))for(var i in t)i in n?n[i]=t[i]:n.setAttribute(n[i],t[i]);return n}},{key:"_isFunction",value:function(e){return e&&"function"==typeof e}},{key:"_throttle",value:function(e,t,n){var i;return function(){if(n=n||this,!i)return e.apply(n,arguments),i=!0,setTimeout((function(){i=!1}),t)}}}]),e}(),te=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;v(this,e),this.container=t,this.entries=JSON.parse(JSON.stringify(i)),this.listeners={selectAll:function(e){return n._selectAll(e)},selectItem:function(e){return n._selectItem(e)},addItems:function(e){return n._addItems(e)},removeItems:function(e){return n._removeItems(e)},filterInputKeyup:function(e){return n._filterItems(e)}},this.filteredOptionsMain=[],this.filteredOptionsSecondary=[],this.output=[]}return g(e,[{key:"init",value:function(){this._render(),this._addEventListeners()}},{key:"destroy",value:function(){this._removeEventListeners()}},{key:"_render",value:function(){var e=this.container.querySelector(".lb-main");this._generateItems(e,this.entries)}},{key:"_generateItems",value:function(e,t){var n=e.querySelector(".lb-list"),i=0,r=e.querySelector(".lb-counter-total");if("object"===_(t)&&null!==t)for(var a=Math.random().toString(36).substr(2,5),s=0;s<t.length;s+=1)if(!t[s].disabled){var o=document.createElement("div");o.classList.add("lb-item");var l=document.createElement("input");l.addEventListener("change",this.listeners.selectItem);var u=document.createElement("label"),c=t[s].title;l.type="checkbox",l.id=a+"_"+Number(s+1),u.htmlFor=a+"_"+Number(s+1),o.dataset.itemId=a+"_"+Number(s+1),u.appendChild(document.createTextNode(c)),o.appendChild(l),o.appendChild(u),n.appendChild(o),i+=1}r.innerHTML=i,this._updateLists()}},{key:"_addEventListeners",value:function(){this.container.querySelector(".lb-primary-cb-all").addEventListener("change",this.listeners.selectAll),this.container.querySelector(".lb-secondary-cb-all").addEventListener("change",this.listeners.selectAll),this.container.querySelector(".lb-add-btn").addEventListener("click",this.listeners.addItems),this.container.querySelector(".lb-remove-btn").addEventListener("click",this.listeners.removeItems),this.container.querySelector(".lb-filter-main").addEventListener("keyup",this.listeners.filterInputKeyup),this.container.querySelector(".lb-filter-secondary").addEventListener("keyup",this.listeners.filterInputKeyup)}},{key:"_removeEventListeners",value:function(){this.container.querySelector(".lb-primary-cb-all").removeEventListener("change",this.listeners.selectAll),this.container.querySelector(".lb-secondary-cb-all").removeEventListener("change",this.listeners.selectAll),this.container.querySelector(".lb-add-btn").removeEventListener("click",this.listeners.addItems),this.container.querySelector(".lb-remove-btn").removeEventListener("click",this.listeners.removeItems),this.container.querySelector(".lb-filter-main").removeEventListener("keyup",this.listeners.filterInputKeyup),this.container.querySelector(".lb-filter-secondary").removeEventListener("keyup",this.listeners.filterInputKeyup)}},{key:"_selectAll",value:function(e){var t=e.target,n=t.closest(".lb-block").querySelectorAll(".lb-item");t.checked?n.forEach((function(e){"none"!==window.getComputedStyle(e).display&&(e.firstChild.checked=!0)})):n.forEach((function(e){"none"!==window.getComputedStyle(e).display&&(e.firstChild.checked=!1)})),this._updateSelectedCounter(t.closest(".lb-block"))}},{key:"_selectItem",value:function(e){var t=e.target;this._updateSelectedCounter(t.closest(".lb-block"))}},{key:"_updateSelectedCounter",value:function(e){var t=e.querySelectorAll(".lb-item input:checked").length;e.querySelector(".lb-counter-selected").innerHTML=t,e.classList.contains("lb-main")&&t>0?this.container.querySelector(".lb-add-btn").disabled=!1:this.container.querySelector(".lb-add-btn").disabled=!0,e.classList.contains("lb-secondary")&&t>0?this.container.querySelector(".lb-remove-btn").disabled=!1:this.container.querySelector(".lb-remove-btn").disabled=!0}},{key:"_updateLists",value:function(){var e=this.container.querySelector(".lb-main"),t=e.querySelectorAll(".lb-item").length,n=this.container.querySelector(".lb-secondary"),i=n.querySelectorAll(".lb-item").length;0===t?(e.querySelector(".lb-placeholder").style.display="block",e.querySelector(".lb-header-cb").style.visibility="hidden",e.querySelector(".lb-header-cb").firstChild.checked=!1):(e.querySelector(".lb-placeholder").style.display="none",e.querySelector(".lb-header-cb").style.visibility="visible"),0===i?(n.querySelector(".lb-placeholder").style.display="block",n.querySelector(".lb-header-cb").style.visibility="hidden",n.querySelector(".lb-header-cb").firstChild.checked=!1):(n.querySelector(".lb-placeholder").style.display="none",n.querySelector(".lb-header-cb").style.visibility="visible"),e.querySelector(".lb-counter-total").innerHTML=t,n.querySelector(".lb-counter-total").innerHTML=i}},{key:"_addItems",value:function(){var e=this,t=this.container.querySelector(".lb-main"),n=this.container.querySelector(".lb-secondary .lb-list");t.querySelectorAll(".lb-item").forEach((function(t){t.firstChild.checked&&(t.firstChild.checked=!1,t.classList.add("highlight"),n.prepend(t),setTimeout((function(){return t.classList.remove("highlight")}),1e3),e.output.push(t.getElementsByTagName("label")[0].innerText))})),t.querySelector(".lb-header-cb").firstChild.checked=!1,this._updateSelectedCounter(this.container.querySelector(".lb-main")),this._updateLists();var i=n.closest(".lb-block").querySelector(".lb-filter-input"),r=new Event("keyup");i.dispatchEvent(r)}},{key:"_removeItems",value:function(){var e=this,t=this.container.querySelector(".lb-secondary"),n=this.container.querySelector(".lb-main .lb-list");t.querySelectorAll(".lb-item").forEach((function(t){if(t.firstChild.checked){t.firstChild.checked=!1,t.classList.add("highlight"),n.prepend(t),setTimeout((function(){return t.classList.remove("highlight")}),1e3);var i=e.output.indexOf(t.getElementsByTagName("label")[0].innerText);i>-1&&e.output.splice(i,1)}})),t.querySelector(".lb-header-cb").firstChild.checked=!1,this._updateSelectedCounter(this.container.querySelector(".lb-secondary")),this._updateLists();var i=n.closest(".lb-block").querySelector(".lb-filter-input"),r=new Event("keyup");i.dispatchEvent(r)}},{key:"_filterItems",value:function(e){var t=e.target,n=t.closest(".lb-block"),i=Array.from(t.closest(".lb-block").querySelectorAll(".lb-item")),r=t.value.toLowerCase().trim();if(t.classList.contains("lb-filter-main")){this.filteredOptionsMain=i.filter((function(e){return e.innerText.toLowerCase().indexOf(r)>-1}));var a=n.querySelectorAll(".lb-item").length,s=this.filteredOptionsMain.length;r?(this.filteredOptionsMain.length?(n.querySelector(".lb-placeholder").style.display="none",n.querySelectorAll(".lb-item").forEach((function(e){e.style.display="none"})),this.filteredOptionsMain.forEach((function(e){n.querySelector("[data-item-id="+e.getAttribute("data-item-id")+"]").style.display="block"}))):(n.querySelectorAll(".lb-item").forEach((function(e){e.style.display="none"})),n.querySelector(".lb-placeholder").style.display="block"),n.querySelector(".lb-counter-total").innerText=s+" results of "+a):(n.querySelector(".lb-placeholder").style.display="none",n.querySelector(".lb-counter-total").innerText=a,n.querySelectorAll(".lb-item").forEach((function(e){e.style.display="block"})))}if(t.classList.contains("lb-filter-secondary")){this.filteredOptionsSecondary=i.filter((function(e){return e.innerText.toLowerCase().indexOf(r)>-1}));var o=n.querySelectorAll(".lb-item").length,l=this.filteredOptionsSecondary.length;r?(this.filteredOptionsSecondary.length?(n.querySelector(".lb-placeholder").style.display="none",n.querySelectorAll(".lb-item").forEach((function(e){e.style.display="none"})),this.filteredOptionsSecondary.forEach((function(e){n.querySelector("[data-item-id="+e.getAttribute("data-item-id")+"]").style.display="block"}))):(n.querySelectorAll(".lb-item").forEach((function(e){e.style.display="none"})),n.querySelector(".lb-placeholder").style.display="block"),n.querySelector(".lb-counter-total").innerText=l+" results of "+o):(n.querySelector(".lb-placeholder").style.display="none",n.querySelector(".lb-counter-total").innerText=o,n.querySelectorAll(".lb-item").forEach((function(e){e.style.display="block"})))}}}]),e}(),ne=function(){function e(t){var n=this;v(this,e);var i=t.element;this.dom={signin:i,username:i.querySelector(".username"),inputUsername:i.querySelector("#username"),inputPassword:i.querySelector("#password"),form:i.querySelector("form"),error:i.querySelector(".error"),waiting:i.querySelector(".waiting"),welcome:i.querySelector(".welcome")},this.listeners={click:function(){return n._revealPassword()},blurOrInput:function(e){return n._validateFieldOnBlurOrInput(e)},submit:function(e){return n._validateFormOnSubmit(e)}},this.messages={valueMissing:"Please fill out this field.",typeMismatch:{email:"Please use a valid email.",fallback:"Please use the correct input type."},patternMismatch:{signum:"Please use a valid signum.",fallback:"Please match the requested format."},fallback:"Please enter a correct value for this field."},this.props={validFields:[]},this.callbacks={onSubmit:function(e){return e()}},this.loggedInUrl=t.loggedInUrl||"",t.onSubmit?this.callbacks.onSubmit=t.onSubmit:this.callbacks.onSubmit=function(e){setTimeout((function(){e("Lars Magnus"),setTimeout((function(){window.location.href=n.loggedInUrl}),3e3)}),3e3)}}return g(e,[{key:"init",value:function(){this._addEventListeners()}},{key:"destroy",value:function(){this._removeEventListeners()}},{key:"_addEventListeners",value:function(){var e=this;this.dom.signin.addEventListener("submit",this.listeners.submit),[this.dom.inputUsername,this.dom.inputPassword].forEach((function(t){t.addEventListener("input",e.listeners.blurOrInput),t.addEventListener("blur",e.listeners.blurOrInput)}))}},{key:"_removeEventListeners",value:function(){var e=this;this.dom.signin.removeEventListener("submit",this.listeners.submit),[this.dom.inputUsername,this.dom.inputPassword].forEach((function(t){t.removeEventListener("input",e.listeners.blurOrInput),t.removeEventListener("blur",e.listeners.blurOrInput)}))}},{key:"_validateFieldOnBlurOrInput",value:function(e){var t=e.target,n=t.parentNode,i=n.querySelector(".validation-msg");if(n.classList.contains("validate")){var r=this._getErrorType(t);r&&r!==this.messages.valueMissing&&(i.innerText=r)}}},{key:"_validateFormOnSubmit",value:function(e){var t=this;e.preventDefault();var n=e.target.querySelectorAll(".field");Array.from(n).forEach((function(e,n){var i=e.querySelector("input"),r=e.querySelector(".validation-msg"),a=t._getErrorType(i);a?(r.innerText=a,t.props.validFields[n]=!1):t.props.validFields[n]=!0})),this.props.validFields.every((function(e){return!0===e}))&&this._allFieldsValid()}},{key:"_getErrorType",value:function(e){if(!e.disabled&&"file"!==e.type&&"reset"!==e.type&&"submit"!==e.type&&"button"!==e.type){var t=e.validity;if(!t.valid)return t.valueMissing?this.messages.valueMissing:t.typeMismatch?"email"===e.type?this.messages.typeMismatch.email:this.messages.typeMismatch.fallback:t.patternMismatch?e.classList.contains("signum")?this.messages.patternMismatch.signum:this.messages.patternMismatch.fallback:this.messages.fallback}}},{key:"_allFieldsValid",value:function(){var e=this;this._hideSignInForm(),this._showWaitingScreen();this.dom.error.classList.add("hidden"),this.callbacks.onSubmit((function(t){e.dom.username.innerText=t||"",e._hideWaitingScreen(),e._showWelcomeScreen()}),(function(){e._hideWaitingScreen(),e._showSignInForm(),e.dom.error.classList.remove("hidden")}))}},{key:"_showWaitingScreen",value:function(){this.dom.waiting.classList.remove("hidden")}},{key:"_hideWaitingScreen",value:function(){this.dom.waiting.classList.add("hidden")}},{key:"_showWelcomeScreen",value:function(){this.dom.welcome.classList.remove("hidden")}},{key:"_showSignInForm",value:function(){this.dom.form.classList.remove("hidden")}},{key:"_hideSignInForm",value:function(){this.dom.form.classList.add("hidden")}}]),e}(),ie=function(){function e(t){var n=this;v(this,e),this.dom={spinner:t,controls:t.querySelectorAll(".controls > .icon"),max:t.querySelector("input").getAttribute("max")||Number.MAX_VALUE,min:t.querySelector("input").getAttribute("min")||-Number.MAX_VALUE,step:t.querySelector("input").getAttribute("step")||1,input:t.querySelector("input")},this.type=t.dataset.type,this.listeners={increaseValue:function(){return n._increaseValue()},decreaseValue:function(){return n._decreaseValue()},setCorrectFormat:function(){return n._setCorrectFormat()},controlsKeyDown:function(e){return n._keyActions(e)}}}return g(e,[{key:"init",value:function(){this._setCorrectFormat(),this._addEventListeners()}},{key:"destroy",value:function(){this._removeEventListeners()}},{key:"_addEventListeners",value:function(){this.dom.controls[1].addEventListener("click",this.listeners.increaseValue),this.dom.controls[0].addEventListener("click",this.listeners.decreaseValue),this.dom.input.addEventListener("change",this.listeners.setCorrectFormat),this.dom.controls[0].addEventListener("keydown",this.listeners.controlsKeyDown),this.dom.controls[1].addEventListener("keydown",this.listeners.controlsKeyDown)}},{key:"_removeEventListeners",value:function(){this.dom.controls[1].removeEventListener("click",this.listeners.increaseValue),this.dom.controls[0].removeEventListener("click",this.listeners.decreaseValue),this.dom.input.removeEventListener("change",this.listeners.setCorrectFormat),this.dom.controls[0].removeEventListener("keydown",this.listeners.controlsKeyDown),this.dom.controls[1].removeEventListener("keydown",this.listeners.controlsKeyDown)}},{key:"_setCorrectState",value:function(){var e=this.dom.spinner.querySelector("input");this.dom.controls[0].classList.remove("disabled"),this.dom.controls[1].classList.remove("disabled"),this.dom.max!==Number.MAX_VALUE&&parseInt(e.value,10)===parseInt(this.dom.max,10)&&this.dom.controls[1].classList.add("disabled"),this.dom.min!==-Number.MAX_VALUE&&parseInt(e.value,10)===parseInt(this.dom.min,10)&&this.dom.controls[0].classList.add("disabled")}},{key:"_setCorrectFormat",value:function(){var e=this.dom.spinner.querySelector("input");isNaN(parseInt(e.value,10))?(e.value=this.dom.min,this.dom.input.dispatchEvent(new Event("change"))):(parseInt(e.value,10)>this.dom.max&&(e.value=this.dom.max,this.dom.input.dispatchEvent(new Event("change"))),parseInt(e.value,10)<this.dom.min&&(e.value=this.dom.min,this.dom.input.dispatchEvent(new Event("change")))),this._setCorrectState()}},{key:"_increaseValue",value:function(){var e=this.dom.spinner.querySelector("input");parseInt(e.value,10)<this.dom.max&&(e.value=parseInt(e.value,10)+parseInt(this.dom.step,10)),this._setCorrectFormat(),this.dom.input.dispatchEvent(new Event("change"))}},{key:"_decreaseValue",value:function(){var e=this.dom.spinner.querySelector("input");parseInt(e.value,10)>this.dom.min&&(e.value=parseInt(e.value,10)-parseInt(this.dom.step,10)),this._setCorrectFormat(),this.dom.input.dispatchEvent(new Event("change"))}},{key:"_keyActions",value:function(e){if(" "===e.key){e.preventDefault();var t=e.target;t.classList.contains("icon-chevron-down")?this._decreaseValue():t.classList.contains("icon-chevron-up")&&this._increaseValue()}}},{key:"enable",value:function(){this.dom.input.disabled=!1,Array.from(this.dom.controls).forEach((function(e){e.classList.remove("disabled"),e.tabIndex=0}))}},{key:"disable",value:function(){this.dom.input.disabled=!0,Array.from(this.dom.controls).forEach((function(e){e.classList.add("disabled"),e.tabIndex=-1}))}}]),e}(),re=function(){function e(t){v(this,e),this.dom={title:t.title,content:t.content}}return g(e,[{key:"showContent",value:function(){this.dom.title.classList.add("selected"),this.dom.content.classList.add("selected")}},{key:"hideContent",value:function(){this.dom.title.classList.remove("selected"),this.dom.content.classList.remove("selected")}}]),e}(),ae=function(){function e(t){v(this,e),this.dom={tabGroup:t,titles:t.querySelectorAll(":scope > .titles > .title"),contents:t.querySelectorAll(":scope > .contents > .content")},this.tabs=[],this.listeners={tabs:[]}}return g(e,[{key:"init",value:function(){this._initTabs(),this._addEventListeners()}},{key:"destroy",value:function(){this._removeEventListeners()}},{key:"_addEventListeners",value:function(){var e=this;Array.from(this.tabs).forEach((function(t,n){var i=function(){e._hideAll(),t.showContent()};e.listeners.tabs[n]=i,t.dom.title.addEventListener("click",i),t.dom.title.addEventListener("keyup",(function(e){"Enter"===e.key&&i.call()}))}))}},{key:"_removeEventListeners",value:function(){var e=this;Array.from(this.tabs).forEach((function(t,n){t.dom.title.removeEventListener("click",e.listeners.tabs[n]),t.dom.title.removeEventListener("keyup",e.listeners.tabs[n])})),this.listeners.tabs=[]}},{key:"_hideAll",value:function(){Array.from(this.tabs).forEach((function(e){return e.hideContent()}))}},{key:"_initTabs",value:function(){for(var e=0;e<this.dom.titles.length;e+=1){var t=this.dom.titles[e],n=this.dom.contents[e],i=new re({title:t,content:n});t.classList.contains("selected")&&i.showContent(),this.tabs.push(i)}}}]),e}(),se=function(){function e(t){var n=this;v(this,e),this.dom={table:t,rows:t.querySelectorAll("tr"),bodyRows:t.querySelectorAll("tbody tr"),masterCheckbox:t.querySelector('thead input[type="checkbox"]')},this.listeners={rows:[],clickBodyRow:function(e){e.preventDefault(),n._toggleRowCheckbox(e),n._setMasterCheckboxState()},clickMasterCheckbox:function(){n._toggleAllCheckboxes(),n._setMasterCheckboxState()}},this.settings={selectRowOnFirstTDClick:!0},this.events={tableRowsSelected:new CustomEvent("tableRowsSelected",{detail:{body:void 0,selected:void 0}})}}return g(e,[{key:"init",value:function(){this._setMasterCheckboxState(),this._addEventListeners()}},{key:"destroy",value:function(){this._removeEventListeners()}},{key:"_addEventListeners",value:function(){var e=this;this._isSelectable()&&(this.dom.masterCheckbox.addEventListener("click",this.listeners.clickMasterCheckbox),Array.from(this.dom.bodyRows).forEach((function(t){e.settings.selectRowOnFirstTDClick?t.querySelectorAll("td")[0].addEventListener("click",e.listeners.clickBodyRow,!1):t.addEventListener("click",e.listeners.clickBodyRow,!1)})))}},{key:"_removeEventListeners",value:function(){var e=this;this._isSelectable()&&(this.listeners.rows=[],this.dom.masterCheckbox.removeEventListener("click",this.listeners.clickMasterCheckbox),Array.from(this.dom.bodyRows).forEach((function(t){e.settings.selectRowOnFirstTDClick?t.querySelectorAll("td")[0].removeEventListener("click",e.listeners.clickBodyRow,!1):t.removeEventListener("click",e.listeners.clickBodyRow,!1)})))}},{key:"_toggleRowCheckbox",value:function(e){var t=e.target.closest("tr");t.classList.contains("selected")?this._unselectRow(t):this._selectRow(t)}},{key:"_toggleAllCheckboxes",value:function(){var e=this;Array.from(this.dom.bodyRows).forEach((function(t){e.dom.masterCheckbox.checked?e._selectRow(t):e._unselectRow(t)}))}},{key:"_setMasterCheckboxState",value:function(){var e=this._getNumberOfRows(),t=this._getNumberOfSelectedRows();this.dom.masterCheckbox.checked=t>0,this.dom.masterCheckbox.indeterminate=t>0&&t<e}},{key:"_getNumberOfSelectedRows",value:function(){var e=this.dom.table.querySelectorAll('tbody input[type="checkbox"]:checked').length;return this.events.tableRowsSelected.detail.body=this._getNumberOfRows(),this.events.tableRowsSelected.detail.selected=e,document.dispatchEvent(this.events.tableRowsSelected),e}},{key:"_getNumberOfRows",value:function(){return Array.from(this.dom.bodyRows).length}},{key:"_selectRow",value:function(e){var t=e.querySelector('input[type="checkbox"]');e.classList.add("selected"),t.checked=!0}},{key:"_unselectRow",value:function(e){var t=e.querySelector('input[type="checkbox"]');e.classList.remove("selected"),t.checked=!1}},{key:"_isSelectable",value:function(){return!!this.dom.table.classList.contains("selectable")}}]),e}(),oe=function(){function e(t){v(this,e),this.settings={type:t.getAttribute("type")||"combined",format:Number(t.getAttribute("format"))||24,min:t.getAttribute("min"),max:t.getAttribute("max"),disable:!!t.getAttribute("disable")&&t.getAttribute("disable").split(", "),step:Number(t.getAttribute("step"))||5,classes:{inputType:"input-type",separator:"tp-col-sep",hhInput:"tp-hh-input",mmInput:"tp-mm-input",intervalSelect:"tp-interval-select",singleSelect:"tp-single-select",smartSelect:"tp-smart-select",hoursSelect:"tp-hours-select",minutesSelect:"tp-minutes-select"}},this.dom={element:t},this.value=""}return g(e,[{key:"init",value:function(){this.render(),this.checkDisabledState(),this.labelAction(),this._addEventListeners()}},{key:"render",value:function(){var e=this.settings,t=e.classes,n=this.createElement("span",t.separator),i=this.createElement("input",t.hhInput),r=this.createElement("input",t.mmInput),a=this.createElement("div",t.intervalSelect);if(e.format=24!==e.format&&12!==e.format?24:e.format,n.textContent=":",i.type="text",i.placeholder="HH",r.type="text",r.placeholder="MM",a.classList.add("tp-select","closed"),a.innerHTML='\n      <button type="button" class="btn tp-select-current">AM</button>\n      <div class="tp-select-options" hlindex="-1">\n        <div class="tp-select-option active">AM</div>\n        <div class="tp-select-option">PM</div>\n      </div>\n    ',"inputs"===e.type)this.dom.element.classList.add(t.inputType),this.dom.element.append(i,n,r),12===e.format&&this.dom.element.appendChild(a);else if("combined"===e.type){var s=this.createElement("div",t.singleSelect);s.classList.add("tp-select","time-format-"+e.format,"closed"),this.dom.element.classList.add(t.singleSelect);var o=[];12===e.format?(e.min=e.min?e.min:"01AM",e.max=e.max?e.max:"12PM",s.innerHTML='\n          <button type="button" class="btn tp-select-current">HH:MM '+this.getInterval(e.min)+'</button>\n          <div class="tp-select-options" hlindex="-1"></div>\n        ',o.push('<div class="tp-select-option">HH:MM '+this.getInterval(e.min)+"</div>"),this.getInterval(e.min)===this.getInterval(e.max)?this.printTimeOptions(o,Number(e.min.slice(0,2)),Number(e.max.slice(0,2)),e.step,this.getInterval(e.min)):(this.printTimeOptions(o,Number(e.min.slice(0,2)),12,e.step,this.getInterval(e.min)),this.printTimeOptions(o,1,Number(e.max.slice(0,2)),e.step,this.getInterval(e.max)))):(e.min=e.min?e.min:"00",e.max=e.max?e.max:"23",s.innerHTML='\n          <button type="button" class="btn tp-select-current">HH:MM</button>\n          <div class="tp-select-options" hlindex="-1"></div>\n        ',o.push('<div class="tp-select-option">HH:MM</div>'),this.printTimeOptions(o,Number(e.min),Number(e.max),e.step)),s.querySelector(".tp-select-options").innerHTML=o.join(""),this.dom.element.appendChild(s)}else if("separate"===e.type){var l=this.createElement("div",t.hoursSelect),u=[];l.classList.add("tp-select","closed"),l.innerHTML='\n        <input type="text" class="tp-select-current '+t.hhInput+'" placeholder="HH">\n        <div class="tp-select-options" hlindex="-1"></div>\n      ',12===e.format?(e.min=e.min?e.min:1,e.max=e.max?e.max:12,e.max=e.max>12?12:e.max):(e.min=e.min?e.min:0,e.max=e.max?e.max:23,e.max=e.max>23?23:e.max);for(var c=Number(e.min);c<=Number(e.max);c+=1)u.push('<div class="tp-select-option">'+this.leadingZeroFormat(c,2)+"</div>");l.querySelector(".tp-select-options").innerHTML=u.join(""),this.settings.hoursList=l.querySelectorAll(".tp-select-option"),this.settings.hoursOldVal="";var d=this.createElement("div",t.minutesSelect),h=[],f=0;d.classList.add("tp-select","closed"),d.innerHTML='\n        <input type="text" class="tp-select-current '+t.mmInput+'" placeholder="MM">\n        <div class="tp-select-options" hlindex="-1"></div>\n      ';for(var p=0;p<60;p+=e.step)h.push('<div class="tp-select-option">'+this.leadingZeroFormat(f,2)+"</div>"),f+=e.step;d.querySelector(".tp-select-options").innerHTML=h.join(""),this.settings.minutesList=d.querySelectorAll(".tp-select-option"),this.settings.minutesOldVal="",this.dom.element.append(l,n,d),12===e.format&&this.dom.element.appendChild(a)}else this.dom.element.classList.add("invalid-type"),this.dom.element.innerHTML='Invalid type <i class="icon icon-triangle-warning"></i>'}},{key:"checkDisabledState",value:function(){var e=this.dom.element.querySelectorAll("input"),t=this.dom.element.querySelectorAll("button");if(this.dom.element.hasAttribute("disabled")){this.dom.element.classList.add("disabled"),this.dom.element.removeAttribute("disabled");for(var n=0;n<e.length;n+=1)e[n].tabIndex=-1;for(var i=0;i<t.length;i+=1)t[i].tabIndex=-1}else{this.dom.element.classList.remove("disabled");for(var r=0;r<e.length;r+=1)e[r].removeAttribute("tabIndex");for(var a=0;a<t.length;a+=1)t[a].removeAttribute("tabIndex")}}},{key:"getInterval",value:function(e){return e=e.slice(2).toUpperCase()}},{key:"printTimeOptions",value:function(e,t,n,i,r){var a=this;r=r?" "+r:"";for(var s=t;s<n;s+=1)for(var o=0,l=function(t){var n=a.leadingZeroFormat(o,2),l=a.leadingZeroFormat(s,2)+":"+n+r,u=a.settings.disable;if(u){var c=u.find((function(e){return e.indexOf(l)>-1}))?"disabled":"";e.push('<div class="tp-select-option '+c+'">'+l+"</div>")}else e.push('<div class="tp-select-option">'+l+"</div>");o+=i},u=0;u<60;u+=i)l()}},{key:"_addEventListeners",value:function(){var e,t=this,n=f(this.dom.element.querySelectorAll(".tp-select"));try{var i=function(){var n=e.value;n.querySelector(".tp-select-current").addEventListener("click",(function(e){return t.toggleSelectOpt(e.target.parentElement)})),"INPUT"===n.querySelector(".tp-select-current").tagName&&n.querySelector(".tp-select-current").addEventListener("input",(function(){n.classList.contains("open")||t.toggleSelectOpt(n),t.filterOptions(n),t.setComponentValue()})),n.querySelector(".tp-select-options").addEventListener("click",(function(e){var i=e.target;!i.classList.contains("tp-select-option")||i.classList.contains("disabled")||i.classList.contains("no-results")||(t.setSelectValue(n,i),t.setComponentValue())})),n.addEventListener("keydown",(function(e){"ArrowUp"!==e.key&&"ArrowDown"!==e.key&&"Enter"!==e.key||e.preventDefault()," "===e.key&&e.preventDefault()})),n.addEventListener("keyup",(function(e){return t.arrowKeyActions(e,n)})),n.addEventListener("keydown",(function(e){return t.closeIfTabPressed(e,n)})),t.ifClickedOutside((function(){return t.hideSelectOpt(n)}),"add",n)};for(n.s();!(e=n.n()).done;)i()}catch(e){n.e(e)}finally{n.f()}if("inputs"===this.settings.type)this.dom.element.querySelector(".tp-hh-input").addEventListener("input",(function(e){e.target.value=t.validateInputValue(e.target),t.setComponentValue()})),this.dom.element.querySelector(".tp-mm-input").addEventListener("input",(function(e){e.target.value=t.validateInputValue(e.target),t.setComponentValue()}));document.querySelector(".appcontent")&&document.querySelector(".appcontent").addEventListener("scroll",(function(){var e,n=f(t.dom.element.querySelectorAll(".tp-select.open"));try{for(n.s();!(e=n.n()).done;){var i=e.value;t.optionsListPosition(i)}}catch(e){n.e(e)}finally{n.f()}}))}},{key:"_removeEventListeners",value:function(){var e,t=this,n=f(this.dom.element.querySelectorAll(".tp-select"));try{var i=function(){var n=e.value;n.querySelector(".tp-select-current").removeEventListener("click",(function(e){return t.toggleSelectOpt(e.target.parentElement)})),"INPUT"===n.querySelector(".tp-select-current").tagName&&n.querySelector(".tp-select-current").removeEventListener("input",(function(){n.classList.contains("open")||t.toggleSelectOpt(n),t.filterOptions(n),t.setComponentValue()})),n.querySelector(".tp-select-options").removeEventListener("click",(function(e){e.target.classList.contains("no-results")||(t.setSelectValue(n,e.target),t.setComponentValue())})),n.removeEventListener("keydown",(function(e){"ArrowUp"!==e.key&&"ArrowDown"!==e.key&&"Enter"!==e.key||e.preventDefault()," "===e.key&&e.preventDefault()})),n.removeEventListener("keyup",(function(e){return t.arrowKeyActions(e,n)})),n.removeEventListener("keydown",(function(e){return t.closeIfTabPressed(e,n)})),t.ifClickedOutside((function(){return t.hideSelectOpt(n)}),"add",n)};for(n.s();!(e=n.n()).done;)i()}catch(e){n.e(e)}finally{n.f()}if("inputs"===this.settings.type)this.dom.element.querySelector(".tp-hh-input").removeEventListener("keyup",(function(){t.setComponentValue()})),this.dom.element.querySelector(".tp-mm-input").removeEventListener("keyup",(function(){t.setComponentValue()}));document.querySelector(".appcontent")&&document.querySelector(".appcontent").removeEventListener("scroll",(function(){var e,n=f(t.dom.element.querySelectorAll(".tp-select.open"));try{for(n.s();!(e=n.n()).done;){var i=e.value;t.optionsListPosition(i)}}catch(e){n.e(e)}finally{n.f()}}))}},{key:"destroy",value:function(){this._removeEventListeners()}},{key:"toggleSelectOpt",value:function(e){this.highlightRemove(e),e.classList.toggle("open"),e.classList.toggle("closed"),this.optionsListPosition(e)}},{key:"optionsListPosition",value:function(e){var t=window.innerHeight-e.getBoundingClientRect().height;(t-=e.getBoundingClientRect().top)<e.querySelector(".tp-select-options").offsetHeight+4&&e.classList.contains("open")?e.classList.add("open-top"):e.classList.remove("open-top")}},{key:"hideSelectOpt",value:function(e){this.highlightRemove(e),e.classList.remove("open"),e.classList.add("closed"),this.highlightIndex=-1}},{key:"labelAction",value:function(){var e=this,t=this.dom.element,n=t.previousElementSibling;n&&"LABEL"===n.tagName&&n.getAttribute("for")===t.id&&n.addEventListener("click",(function(){e.dom.element.classList.contains("disabled")||(e.dom.element.firstChild.classList.contains("tp-select")?e.dom.element.querySelector(".tp-select-current").focus():e.dom.element.firstChild.focus())}))}},{key:"validateInputValue",value:function(e){var t=e.value,n=e.classList.contains("tp-mm-input")?"hoursOldVal":"minutesOldVal";return/^[0-9]{1,2}?$/.test(t)||""===t?(this.settings[n]=t,this.settings[n]):t=this.settings[n]}},{key:"arrowKeyActions",value:function(e,t){var n=t.querySelectorAll(".tp-select-option").length-1,i=t.querySelector(".tp-select-options"),r=t.querySelector(".highlighted"),a=t.classList,s=Number(i.getAttribute("hlindex"));switch(e.key){case"Escape":this.hideSelectOpt(t);break;case"ArrowDown":s>=n?s=0:s+=1,i.setAttribute("hlindex",s),this.highlightOption(t,s);break;case"ArrowUp":s<=0?s=n:s-=1,i.setAttribute("hlindex",s),this.highlightOption(t,s);break;case"Enter":!a.contains("open")||r.classList.contains("no-results")||r.classList.contains("disabled")||(this.setSelectValue(t),this.setComponentValue());break;case" ":a.contains("open")&&r&&!r.classList.contains("disabled")&&!r.classList.contains("no-results")?(this.setSelectValue(t),this.setComponentValue()):a.contains("disabled")||this.toggleSelectOpt(t)}}},{key:"closeIfTabPressed",value:function(e,t){"Tab"===e.key&&this.hideSelectOpt(t)}},{key:"highlightOption",value:function(e,t){var n,i=e.querySelectorAll(".tp-select-option"),r=e.querySelector(".tp-select-options"),a=f(i);try{for(a.s();!(n=a.n()).done;){n.value.classList.remove("highlighted")}}catch(e){a.e(e)}finally{a.f()}i[t].classList.add("highlighted"),this.isInViewport(i[t],r)||(r.scrollTop=i[t].offsetTop)}},{key:"highlightRemove",value:function(e){var t,n=e.querySelectorAll(".tp-select-option"),i=e.querySelector(".tp-select-options"),r=f(n);try{for(r.s();!(t=r.n()).done;){t.value.classList.remove("highlighted")}}catch(e){r.e(e)}finally{r.f()}i.setAttribute("hlindex",-1)}},{key:"setSelectValue",value:function(e,t){var n,i=e.querySelector(".tp-select-current"),r=e.querySelector(".highlighted")||t,a=f(e.querySelectorAll(".tp-select-option"));try{for(a.s();!(n=a.n()).done;){n.value.classList.remove("active")}}catch(e){a.e(e)}finally{a.f()}this.hideSelectOpt(e),i.classList.contains("tp-hh-input")||i.classList.contains("tp-mm-input")?(r&&(i.value=r.innerText),this.filterOptions(e)):(r.classList.add("active"),i.innerText=r.innerText)}},{key:"setComponentValue",value:function(){switch(this.settings.type){case"inputs":var e=this.validateInputValue(this.dom.element.querySelector(".tp-hh-input"))||"--",t=this.dom.element.querySelector(".tp-mm-input").value||"--",n=this.dom.element.querySelector(".tp-interval-select");e=this.leadingZeroFormat(e),t=this.leadingZeroFormat(t),this.value=n?e+":"+t+" "+n.innerText:e+":"+t;break;case"combined":this.value=this.dom.element.querySelector(".tp-select-current").innerText;break;case"separate":var i=this.dom.element.querySelector(".tp-hh-input").value||"--",r=this.dom.element.querySelector(".tp-mm-input").value||"--",a=this.dom.element.querySelector(".tp-interval-select");i=this.leadingZeroFormat(i),r=this.leadingZeroFormat(r),this.value=a?i+":"+r+" "+a.innerText:i+":"+r}}},{key:"leadingZeroFormat",value:function(e,t){for(var n=String(e);n.length<(t||2);)n="0"+n;return n}},{key:"filterOptions",value:function(e){var t=e.querySelector(".tp-select-current"),n=e.querySelector(".tp-select-options"),i=Array.from(n.children);t.value=this.validateInputValue(t);var r=t.value.toLowerCase().trim();[].forEach.call(i,(function(e){e.classList.remove("active","highlighted")})),n.setAttribute("hlindex",-1),n.scrollTop=0;var a=0;r.length>0&&(a=i.find((function(e){return e.innerText.toLowerCase().indexOf(r)>-1}))),0!==a&&void 0!==a&&(n.setAttribute("hlindex",i.indexOf(a)),a.classList.add("active","highlighted"),a.parentNode.scrollTop=a.offsetTop)}},{key:"isInViewport",value:function(e,t){var n=e.offsetTop,i=n+e.clientHeight,r=t.scrollTop,a=r+t.offsetHeight-4;return i>r&&n<a}},{key:"createElement",value:function(e,t){var n=document.createElement(e);if("string"==typeof t)n.classList.add(t);else if(t===Object(t))for(var i in t)i in n?n[i]=t[i]:n.setAttribute(n[i],t[i]);return n}},{key:"ifClickedOutside",value:function(e,t,n){var i=this;"remove"===t?document.removeEventListener("click",(function(t){var r=t.target;n.contains(r)||e.bind(i)()})):document.addEventListener("click",(function(t){var r=t.target;n.contains(r)||e.bind(i)()}))}}]),e}(),le=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;v(this,e),this.container=t,this.mainList=null,this.entries=JSON.parse(JSON.stringify(n)),this.selected=null,this.counter=0,this.focus=0,this.resizeObserver=null,this.dateGroups=[],this.options={sorting:"order",order:"dsc",from:null,to:null,template:null,selectable:!1,headings:!1,collapsible:!1,locale:"en-US",timeFormat:{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}},this.listeners={document:[],entries:[]}}return g(e,[{key:"init",value:function(e){this.update(e),this._setResizeObserver()}},{key:"update",value:function(e){this.entries&&(this.destroy(),this._setProps(e),this._setMainList(),this._addMainListClasses(),this._formatDataAndGenerateContents(),this._addGeneralListeners(),this._setStickyHeaders())}},{key:"destroy",value:function(){var e=this.listeners.entries.concat(this.listeners.document);e.length>0&&e.forEach((function(e){var t=e.action,n=e.element,i=e.handler;n.removeEventListener(t,i)})),this.resizeObserver&&this.resizeObserver.unobserve(this.container)}},{key:"_setProps",value:function(e){for(var t in e)Object.prototype.hasOwnProperty.call(this.options,t)&&(this.options[t]=e[t])}},{key:"_setMainList",value:function(){this.mainList?this._clearMainList():this._createMainList()}},{key:"_createMainList",value:function(){this.mainList=document.createElement("UL"),this.mainList.classList.add("main-list"),this.container.appendChild(this.mainList)}},{key:"_clearMainList",value:function(){this.mainList.innerHTML=""}},{key:"_addMainListClasses",value:function(){var e=this;["selectable","headings"].forEach((function(t){e._toggleClass(e.mainList,e.options[t],t)}))}},{key:"_toggleClass",value:function(e,t,n){t?e.classList.add(n):e.classList.remove(n)}},{key:"_formatDataAndGenerateContents",value:function(){this._formatEntryData(this.entries);var e=this._constrainEntries();this._generateTimelineContents(this.mainList,e)}},{key:"_formatEntryData",value:function(e){var t=this;e.forEach((function(e){t._setEntryOrder(e),t._parseTimestamp(e),t._formatSubTimeline(e)})),this._sortEntries(e)}},{key:"_setEntryOrder",value:function(e){void 0===e.order&&(e.order=this.counter,this.counter+=1)}},{key:"_parseTimestamp",value:function(e){e.timestamp&&(e.timestamp=this._parseDate(e.timestamp))}},{key:"_parseDate",value:function(e){return e instanceof Date?e:new Date(e)}},{key:"_formatSubTimeline",value:function(e){e.timeline&&this._formatEntryData(e.timeline)}},{key:"_sortEntries",value:function(e){var t=this;e.sort((function(e,n){return"dsc"===t.options.order?t._compare(n[t.options.sorting],e[t.options.sorting]):t._compare(e[t.options.sorting],n[t.options.sorting])}))}},{key:"_compare",value:function(e,t){return"string"==typeof e||"string"==typeof t?e>t?1:-1:e-t}},{key:"_constrainEntries",value:function(){var e=this,t=this.options,n=t.from,i=t.to;return this.entries.filter((function(t){return(!n||e._getSortValue(t)>=e._getTimeIfDate(n))&&(!i||e._getSortValue(t)<=e._getTimeIfDate(i))}))}},{key:"_getSortValue",value:function(e){return this._getTimeIfDate(e[this.options.sorting])}},{key:"_getTimeIfDate",value:function(e){return"timestamp"===this.options.sorting?this._parseDate(e).getTime():e}},{key:"_generateTimelineContents",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.mainList,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.entries,i=null,r=t;n.forEach((function(n){e._dateGroupIsNeeded(i,n)&&(r=e._addDateGroup(n,t)),e._generateEntry(n,r),e._addScheduledClass(n,i),i=n}))}},{key:"_dateGroupIsNeeded",value:function(e,t){return"timestamp"===this.options.sorting&&this.options.headings&&this._dayIsDifferent(e,t)}},{key:"_dayIsDifferent",value:function(e,t){if(!e)return!0;var n=this._trimDate(e.timestamp),i=this._trimDate(t.timestamp);return n.getTime()!==i.getTime()}},{key:"_trimDate",value:function(e){var t=new Date(e);return t.setHours(0,0,0,0),t}},{key:"_addDateGroup",value:function(e,t){var n=this._createDateGroupHeading(e.timestamp),i=this._createDateGroup(n);this.dateGroups.push(i.container);var r=i.entryList;return t.appendChild(i.container),r}},{key:"_createDateGroupHeading",value:function(e){var t=new Intl.DateTimeFormat(this.options.locale,{month:"long",day:"numeric",year:"numeric"}).format(e),n=e>new Date?" to-scheduled":"";return'<div class="heading'.concat(n,'">\n        <span class="label">').concat(t,"</span>\n    </div>")}},{key:"_createDateGroup",value:function(e){var t=document.createElement("LI");t.classList.add("date-group"),t.innerHTML=e;var n=document.createElement("UL");return n.classList.add("entry-list"),t.appendChild(n),{container:t,entryList:n}}},{key:"_generateEntry",value:function(e,t){this._createEntryElement(e),this._addIconClass(e),this._registerEntryEvents(e),this._addCollapseButton(e),this._generateSubTimeline(e),t.appendChild(e.element)}},{key:"_createEntryElement",value:function(e){var t=document.createElement("LI");t.classList.add("entry");var n=this._createTargetElement(e);t.append(n),e.target=n,e.element=t}},{key:"_createTargetElement",value:function(e){var t=document.createElement("DIV");t.classList.add("target");var n=this._getTemplate(e);return this._addHTMLcontent(t,n),t}},{key:"_addHTMLcontent",value:function(e,t){"object"===_(t)?e.append(t):e.innerHTML=t}},{key:"_getTemplate",value:function(e){return this.options.template?this.options.template(e):this._getDefaultTemplate(e)}},{key:"_getDefaultTemplate",value:function(e){return"\n      ".concat(this._displayTime(e),"\n      ").concat(this._displayTitle(e),"\n      ").concat(this._displayStatus(e),"\n      ").concat(this._displayContent(e),"\n    ")}},{key:"_tabIndex",value:function(){return this.options.selectable?'tabIndex="0"':""}},{key:"_displayTime",value:function(e){return e.timestamp?'\n      <time class="time" datetime="">\n        '.concat(this._formatTime(e.timestamp),"\n      </time>"):""}},{key:"_formatTime",value:function(e){return e.toLocaleString(this.options.locale,this.options.timeFormat)}},{key:"_displayTitle",value:function(e){return e.title?'<h4 class="title">'.concat(e.title,"</h4>"):""}},{key:"_displayStatus",value:function(e){if(e.status){var t="";return e.status.forEach((function(e){t+='<span><i class="icon icon-'.concat(e.icon,'"></i>').concat(e.label,"</span>")})),'<span class="status">'.concat(t,"</span>")}return""}},{key:"_displayContent",value:function(e){return e.content?'<div class="content">'.concat(e.content,"</div>"):""}},{key:"_addIconClass",value:function(e){e.icon&&e.element.classList.add("icon-".concat(e.icon))}},{key:"_registerEntryEvents",value:function(e){var t=this;this.options.selectable&&(this._registerListener(e.target,"click",(function(){t._selectEntry(e)})),this._registerListener(e.target,"keyup",(function(n){"Enter"===n.key&&(t._deselectEntry(),t._selectEntry(e))})),this._registerListener(e.target,"focus",(function(){t.focus=t._getIndex(e)})))}},{key:"_registerListener",value:function(e,t,n){e.addEventListener(t,n),e===document?this.listeners.document={action:t,element:e,handler:n}:this.listeners.entries.push({action:t,element:e,handler:n})}},{key:"_selectEntry",value:function(e){this.selected=e.element,this.selected.classList.add("active");var t=new CustomEvent("selectEntry",{detail:c({},e)});t.detail[this.options.sorting]=e[this.options.sorting],document.dispatchEvent(t)}},{key:"_deselectEntry",value:function(){this.selected&&this.selected.classList.remove("active")}},{key:"_getIndex",value:function(e){return this.entries.findIndex((function(t){return t===e}))}},{key:"_addCollapseButton",value:function(e){if(this.options.collapsible){var t=document.createElement("BUTTON");t.classList.add("collapse-btn"),this._registerListener(t,"click",(function(t){t.stopPropagation(),t.preventDefault(),e.element.classList.toggle("collapsed")})),e.target.appendChild(t)}}},{key:"_generateSubTimeline",value:function(e){if(e.timeline){var t=document.createElement("UL");e.element.appendChild(t),this._generateTimelineContents(t,e.timeline)}}},{key:"_addScheduledClass",value:function(e,t){"timestamp"===this.options.sorting&&(this._addClassIfScheduled(t,e,"to-scheduled"),this._addClassIfScheduled(e,e,"scheduled"))}},{key:"_addClassIfScheduled",value:function(e,t,n){e&&t.timestamp>new Date&&e.element.classList.add(n)}},{key:"_addGeneralListeners",value:function(){this.options.selectable&&(this._registerListener(document,"mouseup",this._deselectEntry.bind(this)),this._registerListener(this.container,"keydown",this._keyboardNav.bind(this)))}},{key:"_keyboardNav",value:function(e){var t=this._getKeyCodes();this._updateFocus(e,t),this._constrainFocus(),this._setFocus(e,t)}},{key:"_getKeyCodes",value:function(){var e=this._isHorizontal()?"ArrowRight":"ArrowDown";return{prev:this._isHorizontal()?"ArrowLeft":"ArrowUp",next:e}}},{key:"_isHorizontal",value:function(){return this.container.classList.contains("horizontal")&&!this.container.classList.contains("compact")}},{key:"_updateFocus",value:function(e,t){var n=t.prev,i=t.next;e.key===i?this.focus+=1:e.key===n&&(this.focus-=1)}},{key:"_constrainFocus",value:function(){this.focus>=this.entries.length&&(this.focus=0),this.focus<0&&(this.focus=this.entries.length-1)}},{key:"_setFocus",value:function(e,t){var n=t.prev,i=t.next;e.key!==n&&e.key!==i||(e.preventDefault(),this.entries[this.focus].target.focus())}},{key:"_setStickyHeaders",value:function(){"timestamp"===this.options.sorting&&this.options.headings&&this._registerListener(this.mainList,"scroll",this._throttle(this._scrollHandler,100))}},{key:"_throttle",value:function(e,t){var n=this,i=!0,r=null;return setInterval((function(){i=!0}),t),function(t){i&&e.bind(n)(t),clearTimeout(r),r=setTimeout((function(){e.bind(n)(t)}),0),i=!1}}},{key:"_scrollHandler",value:function(e){var t=this,n=e.target,i=this._isHorizontal()?"scrollLeft":"scrollTop",r=this._isHorizontal()?"offsetLeft":"offsetTop",a=this._isHorizontal()?"offsetWidth":"offsetHeight",s=this._isHorizontal()?250:48;this.dateGroups.forEach((function(e){if(!t._isSubTimeline(e)){var o=e[r],l=o<n[i],u=o+e[a]-s<n[i];t._toggleClass(e,l,"timeline-sticky"),t._toggleClass(e,u,"fade")}}))}},{key:"_isSubTimeline",value:function(e){return e.offsetParent.classList.contains("entry")}},{key:"_setResizeObserver",value:function(){var e=this;"undefined"!=typeof ResizeObserver&&(this.resizeObserver=new ResizeObserver((function(t){var n,i=f(t);try{for(i.s();!(n=i.n()).done;){var r=n.value;e._toggleClass(r.target,r.contentRect.width<500,"compact")}}catch(e){i.e(e)}finally{i.f()}})),this.resizeObserver.observe(this.container))}},{key:"addEntries",value:function(e){this._clearMainList(),this.entries=this.entries.concat(e),this._formatDataAndGenerateContents()}},{key:"removeEntries",value:function(e){return this._removeEntriesBy(e)}},{key:"_removeEntriesBy",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=[].concat(e).map((function(e){return n?t._sortValueToIndex(e):e}));this._clearMainList();var r=this.entries.filter((function(e,t){return i.includes(t)}));return this.entries=this.entries.filter((function(e,t){return!i.includes(t)})),this._formatDataAndGenerateContents(),r}},{key:"removeEntriesBySortValue",value:function(e){return this._removeEntriesBy(e,!0)}},{key:"_sortValueToIndex",value:function(e){var t=this;return this.entries.findIndex((function(n){return t._getSortValue(n)===t._getTimeIfDate(e)}))}}]),e}(),ue=function(){function e(t){var n=this;v(this,e),this.dom={accordion:t,titles:t.querySelectorAll(".title")},this.listeners={toggleAccordion:[],keyDown:function(e){" "===e.key&&e.target.classList.contains("title")&&(e.preventDefault(),n._toggleAccordion(e.target))}}}return g(e,[{key:"init",value:function(){this._addEventListeners()}},{key:"destroy",value:function(){this._removeEventListeners()}},{key:"_addEventListeners",value:function(){var e=this;Array.from(this.dom.titles).forEach((function(t,n){var i=function(){e._toggleAccordion(t)};t.addEventListener("click",i),e.listeners.toggleAccordion[n]=i,t.addEventListener("keydown",e.listeners.keyDown)}))}},{key:"_removeEventListeners",value:function(){var e=this;Array.from(this.dom.titles).forEach((function(t,n){t.removeEventListener("click",e.listeners.toggleAccordion[n]),t.removeEventListener("keydown",e.listeners.keyDown)})),this.listeners.toggleAccordion=[]}},{key:"_toggleAccordion",value:function(e){e.classList.toggle("opened")}}]),e}(),ce=function(){function e(t,n){var i=this;v(this,e),this.dom={content:t,parent:n},this.listeners={showCorrectContent:function(e){return i.showCorrectContent(e)}}}return g(e,[{key:"init",value:function(){this._addEventListeners()}},{key:"destroy",value:function(){this._removeEventListeners()}},{key:"_addEventListeners",value:function(){this.dom.parent.addEventListener("wizardState",this.listeners.showCorrectContent)}},{key:"_removeEventListeners",value:function(){this.dom.parent.removeEventListener("wizardState",this.listeners.showCorrectContent)}},{key:"showCorrectContent",value:function(e){var t=this,n=e.detail.state.currentStep;Array.from(this.dom.content.children).filter((function(e){return e.classList.contains("content")})).forEach((function(e,i){i===n?t.showContent(e):t.hideContent(e)}))}},{key:"showContent",value:function(e){e.classList.remove("hidden")}},{key:"hideContent",value:function(e){e.classList.add("hidden")}}]),e}(),de=function(){function e(t,n){var i=this;v(this,e),this.dom={wizardFooter:t,nextAction:t.querySelector(".wizard-next"),finishAction:t.querySelector(".wizard-finish"),finishedAction:t.querySelector(".wizard-finished"),prevAction:t.querySelector(".wizard-previous"),parent:n},this.listeners={nextStep:function(){return i.nextStep()},prevStep:function(){return i.prevStep()},updateButtons:function(e){return i.updateButtons(e)}},this.target=t.dataset.target,this.wizardState=void 0,this.events={wizardStateChange:new CustomEvent("wizardStateChange",{detail:{message:"state changed"},bubbles:!0,cancelable:!0}),wizardShowNextSteps:new CustomEvent("wizardShowNextSteps",{detail:{message:"show next steps"},bubbles:!0,cancelable:!0}),wizardShowPrevSteps:new CustomEvent("wizardShowPrevSteps",{detail:{message:"show prev steps"},bubbles:!0,cancelable:!0}),wizardFinished:new CustomEvent("wizardFinished",{detail:{message:"finished"},bubbles:!0,cancelable:!0})}}return g(e,[{key:"init",value:function(){this._addEventListeners()}},{key:"destroy",value:function(){this._removeEventListeners()}},{key:"_addEventListeners",value:function(){this.dom.nextAction.addEventListener("click",this.listeners.nextStep),this.dom.finishAction.addEventListener("click",this.listeners.nextStep),this.dom.prevAction.addEventListener("click",this.listeners.prevStep),this.dom.parent.addEventListener("wizardState",this.listeners.updateButtons)}},{key:"_removeEventListeners",value:function(){this.dom.nextAction.removeEventListener("click",this.listeners.nextStep),this.dom.finishAction.removeEventListener("click",this.listeners.nextStep),this.dom.prevAction.removeEventListener("click",this.listeners.prevStep),this.dom.parent.removeEventListener("wizardState",this.listeners.updateButtons)}},{key:"nextStep",value:function(){var e=this.wizardState.currentStep,t=this.wizardState.presentation.slice(-1)[0];e>=0&&e<this.wizardState.numSteps&&(this.wizardState.currentStep+=1,this.events.wizardStateChange.detail.state=this.wizardState,this.dom.parent.dispatchEvent(this.events.wizardStateChange),e===t-1&&this.dom.parent.dispatchEvent(this.events.wizardShowNextSteps))}},{key:"prevStep",value:function(){var e=this.wizardState.currentStep,t=this.wizardState.presentation[0];e>0&&(this.wizardState.currentStep-=1,this.events.wizardStateChange.detail.state=this.wizardState,this.dom.parent.dispatchEvent(this.events.wizardStateChange),e===t&&this.dom.parent.dispatchEvent(this.events.wizardShowPrevSteps))}},{key:"updateButtons",value:function(e){this.wizardState=e.detail.state;var t=e.detail.state.currentStep;t===e.detail.state.numSteps-1?(this.dom.nextAction.classList.add("hidden"),this.dom.finishAction.classList.remove("hidden"),this.dom.finishedAction.classList.add("hidden")):(this.dom.nextAction.classList.remove("hidden"),this.dom.finishAction.classList.add("hidden"),this.dom.finishedAction.classList.add("hidden")),t>0?this.dom.prevAction.classList.remove("hidden"):this.dom.prevAction.classList.add("hidden"),t===e.detail.state.numSteps&&(this.dom.nextAction.classList.add("hidden"),this.dom.finishAction.classList.add("hidden"),this.dom.finishedAction.classList.remove("hidden"),null!==this.dom.prevAction.parentNode&&(this.dom.prevAction.parentNode.removeChild(this.dom.prevAction),this.dom.prevAction.disabled=!1),this.dom.parent.dispatchEvent(this.events.wizardFinished))}}]),e}(),he=function(){function e(t,n){var i=this;v(this,e),this.dom={wizard:t,arrows:t.querySelectorAll(".arrow"),steps:t.querySelectorAll(".step"),points:null,id:t.getAttribute("id"),parent:n},this.listeners={updateState:function(e){return i.updateState(e)},showNextSteps:function(){return i.showNextSteps()},showPrevSteps:function(){return i.showPrevSteps()},updateScenario:function(){return i.updateScenario()},updateScenarioTimeout:function(){return setTimeout((function(){return i.updateScenario()}),250)},steps:[]},this.state=null,this.scenario=4,this.type=t.dataset.type,this.events={wizardState:new CustomEvent("wizardState",{detail:{message:"state changed"},bubbles:!0,cancelable:!0})}}return g(e,[{key:"init",value:function(){this.setInitState(),this.setInitContext(),this.updateScenario(),this._addEventListeners()}},{key:"destroy",value:function(){this._removeEventListeners()}},{key:"_addEventListeners",value:function(){var e=this,t=this.dom.wizard.querySelector(".arrow.left");this.dom.wizard.querySelector(".arrow.right").addEventListener("click",this.listeners.showNextSteps),t.addEventListener("click",this.listeners.showPrevSteps),window.addEventListener("resize",this.listeners.updateScenario),document.addEventListener("toggleNavigation",this.listeners.updateScenarioTimeout),Array.from(this.dom.steps).forEach((function(t,n){var i=function(){t.classList.contains("completed")&&e.go2Step(n)};t.addEventListener("click",i),e.listeners.steps[n]=i})),this.dom.parent.addEventListener("wizardStateChange",this.listeners.updateState),this.dom.parent.addEventListener("wizardShowNextSteps",this.listeners.showNextSteps),this.dom.parent.addEventListener("wizardShowPrevSteps",this.listeners.showPrevSteps)}},{key:"_removeEventListeners",value:function(){var e=this,t=this.dom.wizard.querySelector(".arrow.left");this.dom.wizard.querySelector(".arrow.right").removeEventListener("click",this.listeners.showNextSteps),t.removeEventListener("click",this.listeners.showPrevSteps),window.removeEventListener("resize",this.listeners.updateScenario),document.removeEventListener("toggleNavigation",this.listeners.updateScenarioTimeout),Array.from(this.dom.steps).forEach((function(t,n){t.removeEventListener("click",e.listeners.steps[n])})),this.listeners.steps=[],this.dom.parent.removeEventListener("wizardStateChange",this.listeners.updateState),this.dom.parent.removeEventListener("wizardShowNextSteps",this.listeners.showNextSteps),this.dom.parent.removeEventListener("wizardShowPrevSteps",this.listeners.showPrevSteps)}},{key:"updateState",value:function(e){this.state=e.detail.state,this.updateDOM()}},{key:"showArrow",value:function(e){switch(e){case"left":this.dom.arrows[0].classList.add("visible");break;case"right":this.dom.arrows[1].classList.add("visible")}}},{key:"hideArrow",value:function(e){switch(e){case"left":this.dom.arrows[0].classList.remove("visible");break;case"right":this.dom.arrows[1].classList.remove("visible")}}},{key:"setInitState",value:function(){var e=Array.from(this.dom.steps).map((function(e,t){return t}));this.state={currentStep:0,maxCompletedStep:0,refIndex:0,numSteps:this.dom.steps.length,allSteps:e,presentation:e.slice(0,this.scenario),prevSteps:[],nextSteps:e.slice(this.scenario,this.dom.steps.length)},this.events.wizardState.detail.state=this.state,this.dom.parent.dispatchEvent(this.events.wizardState)}},{key:"showNextSteps",value:function(){this.state.refIndex+=1,this.keepRefIndexInBounds();var e=this.state.allSteps.slice(this.state.refIndex,this.state.refIndex+this.scenario);e.length<=this.scenario&&(this.state.presentation=e),this.state.prevSteps=this.state.allSteps.slice(0,this.state.refIndex),this.state.nextSteps=this.state.allSteps.slice(this.state.refIndex+this.scenario,this.dom.steps.length),this.updateDOM()}},{key:"showPrevSteps",value:function(){this.state.refIndex-=1,this.keepRefIndexInBounds(),this.state.presentation=this.state.allSteps.slice(this.state.refIndex,this.state.refIndex+this.scenario),this.state.prevSteps=this.state.allSteps.slice(0,this.state.refIndex),this.state.nextSteps=this.state.allSteps.slice(this.state.refIndex+this.scenario,this.dom.steps.length),this.updateDOM()}},{key:"nextStep",value:function(){this.state.currentStep+=1,this.updateDOM()}},{key:"prevStep",value:function(){this.state.currentStep-=1,this.updateDOM()}},{key:"updateDOM",value:function(){this.keepRefIndexInBounds(),this.updateDOMCurrentState(),this.updateDOMArrows(),this.updateDOMStepsVisibility(),this.updateDOMContext(),this.events.wizardState.detail.state=this.state,this.dom.parent.dispatchEvent(this.events.wizardState)}},{key:"updateDOMArrows",value:function(){this.state.nextSteps.length>0?this.showArrow("right"):this.hideArrow("right"),this.state.prevSteps.length>0?this.showArrow("left"):this.hideArrow("left")}},{key:"updateDOMCurrentState",value:function(){var e=this;this.state.maxCompletedStep=Math.max(this.state.maxCompletedStep,this.state.currentStep-1),Array.from(this.dom.steps).forEach((function(t,n){t.classList.remove("current"),t.classList.remove("completed-last"),n<e.state.currentStep&&t.classList.add("completed"),n===e.state.maxCompletedStep&&t.classList.add("completed-last"),n===e.state.currentStep&&t.classList.add("current")}))}},{key:"updateDOMStepsVisibility",value:function(){var e=this;Array.from(this.dom.steps).forEach((function(t,n){t.classList.add("hidden"),t.classList.remove("visible"),e.state.presentation.indexOf(n)>-1&&(t.classList.remove("hidden"),t.classList.add("visible"))}))}},{key:"updateDOMContext",value:function(){var e=this;Array.from(this.dom.points).forEach((function(t,n){t.classList.remove("current"),n===e.state.currentStep&&t.classList.add("current"),t.classList.add("out-of-presentation"),e.state.presentation.indexOf(n)>-1&&t.classList.remove("out-of-presentation")}))}},{key:"setInitContext",value:function(){var e=this,t=document.createElement("div");t.classList.add("navigation"),Array.from(this.state.allSteps).forEach((function(n,i){var r=document.createElement("div");r.classList.add("point"),0===i&&r.classList.add("current"),e.state.nextSteps.indexOf(i)>-1&&r.classList.add("out-of-presentation"),t.appendChild(r)})),this.dom.wizard.appendChild(t),this.dom.points=this.dom.wizard.querySelectorAll(".point")}},{key:"updateScenario",value:function(){var e=this.dom.wizard.offsetWidth;this.scenario=Math.floor((e-152)/180),this.keepRefIndexInBounds();var t=this.state.allSteps.slice(this.state.refIndex,this.state.refIndex+this.scenario);t.length<=this.scenario&&(this.state.presentation=t),this.state.prevSteps=this.state.allSteps.slice(0,this.state.refIndex),this.state.nextSteps=this.state.allSteps.slice(this.state.refIndex+this.scenario,this.dom.steps.length),this.updateDOM()}},{key:"keepRefIndexInBounds",value:function(){this.state.refIndex<0&&(this.state.refIndex=0);var e=this.state.numSteps>this.scenario?this.state.numSteps-this.scenario:0;this.state.refIndex>e&&(this.state.refIndex=e)}},{key:"go2Step",value:function(e){var t=this.state.currentStep-e;if(t>0)for(var n=0;n<t;n+=1)this.prevStep();if(t<0)for(var i=0;i<-t;i+=1)this.nextStep()}}]),e}(),fe=function(){function e(t){v(this,e),this.dom={wizard:t,steps:t.querySelector(".wizard-steps"),content:t.querySelector(".wizard-content"),footer:t.querySelector(".wizard-footer")},this.steps=null,this.content=null,this.footer=null}return g(e,[{key:"init",value:function(){if(!this.dom.footer)throw new Error("Wizard footer not found!");if(this.footer=new de(this.dom.footer,this.dom.wizard),this.footer.init(),!this.dom.content)throw new Error("Wizard content not found!");if(this.content=new ce(this.dom.content,this.dom.wizard),this.content.init(),!this.dom.steps)throw new Error("Wizard steps not found!");this.steps=new he(this.dom.steps,this.dom.wizard),this.steps.init()}},{key:"destroy",value:function(){this.steps&&this.steps.destroy(),this.content&&this.content.destroy(),this.footer&&this.footer.destroy()}},{key:"goToStep",value:function(e){this.steps&&this.steps.go2Step(e)}}]),e}(),pe=function(){function e(t,n){v(this,e),this.component=t,this.setData(n)}return g(e,[{key:"setData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.highlightResetFlag=!1,this.initialData=e,this.hidden=[],this.data=this._processData(this.initialData),this.filter()}},{key:"addData",value:function(e){e&&(this.data.push(c(c({},e),{},{selected:e.selected||!1,indexOriginal:this.data.length+this.hidden.length})),this.filter())}},{key:"filter",value:function(){var e=this,t=this.component.currentFilter,n=this.component.currentSearch,i=Object.keys(t).some((function(e){return t[e]&&t[e].length>0})),r=n.length>0;if(!i&&!r&&this.hidden.length>0)return this.data=[].concat(l(this.data),l(this.hidden)),this.hidden=[],void this.sort();if(i||r){var a=this.component.settings.columns,s=[].concat(l(this.data),l(this.hidden));this.hidden=[],this.data=[],s.forEach((function(s){!function(e){var s=function(t,n){return-1!==(e[t]+"").toLowerCase().indexOf(n.toLowerCase())},o=!1;r&&a.forEach((function(e){s(e.key,n)&&(o=!0)}));var l=!0;return i&&a.forEach((function(e){var n=t[e.key];n&&n.length>0&&!s(e.key,n)&&(l=!1)})),r&&i?o&&l:r?o:l}(s)?e.hidden.push(s):e.data.push(s)})),this.sort()}else this.sort()}},{key:"deleteByIndex",value:function(e){this.data.splice(e,1),this.setDisplayedData()}},{key:"selectByIndex",value:function(e){this.data[e].selected=!0}},{key:"deselectByIndex",value:function(e){this.data[e].selected=!1}},{key:"selectAll",value:function(){this.data.forEach((function(e){!0!==e.disabled&&(e.selected=!0)}))}},{key:"deselectAll",value:function(){this.data.forEach((function(e){!0!==e.disabled&&(e.selected=!1)}))}},{key:"sort",value:function(){var e=this;if(this.component.currentSort.length){this._resetSort();var t={default:function(t,n){return"asc"===n?function(n,i){return e._defaultSortAsc(n,i,t)}:function(n,i){return e._defaultSortDesc(n,i,t)}},number:function(t,n){return"asc"===n?function(n,i){return e._numberSortAsc(n,i,t)}:function(n,i){return e._numberSortDesc(n,i,t)}},date:function(t,n){return"asc"===n?function(n,i){return e._dateSortAsc(n,i,t)}:function(n,i){return e._dateSortDesc(n,i,t)}}};this.data.sort((function(n,i){for(var r=0;r<e.component.currentSort.length;r+=1){var a=e.component.currentSort[r],s=t[a.type];if(void 0===s&&(s=t.default),(s=s(a.key,a.dir))(n,i)>0)return 1;if(s(n,i)<0)return-1}return 0}))}else this._resetSort()}},{key:"_processData",value:function(e){return e.map((function(e,t){return c(c({},e),{},{selected:e.selected||!1,indexOriginal:t})}))}},{key:"setDisplayedData",value:function(){if(this.component.pagination){var e=this.component.pagination.state.numPerPage,t=this.component.pagination.state.currentPage,n=e*(t-1),i=e*t;this.displayedData=this.data.slice(n,i)}else this.displayedData=this.data}},{key:"_resetHighlights",value:function(){var e=this.component.settings.columns;this.data.forEach((function(t){e.forEach((function(e){t["_".concat(e.key,"_highlight")]=!1}))}))}},{key:"_defaultSortAsc",value:function(e,t,n){return e[n]<t[n]?-1:e[n]>t[n]?1:0}},{key:"_numberSortAsc",value:function(e,t,n){var i=parseFloat(e[n]),r=parseFloat(t[n]);return i<r?-1:i>r?1:0}},{key:"_dateSortAsc",value:function(e,t,n){var i=new Date(e[n]),r=new Date(t[n]);return i<r?-1:i>r?1:0}},{key:"_defaultSortDesc",value:function(e,t,n){return e[n]<t[n]?1:e[n]>t[n]?-1:0}},{key:"_numberSortDesc",value:function(e,t,n){var i=parseFloat(e[n]),r=parseFloat(t[n]);return i<r?1:i>r?-1:0}},{key:"_dateSortDesc",value:function(e,t,n){var i=new Date(e[n]),r=new Date(t[n]);return i<r?1:i>r?-1:0}},{key:"_resetSort",value:function(){this.data.sort((function(e,t){return e.indexOriginal-t.indexOriginal}))}}]),e}(),me=function(){function e(t){v(this,e),this.component=t,this.dom=this.component.dom,this.callbacks={beforeCreatedHead:this.beforeCreatedHead.bind(this),onCreatedHead:this.onCreatedHead.bind(this),beforeCreatedBody:this.beforeCreatedBody.bind(this),onCreatedBody:this.onCreatedBody.bind(this),onCreatedRow:this.onCreatedRow.bind(this),onCreatedDetailsRow:this.onCreatedDetailsRow.bind(this),onToggleSelectRow:this.onToggleSelectRow.bind(this),onChangedSettings:this.onChangedSettings.bind(this)}}return g(e,[{key:"init",value:function(){}},{key:"destroy",value:function(){}},{key:"update",value:function(e){if(this.callbacks[e]){for(var t,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];(t=this.callbacks)[e].apply(t,i)}}},{key:"beforeCreatedHead",value:function(){}},{key:"onCreatedHead",value:function(){}},{key:"beforeCreatedBody",value:function(){}},{key:"onCreatedBody",value:function(){}},{key:"onCreatedRow",value:function(){}},{key:"onCreatedDetailsRow",value:function(){}},{key:"onToggleSelectRow",value:function(){}},{key:"onChangedSettings",value:function(){}}]),e}(),ve=function(e){i(n,e);var t=a(n);function n(e){return v(this,n),t.call(this,e)}return g(n,[{key:"init",value:function(){this._render(),this._addEventListeners(),this._updateInfo()}},{key:"destroy",value:function(){this._removeEventListeners()}},{key:"_addEventListeners",value:function(){}},{key:"_removeEventListeners",value:function(){}},{key:"totalNum",get:function(){return this.component.model.data.length}},{key:"showNum",get:function(){if(0===this.component.model.data.length)return"0";var e=1,t=this.component.model.data.length;return this.component.pagination&&(e=this.component.pagination.state.numPerPage*(this.component.pagination.state.currentPage-1)+1,t=Math.min(this.component.model.data.length,this.component.pagination.state.numPerPage*this.component.pagination.state.currentPage)),"".concat(e," – ").concat(t)}},{key:"selectNum",get:function(){return this.component.model.data.filter((function(e){return e.selected})).length}},{key:"_render",value:function(){this.dom.tableInfo.innerHTML='<span class="count-show"></span><span class="count-total"></span>\n        <span class="count-selected"></span>'}},{key:"_updateInfo",value:function(){this._updateNumShow(),this._updateNumTotal(),this._updateNumSelected()}},{key:"_updateNumShow",value:function(){this.dom.tableInfo.querySelector(".count-show")&&(this.dom.tableInfo.querySelector(".count-show").textContent="".concat(this.showNum))}},{key:"_updateNumTotal",value:function(){this.dom.tableInfo.querySelector(".count-total")&&(this.dom.tableInfo.querySelector(".count-total").textContent=" of ".concat(this.totalNum," items"))}},{key:"_updateNumSelected",value:function(){this.dom.tableInfo.querySelector(".count-selected")&&(this.dom.tableInfo.querySelector(".count-selected").textContent=this.selectNum?" | ".concat(this.selectNum," selected"):"")}},{key:"onCreatedBody",value:function(){this._updateInfo()}},{key:"onToggleSelectRow",value:function(){this._updateInfo()}}]),n}(me),ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=document.createElement("template");return t.innerHTML=e.trim(),t.content.firstChild},ge=function(e,t){var n;return function(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];var s=void 0;clearTimeout(n),n=setTimeout((function(){return e.apply(s,r)}),t)}},_e=function(e){i(n,e);var t=a(n);function n(e){var i;return v(this,n),(i=t.call(this,e)).selectType=i.component.settings.selectable,i.listeners={clickBodyRowSingle:function(e){if("TD"===e.target.tagName){var t=e.target.closest("tr");if(t&&t.classList.contains("selected"))i._unselectRow(t);else{var n=i.dom.table.querySelector("tr.selected");n&&i._unselectRow(n),i.component.onDeselectAll(),i._selectRow(t)}}},clickBodyRowMulti:function(e){i._toggleRow(e),i._setMasterCheckboxState()},clickMasterCheckbox:function(){i._toggleAllCheckboxes(),i._setMasterCheckboxState()},clickMasterDropdown:function(e){if(e.target.classList.contains("item")){var t=e.target.dataset.value;"all"===t&&(i.masterCheckbox.checked=!0,i.component.onSelectAll()),"none"===t&&(i.masterCheckbox.checked=!1,i.component.onDeselectAll()),i._toggleAllCheckboxes(),i._setMasterCheckboxState()}}},i}return g(n,[{key:"init",value:function(){"multi"===this.selectType&&this.dom.table.classList.add("selectable"),this._addEventListeners()}},{key:"destroy",value:function(){this._removeEventListeners()}},{key:"_addEventListeners",value:function(){"single"===this.selectType&&this.dom.table.addEventListener("click",this.listeners.clickBodyRowSingle)}},{key:"_removeEventListeners",value:function(){"single"===this.selectType&&this.dom.table.removeEventListener("click",this.listeners.clickBodyRowSingle)}},{key:"_renderMasterCheckbox",value:function(){var e=this.dom.thead.querySelector("tr"),t=document.createElement("th");t.classList.add("cell-select"),this.masterCheckbox=document.createElement("input"),this.masterCheckbox.setAttribute("type","checkbox"),this.masterCheckbox.id="".concat(this.dom.table.id,"-master");var n=document.createElement("label");n.classList.add("checkbox","select-row"),n.setAttribute("for","".concat(this.dom.table.id,"-master")),t.append(this.masterCheckbox),t.append(n),this.dom.tablePagination&&(this._renderCheckboxDropdown(t),t.classList.add("wide")),e.insertBefore(t,e.firstChild),this.masterCheckbox.addEventListener("change",this.listeners.clickMasterCheckbox),this._setMasterCheckboxState()}},{key:"_renderCheckboxDropdown",value:function(e){this.masterCheckboxDropdown=ye('<div class="dropdown more" data-type="click">\n      <button class="btn clickable"><i class="icon icon-more"></i></button>\n      <div class="menu start">\n        <div class="item" data-value="all">Select items from all pages</div>\n        <div class="item" data-value="none">Deselect items from all pages</div>\n      </div>\n    </div>'),e.append(this.masterCheckboxDropdown),new N(this.masterCheckboxDropdown).init(),this.masterCheckboxDropdown.querySelector(".menu").addEventListener("click",this.listeners.clickMasterDropdown),this._setMasterCheckboxDropdownState()}},{key:"_renderSelectTd",value:function(e,t,n){var i=document.createElement("td");i.classList.add("cell-select"),e.classList.contains("details-row")||this._createCheckbox(i,"".concat(this.dom.table.id,"-row").concat(n),t.selected,t.disabled),e.insertBefore(i,e.firstChild)}},{key:"_createCheckbox",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=document.createElement("input");r.setAttribute("type","checkbox"),r.id=t,r.checked=n,r.disabled=i;var a=document.createElement("label");a.classList.add("checkbox","select-row"),a.setAttribute("for",t),e.append(r),e.append(a),r.addEventListener("change",this.listeners.clickBodyRowMulti)}},{key:"_setMasterCheckboxState",value:function(){if(this.masterCheckbox){var e=this._getNumberOfRows(),t=this._getNumberOfSelectedRows();this.masterCheckbox.checked=t>0,this.masterCheckbox.indeterminate=t>0&&t<e,this.masterCheckbox.toggleAttribute("disabled",0===this.component.data.length),this._setMasterCheckboxDropdownState()}}},{key:"_setMasterCheckboxDropdownState",value:function(){if(this.masterCheckboxDropdown){this.masterCheckboxDropdown.querySelector("button").toggleAttribute("disabled",0===this.component.data.length);var e=this.component.selected.length===this.component.data.length,t=0===this.component.selected.length;this.masterCheckboxDropdown.querySelector('.item[data-value="all"]').classList.toggle("disabled",e),this.masterCheckboxDropdown.querySelector('.item[data-value="none"]').classList.toggle("disabled",t)}}},{key:"_toggleAllCheckboxes",value:function(){var e=this;this.dom.bodyRows.forEach((function(t){e.masterCheckbox.checked?e._selectRow(t):e._unselectRow(t)}))}},{key:"_toggleRow",value:function(e){var t=e.target.closest("tr");t.classList.contains("selected")?this._unselectRow(t):this._selectRow(t)}},{key:"_selectRow",value:function(e){var t=e.querySelector("td.cell-select input");t&&!0===t.disabled||(e.classList.add("selected"),t&&(t.checked=!0),this.component.onToggleSelectRow(e,!0))}},{key:"_unselectRow",value:function(e){var t=e.querySelector("td.cell-select input");t&&!0===t.disabled||(e.classList.remove("selected"),e.querySelector("td.cell-select input")&&(e.querySelector("td.cell-select input").checked=!1),this.component.onToggleSelectRow(e,!1))}},{key:"_getNumberOfRows",value:function(){return this.dom.bodyRows.length}},{key:"_getNumberOfSelectedRows",value:function(){return this.dom.table.querySelectorAll('tbody input[type="checkbox"]:checked').length}},{key:"beforeCreatedHead",value:function(){this.masterCheckbox&&this.masterCheckbox.removeEventListener("change",this.listeners.clickMasterCheckbox),this.masterCheckboxDropdown&&this.masterCheckboxDropdown.removeEventListener("click",this.listeners.clickMasterDropdown)}},{key:"onCreatedHead",value:function(){"multi"===this.selectType&&this._renderMasterCheckbox()}},{key:"beforeCreatedBody",value:function(){var e=this;"multi"===this.selectType&&this.dom.bodyRows.forEach((function(t){t.querySelector("td.cell-select input").removeEventListener("change",e.listeners.clickBodyRowSingle)}))}},{key:"onCreatedBody",value:function(){"multi"===this.selectType&&this._setMasterCheckboxState()}},{key:"onCreatedRow",value:function(e,t,n){e.classList.toggle("selected",t.selected),"multi"===this.selectType&&this._renderSelectTd(e,t,n)}},{key:"onCreatedDetailsRow",value:function(e){"multi"===this.selectType&&this._renderSelectTd(e.closest("tr.details-row"))}}]),n}(me),be=function(e){i(n,e);var t=a(n);function n(e){var i;return v(this,n),(i=t.call(this,e)).listeners={onTheadClick:function(e){if(e.target.classList.contains("is-sortable")){var t=e.target;i._singleSort(t.dataset.key,i._getSortDirection(t))}}},i}return g(n,[{key:"init",value:function(){this._addEventListeners()}},{key:"destroy",value:function(){this._removeEventListeners()}},{key:"_addEventListeners",value:function(){this.component.dom.thead.addEventListener("click",this.listeners.onTheadClick)}},{key:"_removeEventListeners",value:function(){this.component.dom.thead.removeEventListener("click",this.listeners.onTheadClick)}},{key:"_getSortDirection",value:function(e){switch(!0){case e.classList.contains("asc"):return"desc";case e.classList.contains("desc"):return"asc";default:return e.classList.add("asc"),"asc"}}},{key:"_singleSort",value:function(e,t){Array.from(this.dom.thead.querySelectorAll("th")).forEach((function(n){if(n.dataset.key===e)switch(t){case"asc":n.classList.remove("desc"),n.classList.add("asc");break;case"desc":n.classList.remove("asc"),n.classList.add("desc");break;case"none":n.classList.remove("asc"),n.classList.remove("desc")}else n.classList.remove("asc"),n.classList.remove("desc")})),this.component.onColumnSort(e,t)}},{key:"onCreatedHead",value:function(){var e=this;this.dom.thead.querySelectorAll("th").forEach((function(t){var n=e.component.settings.columns.find((function(e){return e.key===t.dataset.key}));n&&n.sort&&(t.classList.add("is-sortable"),t.classList.toggle(n.sort,"none"!==n.sort))}))}}]),n}(me),je=function(){function e(t,n){var i=this;v(this,e),this.editable=t,this.editing=null,this.onEdit=n,this.listeners={onEditableClick:function(e){return i._onClick(e)},onEditableSubmit:function(e){return i._onSubmit(e)},onEditableCancel:function(e){return i._onCancel(e)}},this.editable.addEventListener("click",this.listeners.onEditableClick)}return g(e,[{key:"destroy",value:function(){this.editable.removeEventListener("click",this.listeners.onEditableClick),this.editing&&this._removeEditing()}},{key:"_onClick",value:function(e){e.stopPropagation(),this.editing=ye(this._getMarkup(e.target.innerText)),this.editable.parentNode.replaceChild(this.editing,this.editable),this.editing.querySelector('[data-action="cancel"]').addEventListener("click",this.listeners.onEditableCancel),this.editing.querySelector('[data-action="submit"]').addEventListener("click",this.listeners.onEditableSubmit)}},{key:"_onSubmit",value:function(){var e=this.editable.innerText,t=this.editing.querySelector("input").value;t&&e!==t?(this.editable.innerText=t,this.editing.parentNode.replaceChild(this.editable,this.editing),this._removeEditing(),this.onEdit&&this.onEdit()):this._onCancel()}},{key:"_onCancel",value:function(){this.editing&&(this.editing.parentNode.replaceChild(this.editable,this.editing),this._removeEditing())}},{key:"_removeEditing",value:function(){this.editing.querySelector('[data-action="cancel"]').removeEventListener("click",this.listeners.onEditableCancel),this.editing.querySelector('[data-action="submit"]').removeEventListener("click",this.listeners.onEditableSubmit),this.editing=null}},{key:"_getMarkup",value:function(e){return'<div class="editing">\n      <div class="inline-field">\n        <input value="'.concat(e,'"/>\n      </div>\n      <div class="inline-buttons">\n          <button class="btn-icon" data-action="cancel"><i class="icon icon-cross"></i></button>\n          <button class="btn-icon" data-action="submit"><i class="icon icon-check"></i></button>\n      </div>\n    </div>')}}]),e}(),xe=function(e){i(n,e);var t=a(n);function n(e){var i;return v(this,n),(i=t.call(this,e)).dialog=null,i.dialogDOM=null,i.btnReset=null,i.btnCancel=null,i.btnApply=null,i.initialColumns=[],i.editableTitles=[],i.listeners={onResetClick:function(e){return i._onResetClick(e)},onApplyClick:function(e){return i._onApplyClick(e)},onDialogClose:function(){return i._renderDropArea()}},i}return g(n,[{key:"init",value:function(){this.initialColumns=Array.from(this.component.settings.columns).filter((function(e){return e.title})),this._render(),this._addEventListeners()}},{key:"destroy",value:function(){this._removeEventListeners(),this.editableTitles.forEach((function(e){return e.destroy()})),this.dialogDOM.remove()}},{key:"_addEventListeners",value:function(){this.btnReset.addEventListener("click",this.listeners.onResetClick),this.btnApply.addEventListener("click",this.listeners.onApplyClick),this.dialogDOM.addEventListener("DialogClose",this.listeners.onDialogClose)}},{key:"_removeEventListeners",value:function(){this.btnReset.removeEventListener("click",this.listeners.onResetClick),this.btnApply.removeEventListener("click",this.listeners.onApplyClick),this.dialogDOM.removeEventListener("DialogClose",this.listeners.onDialogClose)}},{key:"_render",value:function(){this._renderDialog(),this._renderDropArea()}},{key:"_renderDialog",value:function(){this.dialogDOM=ye(this._getDialogMarkup()),document.querySelector(".appbody").append(this.dialogDOM),this.dialog=new C(this.dialogDOM),this.dialog.init(),this.btnReset=this.dialogDOM.querySelector('[data-action="reset"]'),this.btnApply=this.dialogDOM.querySelector('[data-action="apply"]')}},{key:"_renderDropArea",value:function(e){var t=this,n=e||Array.from(this.component.settings.columns).filter((function(e){return e.title}));this.editableTitles.forEach((function(e){return e.destroy()})),this.editableTitles.splice(0,this.editableTitles.length),this.dialogDOM.querySelector(".content > .body").replaceChild(ye(this._getDropAreaMarkup(n)),this.dialogDOM.querySelector(".drop-area")),this.dialogDOM.querySelectorAll(".card").forEach((function(e){new L(e).init()})),this.dialogDOM.querySelectorAll(".title .editable").forEach((function(e){t.editableTitles.push(new je(e,(function(){e.closest(".title").dataset.text=e.innerText})))})),new D(Array.from(this.dialogDOM.querySelectorAll(".drop-area"))).init()}},{key:"_getDialogMarkup",value:function(){return'<div class="dialog table-settings" data-trigger="#'.concat(this.dom.tableSettingsIcon.id,'" data-type="simple">\n      <div class="content" style="overflow: scroll;">\n        <div class="top">\n          <div class="title">Manage columns</div>\n        </div>\n        <div class="body">\n          <p>Rename, hide, rearrange columns, or freeze first column.</p>\n          <div style="display: flex; justify-content: flex-end; padding: 8px 16px;">\n            <span style="width: 50px; text-align: center">Freeze</span>\n            <span style="width: 50px; text-align: center">Show</span>\n          </div>\n\n          <div class="drop-area"></div>\n\n        </div>\n        <div class="bottom" style="display: flex; align-items: center;">\n          <a href="#" style="margin-right: auto;" data-action="reset">Reset</a>\n          <button class="btn ghost" data-close="true">Cancel</button>\n          <button class="btn primary" data-action="apply">Apply</button>\n        </div>\n      </div>\n    </div>')}},{key:"_getDropAreaMarkup",value:function(e){var t=this;return'<div class="drop-area">\n      '.concat(e.map((function(e,n){return'<div class="card draggable" data-key="'.concat(e.key,'">\n        <div class="header">\n          <div class="left">\n            <div class="title" data-text="').concat(e.title,'"><span class="editable">').concat(e.title,'</span></div>\n          </div>\n          <div class="right">\n            <span class="freeze-checkbox">\n              <input type="checkbox" id="').concat(t.dom.table.id,"-freeze").concat(n,'" ').concat(e.freeze?"checked":"",'>\n              <label for="').concat(t.dom.table.id,"-freeze").concat(n,'"></label>\n            </span>\n            <span class="show-checkbox">\n               <input type="checkbox" id="').concat(t.dom.table.id,"-show").concat(n,'" ').concat(e.hidden?"":"checked",'>\n               <label for="').concat(t.dom.table.id,"-show").concat(n,'"></label>\n            </span>\n          </div>\n        </div>\n      </div>')})).join(""),"\n    </div>")}},{key:"_onResetClick",value:function(e){e.preventDefault(),this._renderDropArea(this.initialColumns)}},{key:"_onApplyClick",value:function(e){var t=this;e.preventDefault();var n=[];this.dialogDOM.querySelectorAll(".card").forEach((function(e){var i=c(c({},t.component.settings.columns.find((function(t){return t.key===e.dataset.key}))),{},{title:e.querySelector(".title").dataset.text,hidden:!e.querySelector(".show-checkbox input").checked,freeze:!t._isHidden(e.querySelector(".freeze-checkbox"))&&e.querySelector(".freeze-checkbox input").checked});n.push(i)})),this.component.onChangedSettings(n),this.dialog.hide()}},{key:"_isHidden",value:function(e){return"none"===window.getComputedStyle(e).display}}]),n}(me),we=function(e){i(n,e);var t=a(n);function n(e){var i;return v(this,n),(i=t.call(this,e)).searchBar=i.dom.tableSearch.querySelector("input"),i.listeners={onChangedSearch:function(e){return i._onChangedSearch(e)}},i}return g(n,[{key:"init",value:function(){this._addEventListeners()}},{key:"destroy",value:function(){this._removeEventListeners()}},{key:"_addEventListeners",value:function(){this.searchBar.addEventListener("keyup",this.listeners.onChangedSearch)}},{key:"_removeEventListeners",value:function(){this.searchBar.removeEventListener("keyup",this.listeners.onChangedSearch)}},{key:"_onChangedSearch",value:function(e){this.component.onChangedSearch(e.target.value)}}]),n}(me),ke=function(e){i(n,e);var t=a(n);function n(e){var i;return v(this,n),(i=t.call(this,e)).listeners={onFilterChange:[],onFilterBtnClick:function(e){return i._onFilterBtnClick(e)}},i}return g(n,[{key:"init",value:function(){this._addEventListeners()}},{key:"destroy",value:function(){this._removeEventListeners()}},{key:"_addEventListeners",value:function(){var e=this,t=this.dom.tfilter.querySelectorAll("td");Array.from(t).forEach((function(t){var n=e._onChangedFilter(t);e.listeners.onFilterChange.push({element:t,listener:n}),t.addEventListener("keyup",n)})),this.dom.tableFilterBtn&&this.dom.tableFilterBtn.addEventListener("click",this.listeners.onFilterBtnClick)}},{key:"_removeEventListeners",value:function(){this.listeners.onFilterChange.forEach((function(e){e.element.removeEventListener("keyup",e.listener)})),this.listeners.onFilterChange=[],this.dom.tableFilterBtn&&this.dom.tableFilterBtn.removeEventListener("click",this.listeners.onFilterBtnClick)}},{key:"_onChangedFilter",value:function(e){var t=this;return function(n){var i=e.dataset.key,r=n.target?n.target:n.srcElement;t.component.onChangedFilter(i,r.value)}}},{key:"_onFilterBtnClick",value:function(){if(this.dom.table.classList.contains("filters")){this.dom.table.classList.remove("filters"),this.dom.tfilter.classList.add("hidden");var e=this.dom.tableFilterBtn.querySelector("i");e&&(e.classList.add("icon-filter"),e.classList.remove("icon-filter-off"))}else{this.dom.table.classList.add("filters"),this.dom.tfilter.classList.remove("hidden");var t=this.dom.tableFilterBtn.querySelector("i");t&&(t.classList.remove("icon-filter"),t.classList.add("icon-filter-off"))}}},{key:"onChangedSettings",value:function(e){var t=this;this.listeners.onFilterChange=[];var n=this.dom.tfilter.querySelectorAll("td");Array.from(n).forEach((function(e){var n=t._onChangedFilter(e);t.listeners.onFilterChange.push({element:e,listener:n}),e.addEventListener("keyup",n)})),e.forEach((function(e){!0===e.hidden&&t.component.onChangedFilter(e.key,"")}))}}]),n}(me),Se=function(e){i(n,e);var t=a(n);function n(e){var i;return v(this,n),(i=t.call(this,e)).dialog=void 0,i.dialogDOM=void 0,i.rowLevelsDOM=void 0,i.levelEntries=[],i.btnAddLevel=void 0,i.btnReset=void 0,i.btnApply=void 0,i.listeners={onAddLevelClick:function(e){return i._onAddLevelClick(e)},onApplyClick:function(e){return i._onApplyClick(e)}},i}return g(n,[{key:"init",value:function(){this._render(),this._addEventListeners()}},{key:"destroy",value:function(){this._removeEventListeners()}},{key:"update",value:function(e){if("onChangedSort"===e)this._onChangedSort()}},{key:"_addEventListeners",value:function(){this.btnAddLevel.addEventListener("click",this.listeners.onAddLevelClick),this.btnApply.addEventListener("click",this.listeners.onApplyClick)}},{key:"_removeEventListeners",value:function(){this.btnAddLevel.removeEventListener("click",this.listeners.onAddLevelClick),this.btnApply.removeEventListener("click",this.listeners.onApplyClick)}},{key:"_onChangedSort",value:function(){this._resetCustomSort()}},{key:"_onAddLevelClick",value:function(){this._addLevel(this.levelEntries.length+1)}},{key:"_onApplyClick",value:function(){var e=this.levelEntries.map((function(e){return e.values})),t={};e.forEach((function(e,n){return t[e.column.key]={level:n+1,order:e.order}})),Array.from(this.dom.thead.querySelectorAll("th")).forEach((function(e){if(void 0!==t[e.dataset.key]){var n=t[e.dataset.key].level;switch(t[e.dataset.key].order){case"asc":e.classList.remove("desc"),e.classList.add("asc");break;case"desc":e.classList.remove("asc"),e.classList.add("desc");break;case"none":e.classList.remove("asc"),e.classList.remove("desc")}var i=e.querySelector(".tag-level");i?i.innerText=n:((i=document.createElement("kbd")).classList.add("tag"),i.classList.add("blue"),i.classList.add("tag-level"),i.innerText=n,e.appendChild(i))}else{e.classList.remove("asc"),e.classList.remove("desc");var r=e.querySelector(".tag-level");r&&r.parentNode.removeChild(r)}})),this.dom.tableCustomSortBtn.innerText="Edit sort";var n=document.createElement("i");n.classList.add("icon"),n.classList.add("icon-edit"),this.dom.tableCustomSortBtn.prepend(n);var i=this.dom.tableMiddle.querySelector(".table-middle-container-sort");i||((i=document.createElement("div")).classList.add("table-middle-container"),i.classList.add("table-middle-container-sort"),this.dom.tableMiddle.appendChild(i));var r=this.levelEntries.length,a=i.querySelector("span"),s=i.querySelector("a");a||((a=document.createElement("span")).classList.add("table-middle-info"),i.appendChild(a)),s||((s=document.createElement("a")).classList.add("table-middle-group"),s.addEventListener("click",this._onClearSortClick.bind(this)),i.appendChild(s)),a.innerText=r>1?"".concat(r," levels of custom sort applied"):"1 level of custom sort applied",s.setAttribute("href","javascript:void(0);"),s.innerText="Clear sorting",this.component.onChangedMultiSort(e),this.dialog.hide()}},{key:"_onClearSortClick",value:function(){this._resetCustomSort(),Array.from(this.dom.thead.querySelectorAll("th")).forEach((function(e){e.classList.remove("desc"),e.classList.remove("asc")}));var e=this.component.settings.columns.find((function(e){return void 0!==e.sort}));e&&!0===this.component.settings.sortable?this.component.onColumnSort(e.key,e.sort):this.component.onChangedMultiSort([]),this._resetDialog()}},{key:"_onSelectColumnChange",value:function(e,t){for(var n=this.component.settings.columns,i=t-1,r=this.levelEntries[i].values.column.key,a=e.detail.value[0],s={},o=0;o<n.length;o+=1){s[n[o].key]=n[o]}for(var l=!1,u=-1,c=0;c<this.levelEntries.length;c+=1){if(this.levelEntries[c].values.column.key===a){l=!0,u=c;break}}l?(this.levelEntries[u].values.column=s[r],this.levelEntries[i].values.column=s[a],this._updateAfterLevel(Math.min(i+1,u+1))):(this.levelEntries[i].values.column=s[a],this._updateAfterLevel(t))}},{key:"_onSelectValueChange",value:function(e,t){var n=t-1,i=e.detail.value[0];this.levelEntries[n].values.colType=i,this._updateLevels(t)}},{key:"_onSelectOrderChange",value:function(e,t){var n=t-1,i=e.detail.value[0];this.levelEntries[n].values.order=i}},{key:"_onIconRemoveClick",value:function(e,t){this.levelEntries.length>1&&(this._removeLevel(t),this.btnAddLevel.disabled=!1)}},{key:"_render",value:function(){this._renderDialog()}},{key:"_renderDialog",value:function(){this.dialogDOM=ye(this._getDialogMarkup()),document.querySelector(".appbody").append(this.dialogDOM),this.rowLevelsDOM=this.dialogDOM.querySelector(".row-levels"),this._addLevel(1),this.dialog=new C(this.dialogDOM),this.dialog.init(),this.btnAddLevel=this.dialogDOM.querySelector('[data-action="add"]'),this.btnReset=this.dialogDOM.querySelector('[data-action="reset"]'),this.btnApply=this.dialogDOM.querySelector('[data-action="apply"]')}},{key:"_resetCustomSort",value:function(){Array.from(this.dom.thead.querySelectorAll(".tag-level")).forEach((function(e){return e.parentNode.removeChild(e)}));var e=this.dom.tableMiddle.querySelector(".table-middle-container-sort");if(e&&e.parentNode.removeChild(e),this.dom.tableCustomSortBtn){this.dom.tableCustomSortBtn.innerText="Custom sort";var t=document.createElement("i");t.classList.add("icon"),t.classList.add("icon-swap"),this.dom.tableCustomSortBtn.prepend(t)}}},{key:"_resetDialog",value:function(){this.levelEntries=[],this.rowLevelsDOM.innerHTML="",this._addLevel(1)}},{key:"_addLevel",value:function(e){var t=this,n=this._getAvailableColumnsFor(e),i={column:n[0],colType:n[0].type||"number",order:"desc"},r=ye(this._getDialogLevelMarkup(e,n,i));this.rowLevelsDOM.appendChild(r);var a=r.querySelector(".select-column"),s=new X(a);s.init();var o=r.querySelector(".select-value"),l=new X(o);l.init();var u=r.querySelector(".select-order"),c=new X(u);c.init();var d=r.querySelector(".icon-cross"),h=function(n){return t._onSelectColumnChange(n,e)},f=function(n){return t._onSelectValueChange(n,e)},p=function(n){return t._onSelectOrderChange(n,e)},m=function(n){return t._onIconRemoveClick(n,e)};this.levelEntries.push({dom:r,selectColumnsDOM:a,selectColumns:s,selectValueDOM:o,selectValue:l,selectOrderDOM:u,selectOrder:c,iconRemoveDOM:d,listeners:{onSelectColumnChange:h,onSelectValueChange:f,onSelectOrderChange:p,onIconRemoveClick:m},values:i}),a.addEventListener("selectOption",h),o.addEventListener("selectOption",f),u.addEventListener("selectOption",p),d.addEventListener("click",m),1===n.length&&(this.btnAddLevel.disabled=!0)}},{key:"_updateAfterLevel",value:function(e){for(var t=e-1;t<this.levelEntries.length;t+=1)this._updateLevels(t+1)}},{key:"_updateLevels",value:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];n.forEach((function(t){var n=t-1,i=e.levelEntries[n];i.selectColumnsDOM.removeEventListener("selectOption",i.listeners.onSelectColumnChange),i.selectValueDOM.removeEventListener("selectOption",i.listeners.onSelectValueChange),i.selectOrderDOM.removeEventListener("selectOption",i.listeners.onSelectOrderChange),i.iconRemoveDOM.removeEventListener("click",i.listeners.onIconRemoveClick),i.selectColumns.destroy(),i.selectValue.destroy(),i.selectOrder.destroy();var r=e._getAvailableColumnsFor(t),a=ye(e._getDialogLevelMarkup(t,r,e.levelEntries[n].values)),s=e.levelEntries[n].dom;s.parentNode.replaceChild(a,s);var o=a.querySelector(".select-column"),l=new X(o);l.init();var u=a.querySelector(".select-value"),c=new X(u);c.init();var d=a.querySelector(".select-order"),h=new X(d);h.init();var f=a.querySelector(".icon-cross"),p=function(n){return e._onSelectColumnChange(n,t)},m=function(n){return e._onSelectValueChange(n,t)},v=function(n){return e._onSelectOrderChange(n,t)},y=function(n){return e._onIconRemoveClick(n,t)};e.levelEntries[n]={dom:a,selectColumnsDOM:o,selectColumns:l,selectValueDOM:u,selectValue:c,selectOrderDOM:d,selectOrder:h,iconRemoveDOM:f,listeners:{onSelectColumnChange:p,onSelectValueChange:m,onSelectOrderChange:v,onIconRemoveClick:y},values:e.levelEntries[n].values},o.addEventListener("selectOption",p),u.addEventListener("selectOption",m),d.addEventListener("selectOption",v),f.addEventListener("click",y)}))}},{key:"_removeLevel",value:function(e){var t=e-1;this.levelEntries[t].dom.remove(),this.levelEntries.splice(t,1),this._updateAfterLevel(e)}},{key:"_getAvailableColumnsFor",value:function(e){for(var t=this.component.settings.columns,n={},i=0;i<e-1;i+=1){var r=this.levelEntries[i].values.column;n[r.key]=!0}var a=t.filter((function(e){return!0!==n[e.key]}));return a}},{key:"_getDialogMarkup",value:function(){var e=this.dom.tableCustomSortBtn.id;return'<div class="dialog table-multi-col-sort" data-trigger="#'.concat(e,'" data-type="simple">\n      <div class="content" style="overflow:scroll;width:640px;max-width:100%;">\n        <div class="top">\n          <div class="title">Multi-column sort</div>\n        </div>\n        <div class="body">\n          <div class="row row-levels">\n          </div>\n          <div class="row">\n            <button class="btn" data-action="add">Add level</button>\n          </div>\n        </div>\n        <div class="bottom" style="display: flex; align-items: center;">\n          <i style="margin-right: auto;"></i>\n          <button class="btn ghost" data-close="true">Cancel</button>\n          <button class="btn primary" data-action="apply">Apply</button>\n        </div>\n      </div>\n    </div>')}},{key:"_getDialogLevelMarkup",value:function(e,t,n){var i=n.column,r=n.colType,a=n.order;return'\n      <div class="tile sm-12" style="padding:0 0 20px 0;">\n        <div class="header" style="padding-bottom:12px;">\n          <div class="left">\n            <div class="title">Level '.concat(e,'</div>\n          </div>\n        </div>\n        <div class="content">\n          <div class="row" style="padding-right:16px;position:relative;">\n            <div class="column sm-12 md-4 lg-4 xl-4" style="padding-right:24px;">\n              <label>Column</label>\n              ').concat(this._getDialogSelectColumnMarkup(t,i),'\n            </div>\n\n            <div class="column sm-12 md-4 lg-4 xl-4" style="padding-right:24px;">\n              <label>Sort on</label>\n              ').concat(this._getDialogSelectValueMarkup(r),'\n            </div>\n\n            <div class="column sm-12 md-4 lg-4 xl-4" style="padding-right:24px;">\n              <label>Order by</label>\n              ').concat(this._getDialogSelectOrderMarkup(r,a),'\n            </div>\n\n            <i class="icon icon-cross" style="cursor:pointer;font-size:16px;position:absolute;right:0;top:24px;"></i>\n          </div>\n        </div>\n      </div>\n    ')}},{key:"_getDialogSelectColumnMarkup",value:function(e,t){return'\n      <div class="select fullwidth select-column" data-type="single">\n        <button class="btn current-options" type="button"></button>\n        <div class="options-list">'.concat(this._getDialogSelectColumnItemsMarkup(e,t),"</div>\n      </div>\n    ")}},{key:"_getDialogSelectColumnItemsMarkup",value:function(e,t){return e.map((function(e){return e.key===t.key?'<div class="item active" data-value="'.concat(e.key,'">').concat(e.title,"</div>"):'<div class="item" data-value="'.concat(e.key,'">').concat(e.title,"</div>")})).join("")}},{key:"_getDialogSelectValueMarkup",value:function(e){return'\n      <div class="select fullwidth select-value" data-type="single">\n        <button class="btn current-options" type="button"></button>\n        <div class="options-list">'.concat(this._getDialogSelectValueItemsMarkup(e),"</div>\n      </div>\n    ")}},{key:"_getDialogSelectValueItemsMarkup",value:function(e){switch(e){case"number":return'\n          <div class="item active" data-value="number">Numerical values</div>\n          <div class="item" data-value="date">Date values</div>\n          <div class="item" data-value="text">Text values</div>\n        ';case"date":return'\n          <div class="item" data-value="number">Numerical values</div>\n          <div class="item active" data-value="date">Date values</div>\n          <div class="item" data-value="text">Text values</div>\n        ';default:return'\n          <div class="item" data-value="number">Numerical values</div>\n          <div class="item" data-value="date">Date values</div>\n          <div class="item active" data-value="text">Text values</div>\n        '}}},{key:"_getDialogSelectOrderMarkup",value:function(e,t){return'\n      <div class="select fullwidth select-order" data-type="single">\n        <button class="btn current-options" type="button"></button>\n        <div class="options-list">'.concat(this._getDialogSelectOrderItemsMarkup(e,t),"</div>\n      </div>\n    ")}},{key:"_getDialogSelectOrderItemsMarkup",value:function(e,t){switch(e){case"number":case"date":return"asc"===t?'\n            <div class="item active" data-value="asc">Ascending order</div>\n            <div class="item" data-value="desc">Descending order</div>\n          ':'\n            <div class="item" data-value="asc">Ascending order</div>\n            <div class="item active" data-value="desc">Descending order</div>\n          ';default:return"asc"===t?'\n            <div class="item active" data-value="asc">A to Z</div>\n            <div class="item" data-value="desc">Z to A</div>\n          ':'\n            <div class="item" data-value="asc">A to Z</div>\n            <div class="item active" data-value="desc">Z to A</div>\n          '}}}]),n}(me),Pe=function(e){i(n,e);var t=a(n);function n(e){var i;return v(this,n),(i=t.call(this,e)).x=0,i.w=0,i.column=null,i.resizer=null,i.listeners={onMouseMove:function(e){var t=e.clientX-i.x;i.column.style.width="".concat(i.w+t,"px")},onMouseUp:function(){document.removeEventListener("mousemove",i.listeners.onMouseMove),document.removeEventListener("mouseup",i.listeners.onMouseUp),i.column=null,i.resizer.classList.remove("resizing")},onMouseDown:function(e){i.column=e.target.closest("th"),i.resizer=e.target,i.x=e.clientX;var t=window.getComputedStyle(i.column);i.w=parseInt(t.width,10),document.addEventListener("mousemove",i.listeners.onMouseMove),document.addEventListener("mouseup",i.listeners.onMouseUp),i.resizer.classList.add("resizing")}},i}return g(n,[{key:"init",value:function(){this._addEventListeners()}},{key:"destroy",value:function(){this._removeEventListeners()}},{key:"_addEventListeners",value:function(){}},{key:"_removeEventListeners",value:function(){}},{key:"_render",value:function(){var e=this;this.dom.thead.querySelectorAll("th").forEach((function(t){t.style.position="relative";var n=document.createElement("div");n.classList.add("col-resizer"),t.appendChild(n),n.addEventListener("mousedown",e.listeners.onMouseDown)}))}},{key:"beforeCreatedHead",value:function(){var e=this;this.dom.thead&&this.dom.thead.querySelectorAll(".col-resize").forEach((function(t){t.removeEventListener("mousedown",e.listeners.onMouseDown),t.remove()}))}},{key:"onCreatedHead",value:function(){this._render()}}]),n}(me),Me=function(){function e(t,n){var i=this;v(this,e),this.dom={table:t,thead:null,tbody:null,tfilter:null,tableTop:t.parentElement.querySelector(".table-top"),tableMiddle:t.parentElement.querySelector(".table-middle"),tableBottom:t.parentElement.querySelector(".table-bottom"),tableButtons:t.parentElement.querySelector(".table-buttons"),tablePagination:t.parentElement.querySelector(".pagination-group"),tableSettingsIcon:t.parentElement.querySelector(".table-top .table-settings"),tableSearch:t.parentElement.querySelector(".table-top .table-search"),tableCustomSortBtn:t.parentElement.querySelector(".table-top .table-custom-sort"),tableFilterBtn:t.parentElement.querySelector(".table-top .table-filter"),bodyRows:[]},this.listeners={onScroll:function(e){return i._fixTableHead(e)},onResize:function(){return i._onResize()},onResizeDebounce:ge(this._onResize.bind(this),500),onPageNumChange:function(){i._updateRows()},onSelectNumChange:function(){var e=i.dom.tablePagination.querySelector('input[type="number"]');null!==e&&(e.value="",i._updateRows())},onExpandClick:function(e){e.target.closest(".expand")&&i._toggleDetailsRow(e.target.closest("tr"))},onRowMouseOver:function(e){if(!i.currentRow){var t=e.target.closest("tr");t&&i.dom.table.contains(t)&&(i.currentRow=t)}},onRowMouseOut:function(e){if(i.currentRow){for(var t=e.relatedTarget;t;){if(t===i.currentRow)return;t=t.parentNode}i.currentRow.querySelectorAll(".dropdown.open").forEach((function(e){e.classList.remove("open"),e.querySelector(".menu").classList.remove("visible")})),i.currentRow=null}}},this.pagination=null,this.editableCells=[],this.settings={columns:n.columns||[],scroll:n.scroll,height:n.height||!1,selectable:n.selectable||!1,sortable:n.sortable||!1,expandable:n.expandable||!1,actions:n.actions||!1,resize:n.resize||!1,search:n.search||"",rowsPerPage:n.rowsPerPage||5,emptyState:c({message:"No data found."},n.emptyState)},this.callbacks={beforeCreatedHead:n.beforeCreatedHead,onCreatedHead:n.onCreatedHead,beforeCreatedBody:n.beforeCreatedBody,onCreatedBody:n.onCreatedBody,onCreatedRow:n.onCreatedRow,onCreatedDetailsRow:n.onCreatedDetailsRow,onCreatedActionsCell:n.onCreatedActionsCell,onEditedCell:n.onEditedCell,onChangedSettings:n.onChangedSettings,onChangedSearch:n.onChangedSearch},this.features=[],this.currentSearch=this.settings.search,this.currentFilter={},this.currentSort=this.settings.columns.filter((function(e){return"asc"===e.sort||"desc"===e.sort})).map((function(e){return{key:e.key,dir:e.sort}})),this.model=new pe(this,n.data),this.currentRow=null,this.onChangedSearch=ge(this._onChangedSearch.bind(this),250),this.onChangedFilter=ge(this._onChangedFilter.bind(this),250)}return g(e,[{key:"init",value:function(){this._addFeatures(),this._enablePagination(),this._render(),this._enableStickyHead(),this._addEventListeners()}},{key:"destroy",value:function(){this._removeEventListeners(),this.features.length&&this.features.forEach((function(e){return e.destroy()}))}},{key:"_addEventListeners",value:function(){this.dom.tableButtons&&(window.addEventListener("resize",this.listeners.onResize),document.addEventListener("toggleNavigation",this.listeners.onResizeDebounce)),this.dom.tablePagination&&(this.dom.tablePagination.addEventListener("paginationChangePage",this.listeners.onPageNumChange),this.dom.tablePagination.addEventListener("paginationChangeSelect",this.listeners.onSelectNumChange)),this.settings.expandable&&this.dom.table.addEventListener("click",this.listeners.onExpandClick)}},{key:"_removeEventListeners",value:function(){this.settings.height&&this.dom.table.parentElement.removeEventListener("scroll",this.listeners.onScroll),this.dom.tableButtons&&(window.removeEventListener("resize",this.listeners.onResize),document.removeEventListener("toggleNavigation",this.listeners.onResizeDebounce)),this.dom.tablePagination&&(this.dom.tablePagination.removeEventListener("paginationChangePage",this.listeners.onPageNumChange),this.dom.tablePagination.removeEventListener("paginationChangeSelect",this.listeners.onSelectNumChange)),this.settings.expandable&&this.dom.table.removeEventListener("click",this.listeners.onExpandClick)}},{key:"selected",get:function(){return this.model.data.filter((function(e){return e.selected}))}},{key:"selectedOnPage",get:function(){return this.model.displayedData.filter((function(e){return e.selected}))}},{key:"data",get:function(){return this.model.data}},{key:"displayedData",get:function(){return this.model.displayedData}},{key:"_notify",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r;(this.features.length&&this.features.forEach((function(t){return t.update.apply(t,[e].concat(n))})),this.callbacks[e])&&(r=this.callbacks)[e].apply(r,n)}},{key:"_render",value:function(){this._renderScrollWrapper(),this._renderTable(),this._initFeatures(),this._createActionsDropdown()}},{key:"_renderScrollWrapper",value:function(){if(this.settings.scroll||this.settings.height){var e=document.createElement("div");e.classList.add("table-scroll"),this.dom.table.parentNode.insertBefore(e,this.dom.table),e.appendChild(this.dom.table)}}},{key:"_renderTable",value:function(){this._renderHead(),this._renderFilter(),this._renderBody()}},{key:"_renderHead",value:function(){var e=this;for(this._notify("beforeCreatedHead"),this.dom.thead||(this.dom.thead=document.createElement("thead"),this.dom.table.append(this.dom.thead));this.dom.thead.firstChild;)this.dom.thead.removeChild(this.dom.thead.lastChild);var t=document.createElement("tr");if(this.dom.thead.append(t),this.settings.expandable){this.dom.table.classList.add("expandable");var n=document.createElement("th");n.classList.add("cell-expand"),t.append(n)}if(this.settings.columns.forEach((function(n){var i=document.createElement("th");n.key&&(i.dataset.key=n.key),n.headerClass&&i.classList.add(n.headerClass),n.headerStyle&&(i.style=n.headerStyle),n.width&&(i.style.width=n.width),n.hidden&&i.classList.add("hidden"),n.freeze&&(i.classList.add("freeze"),i.style.left=""),n.title&&n.tooltip?i.append(e._renderTooltip(n.title,n.tooltip)):i.innerHTML=n.title||"",t.append(i)})),this.settings.actions){var i=document.createElement("th");i.classList.add("cell-actions"),t.append(i)}this._notify("onCreatedHead",this.dom.thead),this._toggleFreeze(this.dom.thead)}},{key:"_renderFilter",value:function(){var e=this;if(this.dom.tableFilterBtn){for(this.dom.tfilter||(this.dom.tfilter=document.createElement("tbody"),this.dom.tfilter.classList.add("filters"),this.dom.table.append(this.dom.tfilter));this.dom.tfilter.firstChild;)this.dom.tfilter.removeChild(this.dom.tfilter.lastChild);var t=document.createElement("tr");if(this.dom.tfilter.append(t),"multi"===this.settings.selectable){var n=document.createElement("td");t.appendChild(n)}if(this.settings.expandable){var i=document.createElement("td");t.appendChild(i)}if(this.settings.columns.forEach((function(n){var i=document.createElement("td");n.key&&(i.dataset.key=n.key),n.width&&(i.style.width=n.width),n.hidden&&i.classList.add("hidden"),n.freeze&&(i.classList.add("freeze"),i.style.left="");var r=void 0!==e.currentFilter[n.key]?e.currentFilter[n.key]:"";i.innerHTML='<input placeholder="Filter" type="text" class="fullwidth"/>',i.querySelector("input").value=r,t.append(i)})),this.settings.actions){var r=document.createElement("td");t.appendChild(r)}}}},{key:"_renderBody",value:function(){var e=this;for(this._notify("beforeCreatedBody"),this.dom.tbody||(this.dom.tbody=document.createElement("tbody"),this.dom.table.append(this.dom.tbody));this.dom.bodyRows.length;)this._removeRow(this.dom.bodyRows[0]),this.dom.bodyRows.splice(0,1);this._toggleEmptyState(),this.model.displayedData.forEach((function(t,n){e._renderBodyRow(t,n)})),this._notify("onCreatedBody"),this._toggleFreeze(this.dom.tbody)}},{key:"_renderBodyRow",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,i=document.createElement("tr");if(this.dom.tbody.append(i),this.settings.expandable){var r=document.createElement("td"),a=document.createElement("button"),s=document.createElement("i");a.classList.add("expand","btn-icon"),s.classList.add("icon","icon-chevron-right"),r.classList.add("cell-expand"),a.append(s),r.append(a),i.append(r),i.classList.add("main-row");var o=this._createDetailsRow(i,t);o.classList.add("hidden"),this.dom.tbody.append(o),this._notify("onCreatedDetailsRow",o.querySelector(".cell-details"),t)}if(this.settings.columns.forEach((function(r){var a=document.createElement("td");t["_".concat(r.key,"_highlight")]&&a.classList.add("highlight"),r.cellClass&&a.classList.add(r.cellClass),r.cellStyle&&(a.style=r.cellStyle),r.hidden&&a.classList.add("hidden"),r.freeze&&(a.classList.add("freeze"),a.style.left=""),r.width&&(a.style.width=r.width),Array.isArray(t[r.key])?(a.classList.add("cell-split"),t[r.key].forEach((function(e){var t=document.createElement("div");t.innerHTML=e,a.append(t)}))):r.editable?(a.classList.add("cell-edit"),a.innerHTML='<div class="editable">'.concat(t[r.key],"</div>"),e.editableCells.push(new je(a.querySelector(".editable"),(function(){e.data[e.getIndexByRow(i)][r.key]=a.querySelector(".editable").innerText,e.callbacks.onEditedCell(a,t[r.key],n)})))):a.innerText=void 0!==t[r.key]?t[r.key]:"",i.append(a),r.onCreatedCell&&r.onCreatedCell(a,t[r.key],n)})),this.settings.actions){var l=document.createElement("td");if(l.classList.add("cell-actions"),this.callbacks.onCreatedActionsCell&&this.callbacks.onCreatedActionsCell(l,t),i.append(l),this.settings.expandable){var u=document.createElement("td");u.classList.add("cell-actions"),i.nextSibling.append(u)}}i.addEventListener("mouseover",this.listeners.onRowMouseOver),i.addEventListener("mouseout",this.listeners.onRowMouseOut),this.dom.bodyRows.push(i),this._notify("onCreatedRow",i,t,n)}},{key:"_renderTooltip",value:function(e,t){var n=document.createElement("span"),i=document.createElement("span");return n.classList.add("tooltip","dotted"),i.classList.add("message",t.position||"bottom"),n.innerText=e,i.innerText=t.text,t.width&&(i.style.width=t.width),n.append(i),n}},{key:"_addFeatures",value:function(){this.dom.tableTop&&this.dom.tableTop.querySelector(".table-info")&&(this.dom.tableInfo=this.dom.tableTop.querySelector(".table-info"),this.features.push(new ve(this))),"multi"!==this.settings.selectable&&"single"!==this.settings.selectable||this.features.push(new _e(this)),this.settings.sortable&&(this.dom.table.classList.add("sortable"),this.features.push(new be(this))),this.dom.tableSettingsIcon&&this.features.push(new xe(this)),this.dom.tableSearch&&this.features.push(new we(this)),this.dom.tableFilterBtn&&(this.dom.table.classList.add("filters"),this.features.push(new ke(this))),this.dom.tableCustomSortBtn&&(this.dom.table.classList.add("multi-sortable"),this.features.push(new Se(this))),this.settings.resize&&this.features.push(new Pe(this))}},{key:"_initFeatures",value:function(){this.features.length&&this.features.forEach((function(e){return e.init()}))}},{key:"_enablePagination",value:function(){if(this.dom.tablePagination){this.pagination=new K(this.dom.tablePagination),this.pagination.state.numPerPage=this.settings.rowsPerPage,this.pagination.state.numEntries=this.model.data.length;var e=this.dom.tablePagination.querySelector(".actions .select")?this.pagination.state.numEntries:Math.ceil(this.pagination.state.numEntries/this.pagination.state.numPerPage);this.pagination.init(e)}this.model.setDisplayedData()}},{key:"_enableStickyHead",value:function(){if(this.settings.height){this.dom.table.parentElement.style.height=this.settings.height,this.dom.table.parentElement.classList.add("sticky");var e=window.navigator.userAgent;RegExp(/MSIE|Trident/).test(e)&&this.dom.table.parentElement.addEventListener("scroll",this.listeners.onScroll)}}},{key:"_createDetailsRow",value:function(){var e=document.createElement("tr"),t=document.createElement("td"),n=document.createElement("td");return e.classList.add("details-row"),t.classList.add("cell-details"),n.classList.add("cell-expand"),t.setAttribute("colspan",this.settings.columns.filter((function(e){return!e.hidden})).length),e.append(n),e.append(t),e}},{key:"_toggleDetailsRow",value:function(e){e.nextSibling&&e.nextSibling.classList.contains("details-row")&&(e.nextSibling.classList.toggle("hidden"),e.classList.toggle("expanded"),e.querySelector(".expand .icon").classList.toggle("icon-chevron-right"),e.querySelector(".expand .icon").classList.toggle("icon-chevron-down"))}},{key:"_fixTableHead",value:function(e){var t=e.target,n=t.scrollTop;t.querySelectorAll("thead th").forEach((function(e){return e.style.transform="translateY(".concat(n,"px)")}))}},{key:"_createActionsDropdown",value:function(){if(this.dom.tableButtons){var e=this.dom.tableButtons.querySelectorAll("button"),t='\n      <div class="dropdown more" data-type="click">\n        <button class="btn clickable"><i class="icon icon-more"></i></button>\n        <div class="menu right">\n           '.concat(Array.from(e).map((function(e){return'<div class="item">'.concat(e.innerText,"</div>")})).join(""),"\n        </div>\n      </div>"),n=ye(t);this.dom.tableButtons.append(n),new N(n).init(),Array.from(n.querySelectorAll(".item")).forEach((function(t,n){t.addEventListener("click",(function(){return e[n].click()}))})),this._onResize()}}},{key:"_onResize",value:function(){var e=parseFloat(getComputedStyle(this.dom.tableTop).width),t=(this.dom.tableTop.querySelector(".table-top-left")?parseFloat(getComputedStyle(this.dom.tableTop.querySelector(".table-top-left")).width):0)+(this.dom.tableTop.querySelector(".table-actions")?parseFloat(getComputedStyle(this.dom.tableTop.querySelector(".table-actions")).width):0)+(this.dom.tableTop.querySelector(".table-search")?parseFloat(getComputedStyle(this.dom.tableTop.querySelector(".table-search")).width):0)+32,n=Math.floor(e-t);this._wrapActionButtons(n)}},{key:"_wrapActionButtons",value:function(e){var t=0,n=Array.from(this.dom.tableButtons.querySelectorAll(":scope > .btn")),i=this.dom.tableButtons.querySelector(".dropdown.more"),r=Array.from(i.querySelectorAll(".menu .item"));n.forEach((function(n,i){var a;n.classList.contains("hidden")?(n.classList.remove("hidden"),a=parseFloat(getComputedStyle(n).width)+parseFloat(getComputedStyle(n).marginLeft),n.classList.add("hidden")):a=parseFloat(getComputedStyle(n).width)+parseFloat(getComputedStyle(n).marginLeft),isNaN(a)&&(a=0),t>e||t+a>e?(n.classList.add("hidden"),r[i].classList.remove("hidden")):(n.classList.remove("hidden"),r[i].classList.add("hidden"),t+=a)})),i.style.display=n.every((function(e){return!e.classList.contains("hidden")}))?"none":""}},{key:"update",value:function(e){this.model.setData(e),this.pagination&&this.pagination.update(this.model.data.length),this._updateRows()}},{key:"_updateRows",value:function(){this.model.setDisplayedData(),this._renderBody()}},{key:"delete",value:function(e){e instanceof HTMLElement?this.model.deleteByIndex(this.getIndexByRow(e)):this.model.deleteByIndex(this.model.data.indexOf(e)),this.pagination&&this.pagination.update(this.model.data.length),this._updateRows()}},{key:"_removeRow",value:function(e){e.nextSibling&&e.nextSibling.classList.contains("details-row")&&e.nextSibling.remove(),e.removeEventListener("mouseover",this.listeners.onRowMouseOver),e.removeEventListener("mouseout",this.listeners.onRowMouseOut),e.remove()}},{key:"add",value:function(e){this.model.addData(e),this.pagination&&this.pagination.update(this.model.data.length),this._updateRows()}},{key:"getIndexByRow",value:function(e){var t=Array.from(this.dom.bodyRows).indexOf(e);return this.pagination&&(t=(this.pagination.state.currentPage-1)*this.pagination.state.numPerPage+t),t}},{key:"_toggleEmptyState",value:function(){this.model.displayedData.length?this._hideEmptyState():this._showEmptyState()}},{key:"_showEmptyState",value:function(){var e=this.dom.table.querySelector(".no-data-row");if(!e){e=document.createElement("tr");var t=document.createElement("td");e.classList.add("no-data-row"),t.colSpan=this.dom.thead.querySelectorAll("th").length,t.innerText=this.settings.emptyState.message,e.append(t),this.dom.tbody.append(e)}this.dom.table.style.height="100%",this.dom.tablePagination&&this.dom.tablePagination.querySelector(".actions")&&(this.dom.tablePagination.querySelector("input").disabled=!0,this.dom.tablePagination.querySelector(".select").classList.add("disabled"))}},{key:"_hideEmptyState",value:function(){this.dom.table.querySelector(".no-data-row")&&(this.dom.table.style.height="",this.dom.table.querySelector(".no-data-row").remove(),this.dom.tablePagination&&this.dom.tablePagination.querySelector(".actions")&&(this.dom.tablePagination.querySelector("input").disabled=!1,this.dom.tablePagination.querySelector(".select").classList.remove("disabled")))}},{key:"_toggleFreeze",value:function(e){var t=this.settings.columns.some((function(e){return e.freeze}));e.querySelectorAll("tr .freeze").forEach((function(e){e.style.left=t?"".concat(e.offsetLeft,"px"):""})),e.querySelectorAll("tr:not(.details-row) .cell-expand").forEach((function(e){e.classList.toggle("freeze",!!t),e.style.left=t?"".concat(e.offsetLeft,"px"):""})),e.querySelectorAll("tr:not(.details-row) .cell-select").forEach((function(e){e.classList.toggle("freeze",!!t),e.style.left=t?"".concat(e.offsetLeft,"px"):""}))}},{key:"_updateSearch",value:function(){}},{key:"_updateFilter",value:function(e,t){var n=this,i=this.dom.tableMiddle.querySelector(".table-middle-container-filter"),r=this.dom.tableMiddle.querySelector(".table-middle-info"),a=this.dom.tableMiddle.querySelector(".table-middle-actions"),s=this.dom.tableMiddle.querySelector(".table-middle-group"),o=0;Object.keys(this.currentFilter).forEach((function(e){n.currentFilter[e]&&n.currentFilter[e].length>0&&(o+=1)})),o>0?(i||((i=document.createElement("div")).classList.add("table-middle-container"),i.classList.add("table-middle-container-filter"),this.dom.tableMiddle.appendChild(i)),r||((r=document.createElement("div")).classList.add("table-middle-info"),i.appendChild(r)),a||((a=document.createElement("div")).classList.add("table-middle-actions"),i.appendChild(a)),s||((s=document.createElement("div")).classList.add("table-middle-group"),i.appendChild(s),this._updateFilterClear(s)),this._updateFilterInfo(r,o),this._updateFilterPills(a,e,t)):i.parentElement.removeChild(i)}},{key:"_updateFilterInfo",value:function(e,t){e.innerText=1===t?"1 Filter applied:":"".concat(t," Filters applied:")}},{key:"_updateFilterPills",value:function(e,t,n){var i=this,r={};this.settings.columns.forEach((function(e){return r[e.key]=e}));var a=e.querySelector('.pill[data-key="'.concat(t,'"]'));n&&n.length>0?a?a.innerText="".concat(r[t].title," = ").concat(n):((a=document.createElement("div")).classList.add("pill"),a.classList.add("removable"),a.dataset.key=t,a.innerText="".concat(r[t].title," = ").concat(n),a.addEventListener("click",(function(e){return i._filterPillClick(e,t)})),e.appendChild(a)):a&&a.parentElement.removeChild(a)}},{key:"_filterPillClick",value:function(e,t){var n=this.dom.tfilter.querySelector('td[data-key="'.concat(t,'"] input'));n&&(n.value=""),this._onChangedFilter(t,"")}},{key:"_updateFilterClear",value:function(e){var t=this,n=document.createElement("a");n.setAttribute("href","javascript:void(0);"),n.innerText="Clear all filters",n.addEventListener("click",(function(){return t._clearAllFilters()})),e.appendChild(n)}},{key:"_clearAllFilters",value:function(){this.currentFilter={},Array.from(this.dom.tfilter.querySelectorAll("input")).forEach((function(e){e.value=""})),this._onChangedFilter("","")}},{key:"onChangedSettings",value:function(e){e&&(this.settings.columns=e,this._renderTable()),this._notify("onChangedSettings",this.settings.columns)}},{key:"_onChangedSearch",value:function(e){this.currentSearch=e,this.model.filter(),this.pagination&&this.pagination.update(this.model.data.length),this._updateSearch(),this._updateRows(),this._notify("onChangedSearch",this.currentSearch)}},{key:"_onChangedFilter",value:function(e,t){this.currentFilter[e]=t,this.model.filter(),this.pagination&&this.pagination.update(this.model.data.length),this._updateFilter(e,t),this._updateRows(),this._notify("onChangedFilter",this.currentFilter)}},{key:"onChangedMultiSort",value:function(e){this.currentSort=e.map((function(e){return{key:e.column.key,dir:e.order,type:e.colType}})),this.model.sort(),this.dom.tbody&&this._updateRows(),this._notify("onChangedMultiSort",this.currentSort)}},{key:"onColumnSort",value:function(e,t){this.currentSort=[{key:e,dir:t}],this.model.sort(),this.dom.tbody&&this._updateRows(),this._notify("onChangedSort",this.currentSort)}},{key:"onToggleSelectRow",value:function(e,t){var n=this,i=this.getIndexByRow(e);t?this.model.selectByIndex(i):this.model.deselectByIndex(i),this._notify("onToggleSelectRow"),this.dom.tableButtons&&this.dom.tableTop.querySelector(".table-info")&&setTimeout((function(){return n._onResize()}),100),this.dom.table.dispatchEvent(new CustomEvent("toggleSelectRow",{detail:{row:e,data:this.model.data[i]}}));var r=t?"selectRow":"unselectRow";this.dom.table.dispatchEvent(new CustomEvent(r,{detail:{row:e,data:this.model.data[i]}}))}},{key:"onSelectAll",value:function(){this.model.selectAll()}},{key:"onDeselectAll",value:function(){this.model.deselectAll()}}]),e}(),Oe=function(){function e(t){var n=this;v(this,e),this.dom={globalNavigation:t,closeIconBtn:t.querySelector(".close-global-nav"),overlay:t.querySelector(".overlay")},this.listeners={click:function(){return n.hide()}}}return g(e,[{key:"init",value:function(){this._addEventListeners()}},{key:"destroy",value:function(){this._removeEventListeners(),this.dom.globalNavigation&&this.dom.globalNavigation.parentNode&&this.dom.globalNavigation.parentNode.removeChild(this.dom.globalNavigation)}},{key:"_addEventListeners",value:function(){this.dom.closeIconBtn.addEventListener("click",this.listeners.click,!1),this.dom.overlay.addEventListener("click",this.listeners.click,!1)}},{key:"_removeEventListeners",value:function(){this.dom.closeIconBtn.removeEventListener("click",this.listeners.click,!1),this.dom.overlay.addEventListener("click",this.listeners.click,!1)}},{key:"_showOverlay",value:function(){this.dom.globalNavigation.classList.remove("hidden")}},{key:"_hideOverlay",value:function(){this.dom.globalNavigation.classList.add("hidden")}},{key:"_showSidePanel",value:function(){this.dom.globalNavigation.querySelector(".overlay").classList.remove("hidden")}},{key:"_hideSidePanel",value:function(){this.dom.globalNavigation.querySelector(".overlay").classList.add("hidden")}},{key:"isVisible",value:function(){var e=this.dom.globalNavigation.classList.contains("hidden"),t=this.dom.globalNavigation.querySelector(".overlay").classList.contains("hidden");return!e&&!t}},{key:"show",value:function(){var e=this;this._showOverlay(),setTimeout((function(){e._showSidePanel()}),200)}},{key:"hide",value:function(){var e=this;this._hideSidePanel(),setTimeout((function(){e._hideOverlay()}),500)}}]),e}(),Le=function(){function e(t,n){v(this,e),this.dom={gauge:t,settings:n||t.dataset.settings,valueArc:void 0,valueLabel:void 0},this.data=null,this.limitHoverArc=null,t.dataset.settings&&console.warn("The use of the attribute 'data-settings' to configure the Gauge component\nis now deprecated. Please configure using the constructor instead.\nLearn more at https://eds.internal.ericsson.com/data-visualization/gauge")}return g(e,[{key:"init",value:function(){this.data=this._parseData(),this._setDataDefaults(),this._drawChart(),this._injectTexture()}},{key:"_setCanvas",value:function(e,t){return x.select(e).append("svg").attr("width",250*t).attr("height",250*t).append("g").attr("transform","translate("+125*t+", "+125*t+")")}},{key:"_injectTexture",value:function(){void 0===window.document.querySelector("#diagonalTexture")&&x.select("body").append("svg").append("defs").append("pattern").attr("id","diagonalTexture").attr("width",5).attr("height",5).attr("patternUnits","userSpaceOnUse").append("path").attr("fill","white").attr("stroke","#767676").attr("stroke-width","1").attr("d","M0 5L5 0ZM6 4L4 6ZM-1 1L1 -1Z")}},{key:"_getScale",value:function(e){switch(e){case"small":return.5;case"medium":default:return.75;case"large":return 1}}},{key:"_createArc",value:function(e){var t=e.scale||.75;return x.arc().innerRadius(e.radius.inner*t).outerRadius(e.radius.outer*t).startAngle(e.angle.start*(Math.PI/180)).endAngle(e.angle.end*(Math.PI/180))}},{key:"_drawArc",value:function(e,t){var n=this._createArc;return e.append("path").attr("class",t.props.class||"arc").attr("d",n(t.arc)).attr("fill",t.props.color).attr("opacity",t.props.opacity||1)}},{key:"_drawLabel",value:function(e,t){var n=e.append("g").attr("transform","translate("+(t.x*t.scale||0)+","+(t.y*t.scale||0)+")").append("text");return this._styleLabel(n,t),this._addTextLines(n,t.message),n}},{key:"_styleLabel",value:function(e,t){return e.style("font-size",t.fontSize*t.scale+"px").attr("class",t.class||"text")}},{key:"_addTextLines",value:function(e,t){var n=String(t).split("\n");e.selectAll("tspan").remove(),n.forEach((function(t,i){var r=1*i-1*(n.length-1)/2;e.append("tspan").text(t).attr("x",0).attr("y","".concat(r,"em"))}))}},{key:"_parseData",value:function(){return"string"==typeof this.dom.settings?JSON.parse(this.dom.settings):this.dom.settings}},{key:"_setDataDefaults",value:function(){this.data.value=this.data.value||0,this.data.min=this.data.min||0,this.data.max=this.data.max||100,this.data.units=this.data.units||"%",this.data.scale=this._getScale(this.data.size)||.75}},{key:"setValue",value:function(e){var t=this.dom.valueArc,n=this._valueToAngle(this.data.value),i=this._valueToAngle(e);t.transition().duration(750).attrTween("d",this._arcTween(i,n).bind(this)),this.data.value=this._angleToValue(i)}},{key:"_valueToAngle",value:function(e){return x.scaleLinear().domain([this.data.min,this.data.max]).range([-135,135])(e)}},{key:"_angleToValue",value:function(e){return x.scaleLinear().domain([-135,135]).range([this.data.min,this.data.max])(e)}},{key:"_setLabelAngle",value:function(e){var t=this.dom,n=t.valueLabel,i=t.unitLabel,r=this._parseData().decimals,a=this._angleToValue(e).toFixed(r),s=this._isMinLabel(a);this._addTextLines(n,s?this.data.minLabel:a),this._addTextLines(i,s?"":this.data.units),this._styleLabel(n,{fontSize:s?32:60,scale:this.data.scale,class:s?"total minLabel":"total"})}},{key:"_isMinLabel",value:function(e){return parseFloat(e)===this.data.min&&this.data.minLabel}},{key:"_arcTween",value:function(e,t){var n=this,i=this._setArcColor,r=this._setLabelAngle,a=this._angleToValue,s=this.data;return function(){var o=x.interpolate(t,e);return function(e){t=o(e);var l=n._createArc({angle:{start:-135,end:t},radius:{inner:95,outer:102},scale:s.scale});r.bind(n)(t);var u=s.decimals||0,c=a.bind(n)(t);return i.bind(n)(parseFloat(c).toFixed(u),s.limits),l(e)}}}},{key:"_setArcColor",value:function(e,t){var n=this.dom;n.valueArc.attr("class","valueArc"),t&&Array.from(t).forEach((function(t){e>=t.from&&e<=t.to&&"transparent"!==t.color&&"unknown"!==t.color&&"gray"!==t.color&&n.valueArc.attr("class",t.color)}))}},{key:"_drawChart",value:function(){var e=this,t=this.data.scale,n=this._setCanvas(this.dom.gauge,t);this._drawArc(n,{arc:{radius:{inner:95,outer:102},angle:{start:-135,end:135},scale:t},props:{class:"foregroundArc"}}),this.dom.valueArc=this._drawArc(n,{arc:{radius:{inner:95,outer:102},angle:{start:-135,end:this._valueToAngle(this.data.value)},scale:t},props:{class:"valueArc"}}),this._setArcColor(this.data.value,this.data.limits);for(var i=-140;i<135;i+=7.4324324324324325)this._drawArc(n,{arc:{radius:{inner:94,outer:103},angle:{start:i,end:i+5},scale:t},props:{class:"negativeArc"}});this.data.limits&&Array.from(this.data.limits).forEach((function(i){var r=e._drawArc(n,{arc:{radius:{inner:82,outer:87},angle:{start:e._valueToAngle(i.from)+1,end:e._valueToAngle(i.to)-1},scale:t},props:{class:i.color,opacity:.3}});e.limitHoverArc=e._drawArc(n,{arc:{radius:{inner:72,outer:117},angle:{start:e._valueToAngle(i.from)+1,end:e._valueToAngle(i.to)-1},scale:t},props:{class:"transparent"}});var a=x.select(e.dom.gauge).append("div").attr("class","tooltip hidden").style("left","0px").style("top","0px").html(i.label);e.limitHoverArc.on("mouseenter",(function(){a.node().classList.remove("hidden"),r.style("opacity",1)})),e.limitHoverArc.on("mousemove",(function(e){a.style("left",e.clientX+"px").style("top",e.clientY-40+"px")})),e.limitHoverArc.on("mouseleave",(function(){a.node().classList.add("hidden"),r.style("opacity",.3)}))}));var r=this._isMinLabel(this.data.value);this.dom.unitLabel=this._drawLabel(n,{message:r?"":this.data.units,class:"units",x:0,y:40,fontSize:28,scale:t}),this._drawLabel(n,{message:this.data.min,class:"label left",x:-65,y:110,fontSize:24,scale:t}),this._drawLabel(n,{message:this.data.max,class:"label right",x:65,y:110,fontSize:24,scale:t}),this.dom.valueLabel=this._drawLabel(n,{message:r?this.data.minLabel:this.data.value,class:r?"total minLabel":"total",fontSize:r?32:60,scale:t})}},{key:"destroy",value:function(){this.limitHoverArc&&(this.limitHoverArc.on("mouseenter",null),this.limitHoverArc.on("mousemove",null),this.limitHoverArc.on("mouseleave",null))}}]),e}(),Ee=function(){function e(t){v(this,e),this.element=t.element,this.margin=t.margin,this.height=t.height,this.width=t.width||this.getCanvasWidth(),this.listeners=[],this.chart=null}return g(e,[{key:"init",value:function(){this.element.querySelector(".chart")||x.select(this.element).append("svg").attr("width",this.width+this.margin.left+this.margin.right).attr("height",this.height+this.margin.top+this.margin.bottom).classed("chart",!0).append("g").attr("transform","translate(".concat(this.margin.left,", ").concat(this.margin.top,")")).classed("canvas",!0),this.chart=this.element.querySelector(".chart")}},{key:"getCanvas",value:function(){return x.select(this.element).selectAll(".canvas")}},{key:"getCanvasWidth",value:function(){var e=this.element.offsetWidth-this.margin.right-this.margin.left;return e<0?0:e}},{key:"getWidth",value:function(){return this.element.offsetWidth}},{key:"onResize",value:function(e){var t=this,n=function(){setTimeout((function(){x.select(t.chart).attr("width",t.getWidth()),e()}),300)};window.addEventListener("resize",n),document.addEventListener("toggleNavigation",n),this.listeners.push(n)}},{key:"updateChartDimensions",value:function(e){x.select(this.element.querySelector(".canvas")).attr("transform","translate(".concat(e.left,", ").concat(e.top,")")),x.select(this.chart).attr("width",this.getCanvasWidth()+e.left+e.right)}},{key:"destroy",value:function(){this.listeners.forEach((function(e){window.removeEventListener("resize",e),document.removeEventListener("toggleNavigation",e)})),this.listeners=[]}}]),e}(),Ae=function(){function e(t){v(this,e),t=c({},t),this.data=t.data||null,this.length=t.length||this._dataLength(t)||15,this.groupBy=t.groupBy||null,this.offset=t.offset||0,this.reverse=t.reverse||!1,this.colors=t.colors||this._generateColorMatrix()}return g(e,[{key:"_dataLength",value:function(e){return e.data?e.data.series.length:null}},{key:"init",value:function(){this.colorScale=x.scaleOrdinal().range(this.colors)}},{key:"get",value:function(){return this.colorScale}},{key:"set",value:function(e){this.colorScale=e}},{key:"getColors",value:function(){return this.colors}},{key:"setColors",value:function(e){this.colors=e}},{key:"_generateColorMatrix",value:function(){this.groups=this._getGroups(),this.order=this._getColorOrder();for(var e=[],t=0;t<this.length;t+=1)e.push("color-data-".concat(this._getColor(t)));return e}},{key:"_getGroups",value:function(){var e=this;return Array.from(new Set(Array(this.length).fill(null).map((function(t,n){return e._getSafe((function(){return e.data.series[n][e.groupBy]}))||n}))))}},{key:"_getSafe",value:function(e,t){try{return e()}catch(e){return t}}},{key:"_getColorOrder",value:function(){var e=Array(this.groups.length).fill(null).map((function(e,t){return t%20+1})),t=this._applyOffset(e);return this._applyReverse(t),t}},{key:"_applyOffset",value:function(e){var t=e.slice(0,this.offset);return e.slice(this.offset).concat(t)}},{key:"_applyReverse",value:function(e){return this.reverse?e.reverse():e}},{key:"_getColor",value:function(e){return this._getColorFromData(e)||this._getColorFromOrder(e)}},{key:"_getColorFromData",value:function(e){var t=this;return this._getSafe((function(){return t.data.series[e].color}))&&(this._getColorFromClass(this.data.series[e].color)||this._getColorFromText(this.data.series[e].color))||null}},{key:"_getColorFromClass",value:function(e){var t=e.match(/color-data-(\d+)$/);return t&&t[1]>0&&t[1]<=20?t[1]:null}},{key:"_getColorFromText",value:function(e){var t=[["categorical 1","gray-53","gray-42","#878787","#6a6a6a"],["categorical 2","violet-69","violet-80","#976cf4","#ba9ef8"],["categorical 3","turquoise-37","turquoise-66","#23969a","#74dcdf"],["categorical 4","coral-61","tangerine77","#c86f6d","#f2af99"],["categorical 5","gray-20","white","#333333","#ffffff"],["categorical 6","ocher-44","ocher-81","#b98327","#fcf5a3"],["categorical 7","steel-59","steel-71","#8087ad","#a6abc6"],["categorical 8","pink-64","pink-77","#e75fa0","#ea9fc5"],["categorical 9","violet-36","violet-62","#3e0da9","#7e4af2"],["categorical 10","tangerine-34","scarlet-60","#9b3213","#e24f72"],["categorical 11","slate-59","slate-69","#5b85d0","#82b6de"],["categorical 12","scarlet-17","coral-61","#4d0c2b","#c86f6d"],["categorical 13","pink-49","turquoise-30","#d82177","#1d797c"],["categorical 14","turquoise-14","pink-57","#0c3b35","#d84b92"],["categorical 15","slate-58","slate-58","#7695b0","#7695b0"],["categorical 16","scarlet-26","tangerine-64","#74132a","#eb7f5d"],["categorical 17","steel-31","steel-51","#3e4461","#68709e"],["categorical 18","tangerine-45","ocher-65","#cf4219","#f9ec51"],["categorical 19","ocher-22","coral-84","#5b4013","#e9c5c4"],["categorical 20","scarlet-43","scarlet-48","#bd1f44","#d2234b"]].findIndex((function(t){return t.includes(e.toLowerCase())}));return t>-1?t%20+1:null}},{key:"_getColorFromOrder",value:function(e){var t=this._getGroupIndex(e);return this.order[t]}},{key:"_getGroupIndex",value:function(e){var t=this,n=this._getSafe((function(){return t.data.series[e][t.groupBy]}))||e;return this.groups.indexOf(n)}}],[{key:"getRangePaletteClass",value:function(e){if(!e)return"sequential-4";var t=e.toLowerCase().split(" ").join("-");return!0!=={"sequential-1":!0,"sequential-2":!0,"sequential-3":!0,"sequential-4":!0,"sequential-5":!0,"sequential-6":!0,"sequential-7":!0,"sequential-8":!0,"sequential-9":!0,"sequential-10":!0,"diverging-1":!0,"diverging-2":!0,"diverging-3":!0,"diverging-4":!0,"diverging-5":!0,"diverging-6":!0}[t]&&(t="sequential-1"),t}}]),e}(),Ce=function(){function e(t){v(this,e),this.element=t.element,this.draw=t.draw,this.hidden=t.hidden,this.pillsGroup=t.pillsGroup||"series-group",this.highlight=t.highlight||function(){},this.identifierScale=t.identifierScale||null,this.filter={},this.pills=[],this.isCustomColorScale=!1,t.colorScale&&(this.isCustomColorScale=!0,this.colorScale=t.colorScale)}return g(e,[{key:"init",value:function(){!0!==this.hidden&&(this.legend=this._createLegend())}},{key:"update",value:function(e){var t=this;if(!0!==this.hidden&&e){var n=!1,i={};e.forEach((function(e){i[e.name]=!0,void 0===t.filter[e.name]&&(t.filter[e.name]=!0,n=!0)})),Object.keys(e).forEach((function(e){void 0===i[e]&&(delete t.filter[e],n=!0)})),n&&(!1===this.isCustomColorScale&&(this.colorScale=this._newColorScale(e)),this.columns=e.length>0?Object.keys(e[0]):e,this._updatePillGroups(this.pillsGroup,e))}else if(e){var r={};e.forEach((function(e){r[e.name]=!0,void 0===t.filter[e.name]&&(t.filter[e.name]=!0)}))}}},{key:"destroy",value:function(){}},{key:"getFilter",value:function(){return this.filter}},{key:"_newColorScale",value:function(e){var t=new Ae({data:e});return t.init(),t}},{key:"_createLegend",value:function(){return this._selectOrAppend(x.select(this.element),"chart-legend").lower()}},{key:"_selectOrAppend",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"div",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return e.select(".".concat(t)).empty()?this._attrs(e.append(n).classed(t,!0),i):e.select(".".concat(t))}},{key:"_attrs",value:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.attr(n,t[n]);return e}},{key:"_updatePillGroups",value:function(e,t){var n=this._selectOrAppend(this.legend,e),i=this._updateData(n,t);this._appendContents(i)}},{key:"_updateData",value:function(e,t){var n=this;this._destroyPills();var i=e.selectAll(".pill").data(t),r=i.enter().append("span");i.exit().remove();var a=i.merge(r).attr("data-key",(function(e){return e.name})).attr("class",(function(e){return!1===n.filter[e.name]?"unselected":""})).classed("pill",!0).classed("toggle",!0).on("mouseenter",(function(e,t){n.pills.filter((function(e){return e.key===t.name}))[0].instance.isSelected()?n.highlight(t.name):n.highlight()})).on("mouseleave",(function(){n.highlight()}));return this.selectAll=e.selectAll(".toggle-all").remove(),this.selectAll=e.selectAll(".toggle-all").data(["Select all"]).enter().append("a").attr("href","javascript:void(0)").classed("toggle-all",!0).text("Select all"),this._initPills.bind(this)(e),a}},{key:"_appendContents",value:function(e){this.identifierScale?this._addIdentifier(e):this._appendIcon(e),e.selectAll("span").data((function(e){return[e]})).text((function(e){return e.name})).enter().append("span").text((function(e){return e.name}))}},{key:"_addIdentifier",value:function(e){var t=this._appendSVG(e),n=this._bindIdentifiers(t).enter();this._appendSeparator(n),this._appendIdentifier(n)}},{key:"_appendSVG",value:function(e){var t=this;return e.append("svg").datum((function(e){return t._getIdentifierData(e)})).attr("width",(function(e){return 16*e.length})).attr("height","16").attr("viewBox",(function(e){return"-4 -4 ".concat(8*e.length," 8")}))}},{key:"_bindIdentifiers",value:function(e){return e.selectAll("path").data((function(e){return e}))}},{key:"_appendSeparator",value:function(e){return e.filter((function(e,t){return t>0})).append("path").classed("id-separator",!0).attr("d",(function(e,t){var n=8*t+4;return"M".concat(n,",-3L").concat(n,",3")}))}},{key:"_appendIdentifier",value:function(e){return e.append("path").attr("d",(function(e){return"".concat(e.draw())})).attr("class",(function(e){return"identifier ".concat(e.color," ").concat(e.name)})).attr("transform",(function(e,t){return"translate(".concat(8*t," 0)")}))}},{key:"_appendIcon",value:function(e){var t=this;e.selectAll("i").data((function(e){return[e]})).attr("class",(function(e){return"icon icon-alarm-level6 ".concat(t.colorScale.get()(e.name))})).enter().append("i").attr("class",(function(e){return"icon icon-alarm-level6 ".concat(t.colorScale.get()(e.name))}))}},{key:"_getIdentifierData",value:function(e){var t=this,n=this.identifierScale.get()(e.name),i=this.colorScale.get()(e.name);return this._getIdentifiers(e).map((function(e){return e?{name:e,draw:t.identifierScale[e].bind(t.identifierScale),color:i}:c(c({},n),{},{color:i})}))}},{key:"_getIdentifiers",value:function(e){return[e.identifier].concat(e.markers.map((function(e){return e.identifier})).filter((function(e){return void 0!==e})))}},{key:"_initPills",value:function(e){var t=this;this.nativePillGroup=new J({element:e.node(),action:function(){t.pills.forEach((function(e){t.filter[e.key]=e.instance.isSelected()})),t.draw(),t.highlight()}}),this.nativePillGroup.init(),this.pills=this.nativePillGroup.getPills().map((function(e){return{instance:e,key:e.data.key}}))}},{key:"_destroyPills",value:function(){this.nativePillGroup&&this.nativePillGroup.destroy()}}]),e}(),Te=function(){function e(){v(this,e)}return g(e,null,[{key:"formatTime",value:function(e){var t=e||"%d %B %Y";return x.timeFormat(t)}},{key:"formatNumber",value:function(e){var t=e||",";return x.format(t)}},{key:"formatAxis",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(""===e||e)return t?x.timeFormat(e):x.format(e)}},{key:"formatTimeAxis",value:function(e){var t=e&&e.millisecond?x.timeFormat(e.millisecond):x.timeFormat(".%L"),n=e&&e.second?x.timeFormat(e.second):x.timeFormat(":%S"),i=e&&e.minute?x.timeFormat(e.minute):x.timeFormat("%I:%M"),r=e&&e.hour?x.timeFormat(e.hour):x.timeFormat("%I %p"),a=e&&e.day?x.timeFormat(e.day):x.timeFormat("%a %d"),s=e&&e.week?x.timeFormat(e.week):x.timeFormat("%b %d"),o=e&&e.month?x.timeFormat(e.month):x.timeFormat("%B"),l=e&&e.year?x.timeFormat(e.year):x.timeFormat("%Y");return function(e){return x.timeSecond(e)<e?t(e):x.timeMinute(e)<e?n(e):x.timeHour(e)<e?i(e):x.timeDay(e)<e?r(e):x.timeMonth(e)<e?x.timeWeek(e)<e?a(e):s(e):x.timeYear(e)<e?o(e):l(e)}}}]),e}(),De=function(){function e(t){v(this,e),this.firstDrawFlag=!0,this.height=150,this.width=150,this.data=t.data,this.element=t.element,this.margin=c({top:this.height,bottom:0,right:0,left:this.width},t.margin),this.legendProps=c({isHidden:!1},t.legend),this.showAbsoluteValue=t.showAbsoluteValue||!1,this.showValue=t.showValue||!1,this.isStatic=t.isStatic||!1,this.unit=t.unit,this.colorScale=t.colorScale||this._newColorScale(),this.isHighlighted=!1,this.highlightedValue=void 0,this.format=t.format,this.onSelect=t.onSelect||function(){}}return g(e,[{key:"_newColorScale",value:function(){var e=new Ae({data:this.data});return e.init(),e}},{key:"init",value:function(){var e=this;this.stage=new Ee({element:this.element,margin:this.margin,height:this.height,width:this.width}),this.stage.init(),this.canvas=this.stage.getCanvas(),this._initLegend(),this.getOuterRadius=function(t){return e.radius-e._determineArcSize(t)},this.getInnerRadius=function(t){return e.radius+e._determineArcSize(t)},this.draw()}},{key:"draw",value:function(e){var t=this;this.width=this.stage.getCanvasWidth(),this.canvas.classed("donut",!0);if(this.radius=90,this.arcs=x.arc().outerRadius(this.getOuterRadius).innerRadius(this.getInnerRadius),this.thinArcs=x.arc().outerRadius(this.radius+10).innerRadius(this.radius-10),this.thickArcs=x.arc().outerRadius(this.radius+4).innerRadius(this.radius-4),this.hoverArcs=x.arc().outerRadius((function(){return t.radius+10})).innerRadius((function(){return 0})),this.pie=x.pie().sort(null).value((function(e){return e.values[0]})),void 0!==e&&(this.data=e,this.legend.update(this.data.series.map((function(e){return{name:e.name}})))),this.filteredData={common:this.data.common,series:this.data.series.filter((function(e){return!0===t.legend.getFilter()[e.name]}))},this.firstDrawFlag&&(this.labelGroup=this.canvas.append("g").attr("class","labels"),this.activeGroup=this.canvas.append("g").attr("class","active-arc"),this.hoverGroup=this.canvas.append("g").attr("class","hover-arc"),this.activeGroup.datum(this.filteredData.series).selectAll("path").data(this.pie).enter().append("path").attr("class",(function(e){return t.colorScale.get()(e.data.name)})).attr("name",(function(e){return e.data.name})).attr("d",this.arcs).each((function(e){this._current=e})),this.hoverGroup.datum(this.filteredData.series).selectAll("path").data(this.pie).enter().append("path").attr("class","transparent").attr("name",(function(e){return e.data.name})).attr("d",this.hoverArcs).each((function(e){this._current=e})),this._drawLabels({unit:this.unit,total:this._getTotal()},!1)),!this.firstDrawFlag)if(this.activeGroup.selectAll("path").interrupt(),this.activeGroup.datum(this.filteredData.series).selectAll("path").data(this.pie).attr("class",(function(e){return t.colorScale.get()(e.data.name)})).attr("name",(function(e){return e.data.name})).each((function(e){this._current=e})).transition().duration(500).attrTween("d",(function(e){var n=t.arcs,i=x.interpolate(e.startAngle,e.endAngle);return function(t){return e.endAngle=i(t),n(e)}})),this.activeGroup.datum(this.filteredData.series).selectAll("path").data(this.pie).enter().append("path").attr("class",(function(e){return t.colorScale.get()(e.data.name)})).attr("name",(function(e){return e.data.name})).each((function(e){this._current=e})).transition().duration(500).attrTween("d",(function(e){var n=t.arcs,i=x.interpolate(e.startAngle,e.endAngle);return function(t){return e.endAngle=i(t),n(e)}})),this.activeGroup.datum(this.filteredData.series).selectAll("path").data(this.pie).exit().remove(),this.hoverGroup.datum(this.filteredData.series).selectAll("path").data(this.pie).exit().remove(),this.isHighlighted){if(this.highlightedValue=this.filteredData.series.find((function(e){return e.name===t.highlightedValue.name})),this.highlightedValue){this.highlightedValue=JSON.parse(JSON.stringify(this.highlightedValue));var n=this._getPercentage(this.highlightedValue.values[0]);this._drawLabels({value:this.showAbsoluteValue?this.highlightedValue.values[0]:n,unit:this.showAbsoluteValue?this.unit:"%",label:this.highlightedValue.name},!0)}}else this._drawLabels({unit:this.unit,total:this._getTotal()},!1);this.isStatic?this._highlight(this.filteredData.series[0].name):(this.hoverGroup.selectAll("*").remove(),this.hoverGroup.datum(this.filteredData.series).selectAll("path").data(this.pie).enter().append("path").attr("class","transparent").attr("name",(function(e){return e.data.name})).on("mouseenter",(function(e,n){return t._highlight(n.data.name)})).on("mouseleave",(function(){return t._highlight(void 0)})).on("click",(function(e,n){return t.onSelect({name:n.data.name,values:n.data.values})})).attr("d",this.hoverArcs).each((function(e){this._current=e}))),this.firstDrawFlag=!1}},{key:"_initLegend",value:function(){this.legend=new Ce({element:this.element,draw:this.draw.bind(this),hidden:this.legendProps.isHidden,highlight:this._highlight.bind(this),colorScale:this.colorScale}),this.legend.init(),this.legend.update(this.data.series.map((function(e){return{name:e.name}})))}},{key:"_drawLabels",value:function(e,t){var n=this.canvas.select(".labels");""===this.canvas.select(".labels").node().innerHTML?(n.append("text").classed("value",!0).attr("transform","translate(".concat(0,", ",0,")")).text(t?e.value:""),n.append("text").classed("unit",!0).attr("transform","translate(".concat(0,", ",28,")")).text(t?e.unit:""),n.append("text").classed("label",!0).attr("transform","translate(".concat(0,", ",this.height-28,")")).text(t?e.label:"")):(n.select(".value").text(t?e.value:""),n.select(".unit").text(t?e.unit:""),n.select(".label").text(t?e.label:"")),this.showValue&&(n.select(".value").text(t?e.value:e.total),n.select(".unit").text(e.unit),n.select(".label").text(t?e.label:""))}},{key:"_getPercentage",value:function(e){var t=0;return this.filteredData.series.forEach((function(e){t+=e.values[0]})),(e/t*100).toFixed(1)}},{key:"_getTotal",value:function(){var e=0;return this.filteredData.series.forEach((function(t){e+=t.values[0]})),Te.formatNumber(this.format)(e)}},{key:"_determineArcSize",value:function(e){return e.data.placeholder||e.data.active?10:this.filteredData.series.some((function(e){return e.active}))?3:10}},{key:"_highlight",value:function(e,t){var n=this;this.isStatic&&(e=this.filteredData.series[0].name),e?(this.isHighlighted=!0,this.activeGroup.selectAll("path").interrupt(),this.activeGroup.datum(this.filteredData.series).selectAll("path").data(this.pie,(function(e){return e.data.name})).attr("class",(function(e){return n.colorScale.get()(e.data.name)})).transition().duration(300).attr("opacity",(function(t){return t.data.name===e?1:.2})).attr("d",(function(t){if(t.data.name===e){n.highlightedValue=JSON.parse(JSON.stringify(t.data));var i=n._getPercentage(t.data.values[0]);return n._drawLabels({value:n.showAbsoluteValue?Te.formatNumber(n.format)(t.data.values[0]):i,unit:n.showAbsoluteValue?n.unit:"%",label:t.data.name},!0),n.thinArcs(t)}return n.thickArcs(t)}))):!0===t?(this.isHighlighted=!1,this.highlightedValue=void 0):!0!==t&&(this.isHighlighted=!1,this.highlightedValue=void 0,this.activeGroup.selectAll("path").interrupt(),this.activeGroup.datum(this.filteredData.series).selectAll("path").data(this.pie,(function(e){return e.data.name})).attr("class",(function(e){return n.colorScale.get()(e.data.name)})).transition().duration(200).attr("opacity",1).attr("d",(function(e){return n.thinArcs(e)})),this._drawLabels({unit:this.unit,total:this._getTotal()},!1))}},{key:"destroy",value:function(){this.stage.destroy()}}]),e}(),Ie=function(){function e(t){v(this,e),this.scale=["diamond","square","triangle","circle","cross"],this.length=t.length||this.scale.length,this.identifiers=t.identifiers||this._generateIdentifiersMatrix(this.length)}return g(e,[{key:"init",value:function(){this.identifierScale=x.scaleOrdinal().range(this.identifiers)}},{key:"get",value:function(){return this.identifierScale}},{key:"set",value:function(e){this.identifierScale=e}},{key:"getIdentifiers",value:function(){return this.identifiers}},{key:"setIdentifiers",value:function(e){this.identifiers=e}},{key:"getIdentifierNames",value:function(){return this.identifiers.map((function(e){return e.name}))}},{key:"_generateIdentifiersMatrix",value:function(e){for(var t=[],n=0;n<e;n+=1){var i=this.scale[n%this.scale.length];t.push({name:i,draw:this[i].bind(this)})}return t}},{key:"diamond",value:function(){var e=x.path();return e.moveTo(-1.75,0),e.lineTo(0,-1.75),e.lineTo(1.75,0),e.lineTo(0,1.75),e.closePath(),e}},{key:"square",value:function(){var e=x.path();return e.rect(-1.5,-1.5,3,3),e}},{key:"triangle",value:function(){var e=x.path();return e.moveTo(-1.625,-1.5),e.lineTo(1.625,-1.5),e.lineTo(0,1.5),e.closePath(),e}},{key:"circle",value:function(){var e=x.path(),t=2*Math.PI;return e.moveTo(1.5,0),e.arc(0,0,1.5,0,t),e}},{key:"cross",value:function(){var e=x.path(),t=2.3,n=.5;return e.moveTo.apply(e,l(this._rot(-n,t))),e.lineTo.apply(e,l(this._rot(n,t))),e.lineTo.apply(e,l(this._rot(n,n))),e.lineTo.apply(e,l(this._rot(t,n))),e.lineTo.apply(e,l(this._rot(t,-n))),e.lineTo.apply(e,l(this._rot(n,-n))),e.lineTo.apply(e,l(this._rot(n,-t))),e.lineTo.apply(e,l(this._rot(-n,-t))),e.lineTo.apply(e,l(this._rot(-n,-n))),e.lineTo.apply(e,l(this._rot(-t,-n))),e.lineTo.apply(e,l(this._rot(-t,n))),e.lineTo.apply(e,l(this._rot(-n,n))),e.closePath(),e}},{key:"_rot",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:45,i=n*(Math.PI/180),r=Math.cos(i)*e+Math.sin(i)*t,a=Math.cos(i)*t-Math.sin(i)*e;return[r,a]}},{key:"default",value:function(){var e=x.path();return e.moveTo(0,-1.5),e.lineTo(0,1.5),e}}]),e}(),Ne=function(){function e(t){v(this,e),this.dom={element:t.element,tooltip:void 0,content:void 0,tbody:void 0},this.disabled=!1,this.hoverClass=t.hoverClass||""}return g(e,[{key:"init",value:function(){x.select(this.dom.element).selectAll(".chart-tooltip").remove(),this.dom.tooltip=x.select(this.dom.element).append("div").classed("chart-tooltip",!0),this.dom.content=this.dom.tooltip.append("table").classed("content",!0),this.dom.tbody=this.dom.content.append("tbody"),this._addEventListeners()}},{key:"_addEventListeners",value:function(){var e=this,t=x.select(this.dom.element).select(".chart");t.empty()&&(t=x.select(this.dom.element).select(".svg")),t.on("mousemove",(function(t){e.dom.tooltip.classed("visible",(function(){return!1===e.disabled&&[].concat(e.hoverClass).some((function(e){return Array.from(t.target.classList).includes(e)}))})).style("top",(function(){return t.clientY+e.dom.tooltip.node().offsetHeight+16>window.innerHeight?t.clientY-e.dom.tooltip.node().offsetHeight-8+"px":t.clientY+16+"px"})).style("left",(function(){return t.clientX+e.dom.tooltip.node().offsetWidth+32>window.innerWidth?t.clientX-e.dom.tooltip.node().offsetWidth-16+"px":t.clientX+16+"px"}))})).on("mouseleave",(function(){e.dom.tooltip.classed("visible",!1)}))}},{key:"update",value:function(e){var t=this.dom.tbody.selectAll("tr").data(e),n=t.enter().append("tr");t.exit().remove();var i=t.merge(n).attr("class",(function(e){return!0===e.line?"line":void 0})).selectAll("td").data((function(e){return e.values})),r=i.enter().append("td");i.exit().remove();var a=i.merge(r);a.attr("colspan",(function(e){return void 0!==e.colspan?e.colspan:1})).attr("class",(function(e,t){var n=[];return 0!==t&&n.push("right-align"),!0===e.bold&&n.push("bold"),n.join(" ")})).attr("style",(function(e){return e.style})),a.filter((function(e){return void 0===e.icon})).html((function(e){return e.value}));var s=a.filter((function(e){return void 0!==e.icon})).text(""),o=s.selectAll("i").data((function(e){return[e]})).attr("class",(function(e){return e.icon}));o.enter().append("i").attr("class",(function(e){return e.icon})),o.exit().remove();var l=s.selectAll("span").data((function(e){return[e]})).text((function(e){return e.value}));l.enter().append("span").text((function(e){return e.value})),l.exit().remove()}},{key:"enable",value:function(){this.disabled=!1}},{key:"disable",value:function(){this.disabled=!0}}]),e}(),ze=function(){function e(t){v(this,e),this.chart=t.chart,this.markerData=JSON.parse(JSON.stringify(t.markerData)),this.format=c({input:"%Y-%m-%d"},t.format),this.animationSpeed=this._ifExists(t.animationSpeed,500),this.animationDelay=this._ifExists(t.animationDelay,250),this.showLabels=this._ifExists(t.showLabels,!1),this.showLegend=this._ifExists(t.showLegend,!this.showLabels),this.strokeStyle=this._ifExists(t.strokeStyle,"default"),this.unit=this._ifExists(t.unit,12),this.autoStack=this._ifExists(t.autoStack,!0),this.autoMargin=this._ifExists(t.autoMargin,this.autoStack),this.tooltipLabels=c(c({start:"Start",end:"End",interval:"Interval"},t.tooltipLabels),{},{units:this._getUnits(t,{days:"d",hours:"h",minutes:"m",seconds:"s"})}),this.hoverHeight=this.showLabels?3*this.unit:2*this.unit,this.data=this._copy(this.chart.stackedData||this.chart.data),this.flipAxis=t.flipAxis||!1,this.getColor=null,this.firstTime=!0,this.offset={x:0,y:0},this.hoverClass="marker-hover"}return g(e,[{key:"_ifExists",value:function(e,t){return void 0!==e?e:t}},{key:"_getUnits",value:function(e,t){var n=e.tooltipLabels?e.tooltipLabels.units:{};return Object.assign(t,n)}},{key:"_copy",value:function(e){return JSON.parse(JSON.stringify(e))}},{key:"init",value:function(){this.colorScale=this._getColorScale(),this.colorScale.init(),this.chart.colorScale=this.colorScale,this._resetChart(),this.getIdentifier=this._getIdentifier(),this._initLegend(),this._initTooltip(),this.getColor=this.colorScale.get(),this.stage=this.chart.stage,this.canvas=this.stage.getCanvas(),this.chart.legend.highlight=this._overrideHighlight(),this.chart.legend.draw=this._overrideDraw(),this.resize=this.stage.onResize(this.update.bind(this)),this.update()}},{key:"_getColorScale",value:function(){var e=this.data.series.length+this.markerData.length,t=this.chart.colorScale,n=t.groupBy,i=t.offset,r=t.reverse,a={length:e,data:this.data,groupBy:n,offset:i,reverse:r};return new Ae(a)}},{key:"_resetChart",value:function(){this.chart.element.innerHTML="",this.chart.stage&&this.chart.destroy(),this.chart.init()}},{key:"_getIdentifier",value:function(){return this.identifierScale=new Ie({length:this.markerData.length}),this.identifierScale.init(),this.identifierScale.get()}},{key:"_initLegend",value:function(){this.showLegend&&(this.legend=this._getLegend(),this.legend.init(),this.legend.update(this.markerData))}},{key:"_initTooltip",value:function(){void 0!==this.chart.tooltipBox?this.tooltipBox=this.chart.tooltipBox:(this.tooltipBox=new Ne({element:this.chart.element,hoverClass:this.hoverClass}),this.tooltipBox.init())}},{key:"_getLegend",value:function(){return new Ce({element:this.chart.element,draw:this._legendUpdate.bind(this),highlight:this._highlight.bind(this),pillsGroup:"data-markers-group",identifierScale:this.identifierScale,colorScale:this.colorScale})}},{key:"_legendUpdate",value:function(e){this.update(e.series)}},{key:"_highlight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?".series, .line, .marker-group":".marker-group",i=this.canvas.selectAll(n);e?i.classed("dim",(function(t){return t.name!==e})).classed("hover",(function(t){return t.name===e})):i.classed("dim",!1).classed("hover",!1)}},{key:"_overrideHighlight",value:function(){var e=this,t=this.chart.legend.highlight;return function(n){t(n),e._highlight(n,!0)}}},{key:"_overrideDraw",value:function(){var e=this,t=this.chart.legend.draw;return function(n){t(n),e.update()}}},{key:"update",value:function(e){e&&(this.markerData=e),this.width=this.stage.getCanvasWidth(),this._parseMarkers();var t=this._flattenAndSort(this.markerData),n=this._addLayoutData(t);this.fitMarkers=n.sort(this._sortStack),this._clearLabel(),this._updateStage(),this._directHover(),this._draw(),this.firstTime=!1}},{key:"_getLength",value:function(e){var t=this.chart.margin,n=t.right,i=t.left,r=this.stage.getWidth()-(i+n);return"y"===e?r:this.chart.height}},{key:"_getAxisScale",value:function(e){return"y"===e?this.chart.yScale:this.chart.xScale}},{key:"_parseMarkers",value:function(){var e=this;this.markerData&&this.markerData.forEach((function(t){t.markers.forEach((function(n,i){n=e._parseMarker(n,t,i)}))}))}},{key:"_parseMarker",value:function(e,t,n){return e.name=t.name,e.id="".concat(e.name,"-").concat(n),e.identifier=this._getIdentifierName(t,e),e.color=this.getColor(e.name),e.strokeStyle=e.strokeStyle||t.strokeStyle,e.axis=this._isFlipped(e.axis||t.axis||"x"),e.start=this._parseDate(e.start,e.axis),e.end&&(e.end=this._parseDate(e.end,e.axis)),e}},{key:"_isFlipped",value:function(e){return this.flipAxis&&this.firstTime?"x"===e?"y":"x":e}},{key:"_getIdentifierName",value:function(e,t){var n=this.getIdentifier(t.name);return this._ifIdentifier(t.identifier)||this._ifIdentifier(e.identifier)||n.name}},{key:"_ifIdentifier",value:function(e){return this.identifierScale.scale.includes(e)?e:null}},{key:"_parseDate",value:function(e,t){if(this._isTime(t)){var n=this.format[t]||this.format.input,i=this._formatDate(e,t);return x.timeParse(n)(i)}return e}},{key:"_formatDate",value:function(e,t){if(this._isTime(t)){var n=this.format[t]||this.format.input;return Te.formatTime(n)(new Date(e))}return e}},{key:"_isTime",value:function(e){return this.chart[e]&&(this.chart[e].isTime||"time"===this.chart[e].scaleType)}},{key:"_flattenAndSort",value:function(e){var t=e.map((function(e){return e.markers})).flat(),n=t.filter((function(e){return"y"===e.axis})).sort(this._sortStart.bind(this));return t.filter((function(e){return"y"!==e.axis})).sort(this._sortStart.bind(this)).concat(n)}},{key:"_sortStart",value:function(e,t){var n=this._getAxisScale(e.axis)(e.start),i=this._getAxisScale(e.axis)(e.end),r=this._getAxisScale(t.axis)(t.start),a=this._getAxisScale(t.axis)(t.end);return Math.min(n,i||n)-Math.min(r,a||r)}},{key:"_addLayoutData",value:function(e){var t=this;return this.stack={x:[],y:[]},this.stack.x.offset=this._hasScaleLabels()?1:0,this.stack.y.offset=0,e.map((function(e){e.minWidth=t._getMinWidth(e);var n=t._getMarkerRange(e);return e.stackLevel=t._getStackLevel(n),t._updateOffset(n,e.stackLevel),e}))}},{key:"_hasScaleLabels",value:function(){return!(this.chart.y&&this._isEmptyString(this.chart.y.unit))||void 0!==this.chart.r}},{key:"_isEmptyString",value:function(e){return!e||0===e.length}},{key:"_getMarkerRange",value:function(e){var t=this.unit/2,n=this._getHoverArea(e),i=n.start,r=i-t,a=i+n.end+t;return this._withinView(this._getAxisScale(e.axis)(e.start),e.axis)||this._withinView(this._getAxisScale(e.axis)(e.end),e.axis)?{start:this._adjustToViewport(r,a,e.axis),end:this._adjustToViewport(a,r,e.axis),axis:e.axis}:null}},{key:"_getHoverArea",value:function(e){var t=Math.max(e.minWidth,2*this.unit),n=this._fitOnAxis(e),i=n.start,r=n.end,a=r-i;if(a>t)return{start:i,end:r-i};var s=t-a;return{start:i-s/2,end:a+s}}},{key:"_fitOnAxis",value:function(e){var t=this._getAxisScale(e.axis)(e.start),n=this._getAxisScale(e.axis)(e.end||e.start),i=Math.min(t,n),r=Math.max(t,n);return{start:this._adjustToViewport(i,r,e.axis),end:this._adjustToViewport(r,i,e.axis)}}},{key:"_adjustToViewport",value:function(e,t,n){var i="y"===n?this.chart.height:this.chart.width;return t<0&&e<0||t>i&&e>i?e:Math.min(i,Math.max(0,e))}},{key:"_getMinWidth",value:function(e){return this.showLabels?(this.label||(this.label=this._getLabel()),this.label.text(e.name),this._getWidth(this.label)):0}},{key:"_getLabel",value:function(){return this.canvas.append("text").attr("text-anchor","middle").classed("temp-label",!0)}},{key:"_getWidth",value:function(e){return e.node().getBBox().width}},{key:"_getStackLevel",value:function(e){return this.autoStack&&e?this._findStackLevel(e):0}},{key:"_findStackLevel",value:function(e){for(var t=0;t<(this.stack[e.axis].length||1);t+=1){if(!this._overlaps(e,this.stack[e.axis][t]))return this.stack[e.axis][t]=e,t;if(this._isLast(t,this.stack[e.axis]))return this.stack[e.axis].push(e),t+1}}},{key:"_overlaps",value:function(e,t){if(t){var n=Math.min(e.start,e.end||e.start),i=Math.min(t.start,t.end||t.start),r=Math.max(e.start,e.end||e.start),a=Math.max(t.start,t.end||t.start);return n>=i&&n<=a||r>=i&&r<=a||n<=i&&r>=a}return!1}},{key:"_isLast",value:function(e,t){return e===t.length-1}},{key:"_updateOffset",value:function(e,t){e&&"x"===e.axis&&(this._overlaps(e,this._getSizeLabelRange())||this._overlaps(e,this._getYLabelRange()))&&t===this.stack[e.axis].length-1&&(this.stack.x.offset=this.stack.x.length+1)}},{key:"_getSizeLabelRange",value:function(){if(void 0!==this.chart.r){var e=this.canvas.select(".size-legend"),t=e.select(".icon"),n=this._getWidth(e)-this._getWidth(t)+16,i=this.unit/2,r=this.chart.width;return{start:r-n-i,end:r+i}}return null}},{key:"_getYLabelRange",value:function(){if(this.chart.y&&""!==this.chart.y.unit){var e=this.canvas.select(".left.axis .unit"),t=this._getWidth(e),n=e.node().getBBox().x,i=this.unit/2;return{start:n-i,end:t+n+i}}return null}},{key:"_sortStack",value:function(e,t){return e.stackLevel-t.stackLevel}},{key:"_clearLabel",value:function(){this.label&&this.label.text("")}},{key:"_updateStage",value:function(){this.offset.x=this._getOffset(this.stack.x),this.offset.y=this._getOffset(this.stack.y),this.chart.margin=Object.assign(this.chart.margin,{right:this.offset.y}),this.chart.draw(),x.select(this.chart.element).select(".chart").transition().duration(this.firstTime?0:this.animationSpeed).attr("height",this.stage.height+this.offset.x+this.stage.margin.bottom).select(".canvas").attr("transform","translate(".concat(this.stage.margin.left,", ").concat(this.offset.x,")"))}},{key:"_getOffset",value:function(e){var t=this.autoMargin?Math.max(e.length,e.offset,1):1,n=e.offset>=e.length&&e.offset>0?16:0;return t*this.hoverHeight+n}},{key:"_directHover",value:function(){var e=this;this.canvas.selectAll(".dot-group, .bar-group").on("mouseover",(function(t,n){return e._highlight(n.name||n,!0)})).on("mouseout",(function(){return e._highlight(null,!0)}))}},{key:"_draw",value:function(){this.markerData&&(this._addMarkers(),this._addDefs(),this._addHover(),this._update(),this._exit())}},{key:"_addMarkers",value:function(){var e=this._getMarkerSet(),t=this._addMarkerGroups(e);this._addMarkerContents(t)}},{key:"_getMarkerSet",value:function(){var e=this._getBefore();return this._selectOrAppend(this.canvas,".chart-marker-set",{before:e,attributes:{class:"chart-marker-set"}}).selectAll(".marker-group")}},{key:"_getBefore",value:function(){var e=this;return[".line-group",".tooltip-line",".crosshair",".bar-group",".mouse-area"].find((function(t){return e._getNode(t)}))}},{key:"_getNode",value:function(e){return this.canvas.select(e).node()}},{key:"_selectOrAppend",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={type:"g",before:null,attributes:{}},r=Object.assign(i,n);return e.select("".concat(t)).empty()?this._attrs(e.insert(r.type,r.before),r.attributes):e.select("".concat(t))}},{key:"_attrs",value:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.attr(n,t[n]);return e}},{key:"_addMarkerGroups",value:function(e){this.markerSet=this._bindData(e);var t=this.markerSet.enter();return this._appendMarkerGroup(t)}},{key:"_bindData",value:function(e){return e.data(this.fitMarkers,(function(e){return e.id}))}},{key:"_appendMarkerGroup",value:function(e){var t=this;return e.append("g").attr("class",(function(e){return t._getClassNames(e)})).attr("name",(function(e){return e.name}))}},{key:"_getClassNames",value:function(e){var t=["marker-group"];return e.end?t.push("extended"):t.push("single"),t.push(this.getColor(e.name)),(e.strokeStyle||this.strokeStyle)&&t.push(e.strokeStyle||this.strokeStyle),t.join(" ")}},{key:"_addMarkerContents",value:function(e){this._appendPath(e),this._appendExtended(e),this._addLabel(e),this._appendHead(e)}},{key:"_appendPath",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?"end":"start";this._updateMarker(e.append("path").attr("class","marker ".concat(n)),this.firstTime,t)}},{key:"_updateMarker",value:function(e,t){var n=this;return e.filter(".start").attr("d",(function(e){return n._single(n._fitOnAxis(e).start,n._getMarkerLength(e,t),e.axis)})),e.filter(".end").attr("d",(function(e){return n._single(n._fitOnAxis(e).end,n._getMarkerLength(e,t),e.axis)})),e}},{key:"_single",value:function(e,t,n){if(this._withinView(e,n)){var i="y"===n?{start:{x:0,y:e},end:{x:t,y:e}}:{start:{x:e,y:this._getLength(n)-t},end:{x:e,y:this._getLength(n)}};return this._line(i)}return null}},{key:"_withinView",value:function(e,t){var n="y"===t?this.chart.height:this.chart.width;return e>0&&e<n}},{key:"_line",value:function(e){var t=e.start,n=e.end,i=e.moveTo,r=void 0===i?[]:i;r.push(n);var a=x.path();return a.moveTo(t.x,t.y),r.forEach((function(e){a.lineTo(e.x,e.y)})),a}},{key:"_getMarkerLength",value:function(e,t){return t?this._getLength(e.axis)+this.unit+this._getStackPos(e):0}},{key:"_getStackPos",value:function(e){return this._getOffset(this.stack[e.axis])-(e.stackLevel+1)*this.hoverHeight}},{key:"_appendExtended",value:function(e){var t=e.filter((function(e){return e.end}));this._appendPath(t,!0),this._updateOverlay(t.append("path").classed("overlay",!0).classed("horizontal",(function(e){return"y"===e.axis})),this.firstTime)}},{key:"_updateOverlay",value:function(e,t){var n=this;return e.attr("d",(function(e){return n._extended(e,n._getMarkerLength(e,t))})).attr("style",(function(e){return n._getOverlayTransform(e)}))}},{key:"_extended",value:function(e,t){var n=this._fitOnAxis(e),i=n.start,r=n.end,a="y"===e.axis?[0,i,t,r-i]:[i,this._getLength(e.axis)-t,r-i,t],s=x.path();return s.rect.apply(s,a),s}},{key:"_getOverlayTransform",value:function(e){return"y"===e.axis?"transform-origin: ".concat(this._getLength(e.axis)+this._getStackPos(e)+this.unit,"px 0;"):"transform-origin: 0 -".concat(this._getStackPos(e)+12,"px;")}},{key:"_addLabel",value:function(e){return this.showLabels?this._updateLabel(e.append("text").attr("text-anchor","middle").classed("label",!0).text((function(e){return e.name})),+this.firstTime):null}},{key:"_updateLabel",value:function(e,t){var n=this;return e.attr("transform",(function(e){return n._getLabelTransform(e)})).attr("opacity",(function(e){return n._getLabelOpacity(e,t)}))}},{key:"_getLabelTransform",value:function(e){var t=this._getLabelPos(e);return"y"===e.axis?"translate(".concat(this._getLength(e.axis)+2*this.unit+this._getStackPos(e)," ").concat(t,") rotate(90)"):"translate(".concat(t," ").concat(-(2*this.unit+this._getStackPos(e)),")")}},{key:"_getLabelPos",value:function(e){var t=this._fitOnAxis(e),n=t.start,i=t.end;return n+(e.end?(i-n)/2:0)}},{key:"_getLabelOpacity",value:function(e,t){var n=this._getLabelPos(e);return this._withinView(n,e.axis)?t:0}},{key:"_appendHead",value:function(e){return this._updateHead(e.append("path").classed("head",!0),+this.firstTime)}},{key:"_updateHead",value:function(e,t){var n=this;return e.attr("d",(function(e){return n._head(e)})).attr("opacity",t).attr("marker-mid",(function(e){return n._useIdentifier(e)})).attr("marker-start",(function(e){return n._useDefault(e,"start")})).attr("marker-end",(function(e){return n._useDefault(e,"end")}))}},{key:"_head",value:function(e){var t=this._fitOnAxis(e),n=t.start,i=t.end,r=e.end?n+(i-n)/2:n;if(this._withinView(r,e.axis)){var a=this._getLength(e.axis)+this.unit+this._getStackPos(e),s=-(this.unit+this._getStackPos(e)),o="y"===e.axis?{start:{x:a,y:n},moveTo:[{x:a,y:r}],end:{x:a,y:i}}:{start:{x:n,y:s},moveTo:[{x:r,y:s}],end:{x:i,y:s}};return this._line(o)}return null}},{key:"_useIdentifier",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"url(#".concat(this._getVisualKey(t,e,"-"),")")}},{key:"_getVisualKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ";return"".concat(e||t.identifier).concat(n).concat(t.color)}},{key:"_useDefault",value:function(e,t){var n=this._fitOnAxis(e),i=n.start,r=n.end,a="y"===e.axis?this.chart.height:this.chart.width;return"start"===t&&i<=0||"end"===t&&r>=a?null:e.end?this._useIdentifier(e,"default"):null}},{key:"_addDefs",value:function(){var e=this._getMarkerDefs(),t=this._bindData(e).enter(),n=this._getUnique(t);this._appendDefs(n,"default"),this._appendDefs(n)}},{key:"_getMarkerDefs",value:function(){return this._selectOrAppend(this.canvas,"defs",{type:"defs"}).selectAll(".marker-def")}},{key:"_getUnique",value:function(e){var t=this,n=[];return e.filter((function(e){return!n.includes(t._getVisualKey(null,e))&&n.push(t._getVisualKey(null,e))}))}},{key:"_appendDefs",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._addDefMarkers(e,t);this._addDefPaths(n,t)}},{key:"_addDefMarkers",value:function(e,t){var n=this;return this._attrs(e.append("marker"),{markerWidth:this.unit,markerHeight:this.unit,refX:0,refY:0,orient:"auto",viewBox:"-".concat(this.unit/2," -").concat(this.unit/2," ").concat(this.unit," ").concat(this.unit),class:function(e){return"marker-def ".concat(n._getVisualKey(t,e))},id:function(e){return n._getVisualKey(t,e,"-")}})}},{key:"_addDefPaths",value:function(e,t){var n=this;return e.append("path").attr("d",(function(e){return n._getIdentifierPath(t,e)}))}},{key:"_getIdentifierPath",value:function(e,t){return e||t.identifier?this.identifierScale[e||t.identifier]():this.getIdentifier(t.name).draw()}},{key:"_addHover",value:function(){var e=this._addHoverGroup();this.hoverSet=this._bindData(e);var t=this.hoverSet.enter();this._appendHover(t),this._addHoverClass(this.hoverClass)}},{key:"_addHoverGroup",value:function(){return this._selectOrAppend(this.canvas,".marker-hover-areas",{attributes:{class:"marker-hover-areas"}}).selectAll(".marker-hover, .marker-hover-areas .dot-hover")}},{key:"_appendHover",value:function(e){var t=this;return this._updateHover(e.append("path").classed(this.hoverClass,!0).on("mouseenter",(function(e,n){return t._mouseChange.bind(t)(e,n)})).on("mouseleave",(function(e,n){return t._mouseChange.bind(t)(e,n)})))}},{key:"_updateHover",value:function(e){var t=this;return e.attr("d",(function(e){return t._hover(e)}))}},{key:"_hover",value:function(e){var t=this._getLabelPos(e);if(this._withinView(t,e.axis)){var n=x.path(),i=this._getHoverArea(e),r=i.start,a=i.end,s="y"===e.axis?[this._getLength(e.axis)+this._getStackPos(e),r,this.hoverHeight,a]:[r,-(this.hoverHeight+this._getStackPos(e)),a,this.hoverHeight];return n.rect.apply(n,s),n}return null}},{key:"_mouseChange",value:function(e,t){var n="mouseenter"===e.type?t.name:null,i=[{line:!0,values:[{value:'<svg width="16" height="16" viewBox="-4 -4 8 8">\n  <path class="identifier '.concat(t.identifier," ").concat(this.colorScale.get()(t.name),'"\n  d="').concat(this._getIdentifierPath(t.identifier),'"></path>\n</svg>')},{value:t.name}]}];if(i.push({values:[{value:this.tooltipLabels.start},{value:this._formatDate(t.start,t.axis),bold:!0}]}),t.end){i.push({values:[{value:this.tooltipLabels.end},{value:this._formatDate(t.end,t.axis),bold:!0}]});var r=this._getInterval(t);r&&i.push({values:[{value:this.tooltipLabels.interval},{value:r,bold:!0}]})}t.info&&(i[i.length-1].line=!0,i.push({values:[{value:t.info,colspan:2,style:"max-width: 120px"}]})),this.tooltipBox.update(i),this._highlight(n)}},{key:"_update",value:function(){var e=this.canvas.selectAll(".marker-group, .marker-hover, .marker-hover-areas .dot-hover").transition();this._updateAndSync(e)}},{key:"_updateAndSync",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={main:null,markers:null,labels:null,hover:null},r=Object.assign(i,n),a=r.main,s=r.markers,o=r.labels;this._durationAndDelay(e,a);var l=this._updateAll(e,"marker",t);this._durationAndDelay(l,s);var u=this._updateAll(e,"label",+t);this._durationAndDelay(u,o);var c=this._updateAll(e,"head",+t);this._durationAndDelay(c,o);var d=this._updateAll(e,"overlay",t);this._durationAndDelay(d,s),this._updateHover(e)}},{key:"_updateAll",value:function(e,t,n){return this["_update".concat(this._capitalize(t))](this._inheritData(e.selectAll(".".concat(t))),n)}},{key:"_capitalize",value:function(e){return e[0].toUpperCase()+e.slice(1)}},{key:"_inheritData",value:function(e){return e.each((function(e,t,n){var i=n[t];x.select(i).datum(x.select(i.parentNode).datum())}))}},{key:"_durationAndDelay",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={duration:this.animationSpeed,delay:0},i=Object.assign(n,t),r=i.duration,a=i.delay;return e.duration(r).delay(a)}},{key:"_exit",value:function(){this.hoverSet.exit().remove();var e=this.markerSet.exit().transition().remove();this._updateAndSync(e,!1)}},{key:"destroy",value:function(){this.canvas.selectAll(".marker-hover, .marker-group .dot-hover").on("mouseenter",null).on("mouseleave",null),this.canvas.selectAll(".chart-marker-set, .marker-hover-areas").remove(),window.removeEventListener("resize",this.resize)}},{key:"_getInterval",value:function(e){if(this._isTime(e.axis)){var t=e.end.getTime()-e.start.getTime();return this._timeToHuman(t)}var n=e.end-e.start;return isNaN(n)?null:n}},{key:"_timeToHuman",value:function(e){var t=this.tooltipLabels.units,n=t.days,i=t.hours,r=t.minutes,a=t.seconds;return[{value:Math.floor(e/864e5),symbol:n},{value:Math.floor(e/36e5)%24,symbol:i},{value:Math.floor(e/6e4)%60,symbol:r},{value:e/1e3%60,symbol:a}].filter((function(e){return e.value>0})).map((function(e){return"".concat(e.value).concat(e.symbol)})).join(", ")}},{key:"_addHoverClass",value:function(e){var t=this._toArray(this.tooltipBox.hoverClass);t.push(e),this.tooltipBox.hoverClass=t}},{key:"_toArray",value:function(e){return[].concat(e)}}]),e}(),qe=function(){function e(t){v(this,e),this.position=t.position,this.canvas=t.canvas,this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this.margin=t.margin,this.fontSize=t.fontSize,this.axisPadding=t.axisPadding,this.animationSpeed=t.animationSpeed||400,this.thresholds=t.thresholds,this.hasDomain=t.hasDomain,this.hasGrid=t.hasGrid,this.ticks=t.ticks||this.width/120,this.tickFormat=t.tickFormat,this.unit=t.unit||""}return g(e,[{key:"init",value:function(){this.x&&!isNaN(this.x(0))||this.y&&!isNaN(this.y(0))?(this.draw(),this.thresholds&&this.drawThreshold()):(this.x||this.y)&&this.draw()}},{key:"draw",value:function(){var e,t,n=this,i=this.canvas.select(".".concat(this.position,".axis"));i.empty()?(this.axis=this.canvas.append("g"),this.unit=this.axis.append("text").classed("unit",!0).text(this.unit)):(this.axis=i,this.unit=this.axis.select(".unit"));var r=this.canvas.select(".".concat(this.position,".grid"));switch(r.empty()?this.grid=this.canvas.append("g").classed(this.position,!0).classed("grid",!0):this.grid=r,this.position){case"bottom":e=x.axisBottom(this.x).tickSize(this.hasDomain?this.axisPadding:this.height+this.axisPadding).tickPadding(this.axisPadding).ticks(this.ticks),this.hasDomain&&this.axis.attr("transform","translate(0,".concat(this.height,")")),this.hasGrid&&(t=x.axisBottom(this.x).tickSize(this.height).tickFormat("").ticks(this.ticks)),this.margin&&this.unit.attr("text-anchor","end").attr("x",this.width).attr("y",(this.hasDomain?0:this.height)+2*this.fontSize+2*this.axisPadding);break;case"left":e=x.axisLeft(this.y).tickSize(this.hasDomain?this.axisPadding:-this.width).tickPadding(this.axisPadding).ticks(this.ticks),this.hasGrid&&(t=x.axisLeft(this.y).tickSize(-this.width).tickFormat("").ticks(this.ticks)),this.margin&&this.unit.attr("text-anchor","start").attr("x",-this.margin.left).attr("y",-this.fontSize-this.axisPadding)}this.tickFormat&&e.tickFormat((function(e){return n.tickFormat(e)})),this.axis.classed(this.position,!0).classed("axis",!0).transition().duration(this.animationSpeed).call(e),this.hasDomain||this.axis.selectAll(".domain").remove(),this.axis.selectAll(".tick").selectAll("line").classed("solid",this.hasDomain).classed("zero",(function(e){return 0===e})),this.axis.selectAll(".tick").selectAll("text").attr("font-size",this.fontSize),this.hasGrid&&this.grid.transition().duration(this.animationSpeed).call(t)}},{key:"drawThreshold",value:function(){var e,t=this,n=function(e){var n;return t.thresholds.forEach((function(t){e!==t.moreThan&&e!==t.lessThan||(n=t.color)})),n};this.axis.selectAll(".tick").classed("marked-for-removal",(function(e){return!!n(e)})),this.axis.selectAll(".tick.marked-for-removal").remove();var i=this.thresholds.map((function(e){return e.moreThan||e.lessThan}));switch(this.position){case"bottom":e=x.axisTop(this.x).tickPadding(this.axisPadding).tickSize(-this.height-this.axisPadding).tickValues(i);break;case"left":e=x.axisRight(this.y).tickSize(this.width).tickValues(i)}this.tickFormat&&e.tickFormat((function(e){return t.tickFormat(e)}));var r=this.canvas.select(".axis.threshold");this.thresholdAxis=r.empty()?this.canvas.append("g"):r,this.thresholdAxis.classed("axis",!0).classed("threshold",!0).transition().duration(this.animationSpeed).call(e),this.thresholdAxis.selectAll(".domain").remove(),this.thresholdAxis.selectAll(".tick").selectAll("line").attr("class",(function(e){return n(e)})).classed("threshold",!0),this.thresholdAxis.selectAll(".tick").selectAll("text").attr("font-size",this.fontSize)}},{key:"calculateLeftMargin",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=10,i=this.tickFormat?this.y.ticks(this.ticks).map((function(t){return e.tickFormat(t)})):this.y.ticks(this.ticks),r=t?4:Math.max.apply(Math,l(i.map((function(e){return e.toString().split(/[.,]/).join("").length}))));return r*n+this.axisPadding}}]),e}(),Re=function(){function e(t){v(this,e),this.parentElement=t.element,this.settings=c({message:"No data to display."},t.settings),this.border=t.border||!1,this.height=t.height}return g(e,[{key:"init",value:function(){this.render(),this.addEventListeners()}},{key:"destroy",value:function(){this.removeEventListeners()}},{key:"render",value:function(){this.parentElement.querySelector(".empty-state")&&(this.removeEventListeners(),this.parentElement.querySelector(".empty-state").remove());var e=document.createElement("div");e.classList.add("empty-state"),this.border&&e.classList.add("border");var t=document.createElement("div");t.classList.add("message"),e.append(t);var n=document.createElement("p");if(n.innerHTML=this.settings.message.trim(),t.append(n),this.settings.button){var i=document.createElement("button");i.classList.add("btn"),i.innerHTML=this.settings.button.trim(),t.append(i)}this.height&&(e.style.height="".concat(this.height,"px")),this.parentElement.append(e)}},{key:"addEventListeners",value:function(){this.settings.action&&this.parentElement.querySelector(".btn").addEventListener("click",this.settings.action)}},{key:"removeEventListeners",value:function(){this.settings.action&&this.parentElement.querySelector(".btn").removeEventListener("click",this.settings.action)}}]),e}(),Be=function(e){return e&&e.series&&e.series.some((function(e){return e.values.length}))},Fe=function(e,t){var n,i=f(e.children);try{for(i.s();!(n=i.n()).done;){var r=n.value;r.classList.contains("empty-state")?r.style.display=t?"none":"":r.style.display=t?"":"none"}}catch(e){i.e(e)}finally{i.f()}},He=function(){function e(t){v(this,e),this.data=t.data,this.element=t.element,this.margin=c({left:16,right:24,top:16,bottom:32},t.margin),this.height=t.height||250,this.thresholds=t.thresholds,this.x=c({unit:""},t.x),this.legendProps=c({isHidden:!1},t.legend),this.colorScale=t.colorScale||this._newColorScale(),this.axisPadding=8,this.fontSize=14,this.barWidth=t.barWidth||8,this.animationSpeed=400,this.thresholds&&(this.margin.top+=8),this.x.unit&&(this.margin.bottom+=this.fontSize+this.axisPadding),this.emptyState=t.error||null,this.onSelect=t.onSelect||function(){},this.isHorizontal=!0}return g(e,[{key:"_newColorScale",value:function(){var e=new Ae({data:this.data});return e.init(),e}},{key:"init",value:function(){this.stage=new Ee({element:this.element,margin:this.margin,height:this.height}),this.stage.init(),this.stage.onResize(this.draw.bind(this)),this.canvas=this.stage.getCanvas(),this._initLegend(),this._initEmptyState(),this.draw()}},{key:"destroy",value:function(){this.stage.destroy()}},{key:"_initLegend",value:function(){this.legend=new Ce({element:this.element,draw:this.draw.bind(this),hidden:this.legendProps.isHidden,colorScale:this.colorScale}),this.legend.init(),this.legend.update(this.data.series.map((function(e){return{name:e.name}})))}},{key:"_initEmptyState",value:function(){this.emptyStateBox=new Re({element:this.element,height:this.element.offsetHeight,border:!0,settings:this.emptyState}),this.emptyStateBox.init()}},{key:"draw",value:function(e,t){var n=this;if(this.data=e||this.data,this.legend.pills.length||this.legendProps.isHidden||(x.select(this.element).selectAll(".chart-legend").remove(),this.colorScale=t||this._newColorScale(),this._initLegend()),this.width=this.stage.getCanvasWidth(),Fe(this.element,Be(this.data)),Be(this.data)){e&&this.legend.update(this.data.series.map((function(e){return{name:e.name}}))),this.yScale=x.scaleBand().domain(this.data.common).rangeRound([this.axisPadding,this.height]).paddingInner(1).paddingOuter(.4);for(var i=x.min(this.data.series,(function(e){return x.min(e.values)}))>=0?0:x.min(this.data.series,(function(e){return x.min(e.values)})),r=0,a=0;a<this.data.common.length;a+=1){for(var s=0,o=0;o<this.data.series.length;o+=1)s+=this.data.series[o].values[a];s>r&&(r=s)}this.xScale=x.scaleLinear().domain([i,r]).nice().range([0,this.width]),new qe({position:"bottom",canvas:this.canvas,x:this.xScale,width:this.width,height:this.height,margin:this.margin,fontSize:this.fontSize,axisPadding:this.axisPadding,thresholds:this.thresholds,tickFormat:Te.formatAxis(this.x.tickFormat,this.x.isTime),unit:this.x.unit}).init();var l=Math.abs(i)>Math.abs(r),u=this.height/this.data.common.length>this.fontSize+this.axisPadding+2*this.barWidth,c=this.canvas.classed("bar-chart",!0).selectAll(".bar-group").data(this.data.common),d=c.enter().append("g").classed("bar-group",!0);d.append("text").classed("label",!0).classed("text",!0).classed("hidden",!u).attr("x",l?-3:2).attr("y",-this.barWidth-2).attr("text-anchor",l?"end":"start").style("pointer-events","none").text((function(e){return e})),d.append("text").classed("label",!0).classed("value",!0).attr("y",-this.barWidth-2).attr("text-anchor",l?"end":"start").text((function(e,t){return Te.formatNumber(",")(n.data.series[0].values[t]).replace(/,/g," ")})).classed("label",!0).classed("value",!0).classed("hidden",!u).transition().duration(this.animationSpeed).attr("x",(function(e,t,n){var i=x.select(n[t].parentNode).select(".label.text").node().getComputedTextLength()+16;return l?-i:i})),c.select(".label.value").text((function(e,t){return Te.formatNumber(",")(n.data.series[0].values[t]).replace(/,/g," ")})),c.selectAll(".line-hover").attr("x1",-this.width).attr("x2",this.width),d.merge(c).transition().duration(this.animationSpeed).attr("transform",(function(e){return"translate(".concat(isNaN(n.xScale(0))?1:n.xScale(0)+1,", ").concat(n.yScale(e),")")}));var h=d.merge(c).selectAll(".bar").data((function(e,t){var i=[];return n.data.series.map((function(e,r){return{key:e.name,value:e.values[t],previous:0===r?0:(i.push(n.data.series[r-1].values[t]),i.reduce((function(e,t){return e+t})))}}))}));h.enter().append("line").merge(h).style("pointer-events","none").attr("stroke-width",this.barWidth).attr("class",(function(e){return"bar "+n.colorScale.get()(e.key)+" "+function(e){var t="";return n.thresholds&&n.thresholds.sort((function(e,t){return e.moreThan-t.moreThan||t.lessThan-e.lessThan})).forEach((function(n){(n.moreThan&&e.value>=n.moreThan||n.lessThan&&e.value<=n.lessThan)&&(t=n.color)})),t}(e)})).transition().duration(this.animationSpeed).attr("x1",(function(e){return-(n.xScale(0)-n.xScale(e.previous))})).attr("x2",(function(e){return isNaN(e.value)?0:-(n.xScale(0)-n.xScale(e.value)+n.xScale(0)-n.xScale(e.previous))})),c.exit().remove(),h.exit().transition().duration(this.animationSpeed).attr("x1",0).attr("x2",0).remove(),this.data.series.length>0&&d.append("line").classed("line-hover",!0).attr("stroke-width",this.yScale(this.data.common[1])-this.yScale(this.data.common[0])).attr("stroke","blue").attr("opacity","0").attr("x1",-this.width).attr("x2",this.width).on("mouseover",(function(e){var t=d.selectAll(".bar"),n=d.selectAll(".label");t.attr("opacity",".2"),n.attr("opacity",".2"),x.select(e.currentTarget.parentNode).selectAll(".bar").attr("opacity","1"),x.select(e.currentTarget.parentNode).selectAll(".label").attr("opacity","1"),x.select(e.currentTarget.parentNode).selectAll(".label").classed("hidden",!1)})).on("mouseout",(function(){var e=d.selectAll(".bar"),t=d.selectAll(".label");e.attr("opacity","1"),t.attr("opacity","1"),t.classed("hidden",!u)})).on("click",(function(e,t){return n.onSelect(t)}))}}}]),e}(),We=function(){function e(t){v(this,e),this.data=t.data,this.element=t.element,this.margin=c({left:16,right:24,top:16,bottom:32},t.margin),this.height=t.height||250,this.thresholds=t.thresholds,this.x=c({unit:""},t.x),this.tooltip=c({format:{title:null,value:","}},t.tooltip),this.legendProps=c({isHidden:!1},t.legend),this.colorScale=t.colorScale||this._newColorScale(),this.axisPadding=8,this.fontSize=14,this.barWidth=t.barWidth||8,this.animationSpeed=400,this.x.unit&&(this.margin.bottom+=this.fontSize+this.axisPadding),this.emptyState=t.error||null,this.onSelect=t.onSelect||function(){},this.isHorizontal=!0}return g(e,[{key:"_newColorScale",value:function(){var e=new Ae({data:this.data});return e.init(),e}},{key:"init",value:function(){this.stage=new Ee({element:this.element,margin:this.margin,height:this.height}),this.stage.init(),this.stage.onResize(this.draw.bind(this)),this.canvas=this.stage.getCanvas(),this._initLegend(),this._initTooltip(),this._initEmptyState(),this.draw()}},{key:"destroy",value:function(){this.stage.destroy()}},{key:"_initLegend",value:function(){this.legend=new Ce({element:this.element,draw:this.draw.bind(this),hidden:this.legendProps.isHidden,highlight:this._highlight.bind(this),colorScale:this.colorScale}),this.legend.init(),this.legend.update(this.data.series.map((function(e){return{name:e.name}})))}},{key:"_initTooltip",value:function(){this.tooltipBox=new Ne({element:this.element,hoverClass:"line-hover"}),this.tooltipBox.init()}},{key:"_initEmptyState",value:function(){this.emptyStateBox=new Re({element:this.element,height:this.element.offsetHeight,border:!0,settings:this.emptyState}),this.emptyStateBox.init()}},{key:"draw",value:function(e,t){var n=this;if(this.data=e||this.data,this.legend.pills.length||this.legendProps.isHidden||(x.select(this.element).selectAll(".chart-legend").remove(),this.colorScale=t||this._newColorScale(),this._initLegend()),this.width=this.stage.getCanvasWidth(),Fe(this.element,Be(this.data)),Be(this.data)){e&&this.legend.update(this.data.series.map((function(e){return{name:e.name}}))),this.filteredData={common:this.data.common,series:this.data.series.filter((function(e){return!0===n.legend.getFilter()[e.name]}))},this.yScale=x.scaleBand().domain(this.filteredData.common).rangeRound([this.axisPadding,this.height+this.fontSize]).paddingInner(.4).paddingOuter(.3);var i=x.scaleBand().domain(this.filteredData.series.map((function(e){return e.name}))).rangeRound([0,this.yScale.bandwidth()]).padding(0),r=x.min(this.filteredData.series,(function(e){return x.min(e.values)}))>=0?0:x.min(this.filteredData.series,(function(e){return x.min(e.values)})),a=x.max(this.filteredData.series,(function(e){return x.max(e.values)}));this.xScale=x.scaleLinear().domain([r,a]).nice().rangeRound([0,this.width]),new qe({position:"bottom",canvas:this.canvas,x:this.xScale,width:this.width,height:this.height,margin:this.margin,fontSize:this.fontSize,axisPadding:this.axisPadding,tickFormat:Te.formatAxis(this.x.tickFormat,this.x.isTime),unit:this.x.unit}).init();var s=this.height/this.filteredData.common.length>2*this.axisPadding+this.fontSize+this.barWidth*this.filteredData.series.length,o=this.canvas.classed("bar-chart",!0).selectAll(".bar-group").data(this.filteredData.common),u=o.enter().append("g").classed("bar-group",!0);u.append("text").classed("label",!0).classed("hidden",!s).attr("x","2").attr("y",-this.barWidth-2).style("pointer-events","none").text((function(e){return e})),o.selectAll(".line-hover").attr("x1",-this.width).attr("x2",this.width),u.merge(o).transition().duration(this.animationSpeed).attr("transform",(function(e){return"translate(".concat(isNaN(n.xScale(0))?1:n.xScale(0)+1,", ").concat(n.yScale(e),")")}));var c,d=u.merge(o).selectAll(".bar").data((function(e,t){return n.filteredData.series.map((function(e){return{key:e.name,value:e.values[t]}}))}));if(d.enter().append("line").merge(d).style("pointer-events","none").attr("stroke-width",this.barWidth).attr("class",(function(e){return"bar "+n.colorScale.get()(e.key)})).transition().duration(this.animationSpeed).attr("y1",(function(e){return i(e.key)})).attr("y2",(function(e){return i(e.key)})).attr("x1",0).attr("x2",(function(e){return isNaN(e.value)?0:n.xScale(e.value)-n.xScale(0)})),o.exit().remove(),d.exit().transition().duration(this.animationSpeed).attr("x2",0).remove(),this.filteredData.series.length>0)c=this.filteredData.common.length>1?this.yScale(this.filteredData.common[1])-this.yScale(this.filteredData.common[0]):this.height,u.append("line").classed("line-hover",!0).attr("stroke-width",c).attr("stroke","blue").attr("opacity","0").attr("x1",-this.width).attr("x2",this.width).on("mouseover",(function(e,t){var i=u.selectAll(".bar"),r=u.selectAll(".label"),a=n.data.common.indexOf(t);n.tooltipBox.update([{line:!0,values:[{value:t},{value:n.x.unit}]}].concat(l(n.filteredData.series.map((function(e){return{values:[{icon:["icon","icon-alarm-level6",n.colorScale.get()(e.name)].join(" "),value:e.name},{bold:!0,value:Te.formatNumber(n.tooltip.format.value)(e.values[a])}]}}))))),i.attr("opacity",".2"),r.attr("opacity",".2"),x.select(e.currentTarget.parentNode).selectAll(".bar").attr("opacity","1"),x.select(e.currentTarget.parentNode).selectAll(".label").attr("opacity","1")})).on("mouseout",(function(){var e=u.selectAll(".bar"),t=u.selectAll(".label");e.attr("opacity","1"),t.attr("opacity","1")})).on("click",(function(e,t){return n.onSelect(t)}))}}},{key:"_highlight",value:function(e){var t=this.canvas.selectAll(".bar");e?t.attr("opacity",(function(t){return t.key===e?"1":".2"})):t.attr("opacity","1")}}]),e}(),Ze=function(){function e(t){v(this,e),this.data=t.data,this.element=t.element,this.margin=c({left:16,right:24,top:16,bottom:32},t.margin),this.height=t.height||250,this.thresholds=t.thresholds,this.x=c({unit:""},t.x),this.tooltip=c({format:{title:null,value:","}},t.tooltip),this.legendProps=c({isHidden:!1},t.legend),this.colorScale=t.colorScale||this._newColorScale(),this.axisPadding=8,this.fontSize=14,this.barWidth=t.barWidth||8,this.animationSpeed=400,this.valueSeparator=2,this.x.unit&&(this.margin.bottom+=this.fontSize+this.axisPadding),this.emptyState=t.error||null,this.onSelect=t.onSelect||function(){},this.isHorizontal=!0}return g(e,[{key:"_newColorScale",value:function(){var e=new Ae({data:this.data});return e.init(),e}},{key:"init",value:function(){this.stage=new Ee({element:this.element,margin:this.margin,height:this.height}),this.stage.init(),this.stage.onResize(this.draw.bind(this)),this.canvas=this.stage.getCanvas(),this._initLegend(),this._initTooltip(),this._initEmptyState(),this.draw()}},{key:"destroy",value:function(){this.stage.destroy()}},{key:"_initLegend",value:function(){this.legend=new Ce({element:this.element,draw:this.draw.bind(this),hidden:this.legendProps.isHidden,highlight:this._highlight.bind(this),colorScale:this.colorScale}),this.legend.init(),this.legend.update(this.data.series.map((function(e){return{name:e.name}})))}},{key:"_initTooltip",value:function(){this.tooltipBox=new Ne({element:this.element,hoverClass:"line-hover"}),this.tooltipBox.init()}},{key:"_initEmptyState",value:function(){this.emptyStateBox=new Re({element:this.element,height:this.element.offsetHeight,border:!0,settings:this.emptyState}),this.emptyStateBox.init()}},{key:"draw",value:function(e,t){var n=this;if(this.data=e||this.data,this.legend.pills.length||this.legendProps.isHidden||(x.select(this.element).selectAll(".chart-legend").remove(),this.colorScale=t||this._newColorScale(),this._initLegend()),this.width=this.stage.getCanvasWidth(),Fe(this.element,Be(this.data)),Be(this.data)){e&&this.legend.update(this.data.series.map((function(e){return{name:e.name}}))),this.filteredData={common:this.data.common,series:this.data.series.filter((function(e){return!0===n.legend.getFilter()[e.name]}))},this.yScale=x.scaleBand().domain(this.filteredData.common).rangeRound([this.axisPadding,this.height]).paddingInner(1).paddingOuter(.4);for(var i=x.min(this.filteredData.series,(function(e){return x.min(e.values)}))>=0?0:x.min(this.filteredData.series,(function(e){return x.min(e.values)})),r=0,a=0;a<this.filteredData.common.length;a+=1){for(var s=0,o=0;o<this.filteredData.series.length;o+=1)s+=this.filteredData.series[o].values[a];s>r&&(r=s)}this.xScale=x.scaleLinear().domain([i,r]).nice().range([0,this.width]);var u=function(e){return n.xScale(0)-n.xScale(e)};new qe({position:"bottom",canvas:this.canvas,x:this.xScale,width:this.width,height:this.height,margin:this.margin,fontSize:this.fontSize,axisPadding:this.axisPadding,tickFormat:Te.formatAxis(this.x.tickFormat,this.x.isTime),unit:this.x.unit}).init();var c=this.height/this.filteredData.common.length>this.fontSize+this.axisPadding+2*this.barWidth,d=this.canvas.classed("bar-chart",!0).selectAll(".bar-group").data(this.filteredData.common),h=d.enter().append("g").classed("bar-group",!0);h.append("text").classed("label",!0).classed("hidden",!c).attr("x","2").attr("y",-this.barWidth-2).style("pointer-events","none").text((function(e){return e})),d.selectAll(".line-hover").attr("x1",-this.width).attr("x2",this.width),h.merge(d).transition().duration(this.animationSpeed).attr("transform",(function(e){return"translate(".concat(isNaN(n.xScale(0))?1:n.xScale(0)+1,", ").concat(n.yScale(e),")")}));var f,p=h.merge(d).selectAll(".bar").data((function(e,t){var i=[];return n.filteredData.series.map((function(e,r){return{key:e.name,value:e.values[t],previous:0===r?0:(i.push(n.filteredData.series[r-1].values[t]),i.reduce((function(e,t){return e+t})))}}))}));if(p.enter().append("line").merge(p).style("pointer-events","none").attr("stroke-width",this.barWidth).attr("class",(function(e){return"bar "+n.colorScale.get()(e.key)})).transition().duration(this.animationSpeed).attr("x1",(function(e){return-(n.xScale(0)-n.xScale(e.previous))})).attr("x2",(function(e){return isNaN(e.value)?0:-(Math.min(u(e.value),-n.valueSeparator)+u(e.previous)+n.valueSeparator)})),d.exit().remove(),p.exit().transition().duration(this.animationSpeed).attr("x1",0).attr("x2",0).remove(),this.filteredData.series.length>0)f=this.filteredData.common.length>1?this.yScale(this.filteredData.common[1])-this.yScale(this.filteredData.common[0]):this.height,h.append("line").classed("line-hover",!0).attr("stroke-width",f).attr("stroke","blue").attr("opacity","0").attr("x1",-this.width).attr("x2",this.width).on("mouseover",(function(e,t){var i=h.selectAll(".bar"),r=h.selectAll(".label"),a=n.data.common.indexOf(t);n.tooltipBox.update([{line:!0,values:[{value:t},{value:n.x.unit}]}].concat(l(n.filteredData.series.map((function(e){return{values:[{icon:["icon","icon-alarm-level6",n.colorScale.get()(e.name)].join(" "),value:e.name},{bold:!0,value:Te.formatNumber(n.tooltip.format.value)(e.values[a])}]}}))))),i.attr("opacity",".2"),r.attr("opacity",".2"),x.select(e.currentTarget.parentNode).selectAll(".bar").attr("opacity","1"),x.select(e.currentTarget.parentNode).selectAll(".label").attr("opacity","1")})).on("mouseout",(function(){var e=h.selectAll(".bar"),t=h.selectAll(".label");e.attr("opacity","1"),t.attr("opacity","1")})).on("click",(function(e,t){return n.onSelect(t)}))}}},{key:"_highlight",value:function(e){var t=this.canvas.selectAll(".bar");e?t.attr("opacity",(function(t){return t.key===e?"1":".2"})):t.attr("opacity","1")}}]),e}(),Ve=function(){function e(t){v(this,e),this.data=t.data,this.element=t.element,this.margin=c({left:32,right:24,top:24,bottom:24},t.margin),this.height=t.height||250,this.thresholds=t.thresholds,this.y=c({unit:""},t.y),this.legendProps=c({isHidden:!1},t.legend),this.colorScale=t.colorScale||this._newColorScale(),this.axisPadding=8,this.fontSize=14,this.barWidth=t.barWidth||8,this.animationSpeed=400,this.thresholds&&(this.margin.right+=this.axisPadding),this.y.unit&&(this.margin.top+=this.fontSize),this.emptyState=t.error||null,this.onSelect=t.onSelect||function(){}}return g(e,[{key:"_newColorScale",value:function(){var e=new Ae({data:this.data});return e.init(),e}},{key:"init",value:function(){this.stage=new Ee({element:this.element,margin:this.margin,height:this.height}),this.stage.init(),this.stage.onResize(this.draw.bind(this)),this.canvas=this.stage.getCanvas(),this._initLegend(),this._initEmptyState(),this.draw()}},{key:"destroy",value:function(){this.stage.destroy()}},{key:"_initLegend",value:function(){this.legend=new Ce({element:this.element,draw:this.draw.bind(this),hidden:this.legendProps.isHidden,colorScale:this.colorScale}),this.legend.init(),this.legend.update(this.data.series.map((function(e){return{name:e.name}})))}},{key:"_initEmptyState",value:function(){this.emptyStateBox=new Re({element:this.element,height:this.element.offsetHeight,border:!0,settings:this.emptyState}),this.emptyStateBox.init()}},{key:"draw",value:function(e,t){var n=this;if(this.data=e||this.data,this.legend.pills.length||(x.select(this.element).selectAll(".chart-legend").remove(),this.colorScale=t||this._newColorScale(),this._initLegend()),this.width=this.stage.getCanvasWidth(),Fe(this.element,Be(this.data)),Be(this.data)){e&&this.legend.update(this.data.series.map((function(e){return{name:e.name}}))),this.xScale=x.scaleBand().domain(this.data.common).rangeRound([0,this.width]).paddingInner(.7).paddingOuter(.3);for(var i=x.min(this.data.series,(function(e){return x.min(e.values)}))>=0?0:x.min(this.data.series,(function(e){return x.min(e.values)})),r=0,a=0;a<this.data.common.length;a+=1){for(var s=0,o=0;o<this.data.series.length;o+=1)s+=this.data.series[o].values[a];s>r&&(r=s)}this.yScale=x.scaleLinear().domain([i,r]).nice().range([this.height,0]);var l=new qe({position:"left",canvas:this.canvas,y:this.yScale,width:this.width,height:this.height,margin:this.margin,fontSize:this.fontSize,axisPadding:this.axisPadding,thresholds:this.thresholds,ticks:this.height/80,tickFormat:Te.formatAxis(this.y.tickFormat,this.y.isTime),unit:this.y.unit});l.init();var u=l.calculateLeftMargin();if(u!==this.margin.left)return this.margin.left=u,this.stage.updateChartDimensions(this.margin),void this.draw();var c,d=!0,h=!1;this.data.series.length>0&&(c=this.data.common.length>1?this.xScale(this.data.common[1])-this.xScale(this.data.common[0]):this.width,this.data.common.forEach((function(e){d&&(d=e.length*n.fontSize/1.5<c)})),this.data.series.forEach((function(e){!h&&e.values.filter((function(e){return e<0})).length>0&&(h=!0),e.values.forEach((function(e){var t=e.toString().length*n.fontSize/1.5;d&&(d=t<c)}))})));var f=this.canvas.classed("bar-chart",!0).selectAll(".bar-group").data(this.data.common),p=f.enter().append("g").classed("bar-group",!0),m=function(e){e.text((function(e,t){return Te.formatNumber(",")(n.data.series[0].values[t]).replace(/,/g," ")})).transition().duration(n.animationSpeed).attr("y",(function(e,t){return n.yScale(n.data.series[0].values[t])-n.yScale(0)+(n.data.series[0].values[t]>=0?-4:n.fontSize)}))};p.append("text").attr("text-anchor","middle").classed("label",!0).classed("value",!0).classed("hidden",!d).call(m),p.append("text").classed("label",!0).classed("text",!0).classed("hidden",!d).attr("text-anchor","middle").style("pointer-events","none").text((function(e){return e})).transition().duration(this.animationSpeed).attr("y",h?this.height-this.yScale(0)+this.margin.bottom-2:this.fontSize+2),f.select(".label.value").call(m),f.selectAll(".line-hover").attr("stroke-width",c),p.merge(f).transition().duration(this.animationSpeed).attr("transform",(function(e){return"translate(".concat(n.xScale(e)+n.xScale.bandwidth()/2+1,", ").concat(n.yScale(0,e),")")}));var v=p.merge(f).selectAll(".bar").data((function(e,t){var i=[];return n.data.series.map((function(e,r){return{key:e.name,value:e.values[t],previous:0===r?0:(i.push(n.data.series[r-1].values[t]),i.reduce((function(e,t){return e+t})))}}))}));v.enter().append("line").merge(v).style("pointer-events","none").attr("stroke-width",this.barWidth).attr("class",(function(e){return"bar "+n.colorScale.get()(e.key)+" "+function(e){var t="";return n.thresholds&&n.thresholds.sort((function(e,t){return e.moreThan-t.moreThan||t.lessThan-e.lessThan})).forEach((function(n){(n.moreThan&&e.value>=n.moreThan||n.lessThan&&e.value<=n.lessThan)&&(t=n.color)})),t}(e)})).transition().duration(this.animationSpeed).attr("y1",(function(e){return-(n.yScale(0)-n.yScale(e.previous))})).attr("y2",(function(e){return isNaN(e.value)?0:-(n.yScale(0)-n.yScale(e.value)+n.yScale(0)-n.yScale(e.previous))})),f.exit().remove(),v.exit().transition().duration(this.animationSpeed).attr("y1",0).attr("y2",0).remove(),this.data.series.length>0&&p.append("line").classed("line-hover",!0).attr("stroke-width",c).attr("stroke","blue").attr("opacity","0").attr("y1",-this.height).attr("y2",this.height).on("mouseover",(function(e){var t=p.selectAll(".bar"),n=p.selectAll(".label");t.attr("opacity",".2"),n.attr("opacity",".2"),x.select(e.currentTarget.parentNode).selectAll(".bar").attr("opacity","1"),x.select(e.currentTarget.parentNode).selectAll(".label").attr("opacity","1"),x.select(e.currentTarget.parentNode).selectAll(".label").classed("hidden",!1)})).on("mouseout",(function(){var e=p.selectAll(".bar"),t=p.selectAll(".label");e.attr("opacity","1"),t.attr("opacity","1"),t.classed("hidden",!d)})).on("click",(function(e,t){return n.onSelect(t)}))}}}]),e}(),Ue=function(){function e(t){v(this,e),this.data=t.data,this.element=t.element,this.margin=c({left:32,right:24,top:24,bottom:24},t.margin),this.height=t.height||250,this.thresholds=t.thresholds,this.y=c({unit:""},t.y),this.tooltip=c({format:{title:null,value:","}},t.tooltip),this.legendProps=c({isHidden:!1},t.legend),this.colorScale=t.colorScale||this._newColorScale(),this.axisPadding=8,this.fontSize=14,this.barWidth=t.barWidth||8,this.animationSpeed=400,this.y.unit&&(this.margin.top+=this.fontSize+this.axisPadding),this.emptyState=t.error||null,this.onSelect=t.onSelect||function(){}}return g(e,[{key:"_newColorScale",value:function(){var e=new Ae({data:this.data});return e.init(),e}},{key:"init",value:function(){this.stage=new Ee({element:this.element,margin:this.margin,height:this.height}),this.stage.init(),this.stage.onResize(this.draw.bind(this)),this.canvas=this.stage.getCanvas(),this._initLegend(),this._initTooltip(),this._initEmptyState(),this.draw()}},{key:"destroy",value:function(){this.stage.destroy()}},{key:"_initLegend",value:function(){this.legend=new Ce({element:this.element,draw:this.draw.bind(this),hidden:this.legendProps.isHidden,highlight:this._highlight.bind(this),colorScale:this.colorScale}),this.legend.init(),this.legend.update(this.data.series.map((function(e){return{name:e.name}})))}},{key:"_initTooltip",value:function(){this.tooltipBox=new Ne({element:this.element,hoverClass:"line-hover"}),this.tooltipBox.init()}},{key:"_initEmptyState",value:function(){this.emptyStateBox=new Re({element:this.element,height:this.element.offsetHeight,border:!0,settings:this.emptyState}),this.emptyStateBox.init()}},{key:"draw",value:function(e,t){var n=this;if(this.data=e||this.data,this.legend.pills.length||this.legendProps.isHidden||(x.select(this.element).selectAll(".chart-legend").remove(),this.colorScale=t||this._newColorScale(),this._initLegend()),this.width=this.stage.getCanvasWidth(),Fe(this.element,Be(this.data)),Be(this.data)){e&&this.legend.update(this.data.series.map((function(e){return{name:e.name}}))),this.filteredData={common:this.data.common,series:this.data.series.filter((function(e){return!0===n.legend.getFilter()[e.name]}))},this.xScale=x.scaleBand().domain(this.filteredData.common).rangeRound([0,this.width]).paddingInner(.7).paddingOuter(.3);var i=x.scaleBand().domain(this.filteredData.series.map((function(e){return e.name}))).rangeRound([-this.xScale.bandwidth(),this.xScale.bandwidth()]).padding(1),r=x.min(this.filteredData.series,(function(e){return x.min(e.values)}))>=0?0:x.min(this.filteredData.series,(function(e){return x.min(e.values)})),a=x.max(this.filteredData.series,(function(e){return x.max(e.values)}))<=0?0:x.max(this.filteredData.series,(function(e){return x.max(e.values)}));this.yScale=x.scaleLinear().domain([r,a]).nice().rangeRound([this.height,0]);var s=new qe({position:"left",canvas:this.canvas,y:this.yScale,width:this.width,height:this.height,margin:this.margin,fontSize:this.fontSize,axisPadding:this.axisPadding,ticks:this.height/80,tickFormat:Te.formatAxis(this.y.tickFormat,this.y.isTime),unit:this.y.unit});s.init();var o=s.calculateLeftMargin();if(o!==this.margin.left)return this.margin.left=o,this.stage.updateChartDimensions(this.margin),void this.draw();var u,c=!0,d=!1;this.filteredData.series.length>0&&(u=this.filteredData.common.length>1?this.xScale(this.filteredData.common[1])-this.xScale(this.filteredData.common[0]):this.width,this.filteredData.common.forEach((function(e){c&&(c=e.length*n.fontSize/1.5<u)})),this.filteredData.series.forEach((function(e){!d&&e.values.filter((function(e){return e<0})).length>0&&(d=!0)})));var h=this.canvas.classed("bar-chart",!0).selectAll(".bar-group").data(this.filteredData.common),f=h.enter().append("g").classed("bar-group",!0),p=function(e){e.transition().duration(n.animationSpeed).attr("y",d?n.height-n.yScale(0)+n.margin.bottom-2:n.fontSize+2)};f.append("text").classed("label",!0).classed("hidden",!c).attr("text-anchor","middle").style("pointer-events","none").text((function(e){return e})).call(p),h.selectAll(".label").call(p),h.selectAll(".line-hover").attr("stroke-width",u),f.merge(h).transition().duration(this.animationSpeed).attr("transform",(function(e){return"translate(".concat(n.xScale(e)+n.xScale.bandwidth()/2+1,", ").concat(n.yScale(0,e),")")}));var m=f.merge(h).selectAll(".bar").data((function(e,t){return n.filteredData.series.map((function(e){return{key:e.name,value:e.values[t]}}))}),(function(e){return e.key}));m.enter().append("line").merge(m).style("pointer-events","none").attr("stroke-width",this.barWidth).attr("class",(function(e){return"bar "+n.colorScale.get()(e.key)})).transition().duration(this.animationSpeed).attr("x1",(function(e){return i(e.key)})).attr("x2",(function(e){return i(e.key)})).attr("y1",0).attr("y2",(function(e){return isNaN(e.value)?0:n.yScale(e.value)-n.yScale(0)})),h.exit().remove(),m.exit().transition().duration(this.animationSpeed).attr("y2",0).remove(),this.filteredData.series.length>0&&f.append("line").classed("line-hover",!0).attr("stroke-width",u).attr("stroke","blue").attr("opacity","0").attr("y1",-this.height).attr("y2",this.height).on("mouseover",(function(e,t){var i=f.selectAll(".bar"),r=f.selectAll(".label"),a=n.data.common.indexOf(t);n.tooltipBox.update([{line:!0,values:[{value:t},{value:n.y.unit}]}].concat(l(n.filteredData.series.map((function(e){return{values:[{icon:["icon","icon-alarm-level6",n.colorScale.get()(e.name)].join(" "),value:e.name},{bold:!0,value:Te.formatNumber(n.tooltip.format.value)(e.values[a])}]}}))))),i.attr("opacity",".2"),r.attr("opacity",".2"),x.select(e.currentTarget.parentNode).selectAll(".bar").attr("opacity","1"),x.select(e.currentTarget.parentNode).selectAll(".label").attr("opacity","1")})).on("mouseout",(function(){var e=f.selectAll(".bar"),t=f.selectAll(".label");e.attr("opacity","1"),t.attr("opacity","1")})).on("click",(function(e,t){return n.onSelect(t)}))}}},{key:"_highlight",value:function(e){var t=this.canvas.selectAll(".bar");e?t.attr("opacity",(function(t){return t.key===e?"1":".2"})):t.attr("opacity","1")}}]),e}(),Ye=function(){function e(t){v(this,e),this.data=t.data,this.element=t.element,this.margin=c({left:32,right:24,top:24,bottom:24},t.margin),this.height=t.height||250,this.thresholds=t.thresholds,this.y=c({unit:""},t.y),this.tooltip=c({format:{title:null,value:","}},t.tooltip),this.legendProps=c({isHidden:!1},t.legend),this.colorScale=t.colorScale||this._newColorScale(),this.axisPadding=8,this.fontSize=14,this.barWidth=t.barWidth||8,this.animationSpeed=400,this.valueSeparator=2,this.y.unit&&(this.margin.top+=this.fontSize+this.axisPadding),this.emptyState=t.error||null,this.onSelect=t.onSelect||function(){}}return g(e,[{key:"_newColorScale",value:function(){var e=new Ae({data:this.data});return e.init(),e}},{key:"init",value:function(){this.stage=new Ee({element:this.element,margin:this.margin,height:this.height}),this.stage.init(),this.stage.onResize(this.draw.bind(this)),this.canvas=this.stage.getCanvas(),this._initLegend(),this._initTooltip(),this._initEmptyState(),this.draw()}},{key:"destroy",value:function(){this.stage.destroy()}},{key:"_initLegend",value:function(){this.legend=new Ce({element:this.element,draw:this.draw.bind(this),hidden:this.legendProps.isHidden,highlight:this._highlight.bind(this),colorScale:this.colorScale}),this.legend.init(),this.legend.update(this.data.series.map((function(e){return{name:e.name}})))}},{key:"_initTooltip",value:function(){this.tooltipBox=new Ne({element:this.element,hoverClass:"line-hover"}),this.tooltipBox.init()}},{key:"_initEmptyState",value:function(){this.emptyStateBox=new Re({element:this.element,height:this.element.offsetHeight,border:!0,settings:this.emptyState}),this.emptyStateBox.init()}},{key:"draw",value:function(e,t){var n=this;if(this.data=e||this.data,this.legend.pills.length||this.legendProps.isHidden||(x.select(this.element).selectAll(".chart-legend").remove(),this.colorScale=t||this._newColorScale(),this._initLegend()),this.width=this.stage.getCanvasWidth(),Fe(this.element,Be(this.data)),Be(this.data)){e&&this.legend.update(this.data.series.map((function(e){return{name:e.name}}))),this.filteredData={common:this.data.common,series:this.data.series.filter((function(e){return!0===n.legend.getFilter()[e.name]}))},this.xScale=x.scaleBand().domain(this.filteredData.common).rangeRound([0,this.width]).paddingInner(.7).paddingOuter(.3);for(var i=x.min(this.filteredData.series,(function(e){return x.min(e.values)}))>=0?0:x.min(this.filteredData.series,(function(e){return x.min(e.values)})),r=0,a=0;a<this.filteredData.common.length;a+=1){for(var s=0,o=0;o<this.filteredData.series.length;o+=1)s+=this.filteredData.series[o].values[a];s>r&&(r=s)}this.yScale=x.scaleLinear().domain([i,r]).nice().range([this.height,0]);var u=function(e){return n.yScale(0)-n.yScale(e)},c=new qe({position:"left",canvas:this.canvas,y:this.yScale,width:this.width,height:this.height,margin:this.margin,fontSize:this.fontSize,axisPadding:this.axisPadding,ticks:this.height/80,tickFormat:Te.formatAxis(this.y.tickFormat,this.y.isTime),unit:this.y.unit});c.init();var d=c.calculateLeftMargin();if(d!==this.margin.left)return this.margin.left=d,this.stage.updateChartDimensions(this.margin),void this.draw();var h,f=!0,p=!1;this.filteredData.series.length>0&&(h=this.filteredData.common.length>1?this.xScale(this.filteredData.common[1])-this.xScale(this.filteredData.common[0]):this.width,this.filteredData.common.forEach((function(e){f&&(f=e.length*n.fontSize/1.5<h)})),this.filteredData.series.forEach((function(e){!p&&e.values.filter((function(e){return e<0})).length>0&&(p=!0)})));var m=this.canvas.classed("bar-chart",!0).selectAll(".bar-group").data(this.filteredData.common),v=m.enter().append("g").classed("bar-group",!0),y=function(e){e.transition().duration(n.animationSpeed).attr("y",p?n.height-n.yScale(0)+n.margin.bottom-2:n.fontSize+2)};v.append("text").classed("label",!0).classed("hidden",!f).attr("text-anchor","middle").style("pointer-events","none").text((function(e){return e})).call(y),m.selectAll(".label").classed("hidden",!f).call(y),m.selectAll(".line-hover").attr("stroke-width",h),v.merge(m).transition().duration(this.animationSpeed).attr("transform",(function(e){return"translate(".concat(n.xScale(e)+n.xScale.bandwidth()/2+1,", ").concat(n.yScale(0,e),")")}));var g=v.merge(m).selectAll(".bar").data((function(e,t){var i=[];return n.filteredData.series.map((function(e,r){return{key:e.name,value:e.values[t],previous:0===r?0:(i.push(n.filteredData.series[r-1].values[t]),i.reduce((function(e,t){return e+t})))}}))}));g.enter().append("line").merge(g).style("pointer-events","none").attr("stroke-width",this.barWidth).attr("class",(function(e){return"bar "+n.colorScale.get()(e.key)})).transition().duration(this.animationSpeed).attr("y1",(function(e){return-(n.yScale(0)-n.yScale(e.previous))})).attr("y2",(function(e){return isNaN(e.value)?0:-(Math.max(u(e.value),n.valueSeparator)+u(e.previous)-n.valueSeparator)})),m.exit().remove(),g.exit().transition().duration(this.animationSpeed).attr("y1",0).attr("y2",0).remove(),this.filteredData.series.length>0&&v.append("line").classed("line-hover",!0).attr("stroke-width",h).attr("stroke","blue").attr("opacity","0").attr("y1",-this.height).attr("y2",this.height).on("mouseover",(function(e,t){var i=v.selectAll(".bar"),r=v.selectAll(".label"),a=n.data.common.indexOf(t);n.tooltipBox.update([{line:!0,values:[{value:t},{value:n.y.unit}]}].concat(l(n.filteredData.series.map((function(e){return{values:[{icon:["icon","icon-alarm-level6",n.colorScale.get()(e.name)].join(" "),value:e.name},{bold:!0,value:Te.formatNumber(n.tooltip.format.value)(e.values[a])}]}}))))),i.attr("opacity",".2"),r.attr("opacity",".2"),x.select(e.currentTarget.parentNode).selectAll(".bar").attr("opacity","1"),x.select(e.currentTarget.parentNode).selectAll(".label").attr("opacity","1")})).on("mouseout",(function(){var e=v.selectAll(".bar"),t=v.selectAll(".label");e.attr("opacity","1"),t.attr("opacity","1")})).on("click",(function(e,t){return n.onSelect(t)}))}}},{key:"_highlight",value:function(e){var t=this.canvas.selectAll(".bar");e?t.attr("opacity",(function(t){return t.key===e?"1":".2"})):t.attr("opacity","1")}}]),e}(),Ge=function(){function e(t){v(this,e),this.data=t.data,this.element=t.element,this.height=t.height||250,this.margin=c({top:25,bottom:35,right:25,left:35},t.margin),this.thresholds=t.thresholds,this.y=c({startFromZero:!0,isLogarithmic:!1,unit:""},t.y),this.x=c({isTime:!0,unit:"",twelveHourFormat:!0},t.x),this.format=c({input:"%Y-%m-%d"},t.format),this.tooltip=c({format:{title:null,value:","},isHidden:!1},t.tooltip),this.legendProps=c({isHidden:!1},t.legend),this.interpolation=c({showMarkers:!1,name:void 0,value:void 0},t.interpolation),this.hasLiveData=t.hasLiveData||!1,this.colorScale=t.colorScale||this._newColorScale(),this.axisPadding=8,this.fontSize=14,this.id=Date.now(),this.firstDrawFlag=!0,this.animationSpeed=980,this.y.unit&&(this.margin.top+=this.fontSize+this.axisPadding),this.x.unit&&(this.margin.bottom+=this.fontSize+this.axisPadding),this.emptyState=t.error||null}return g(e,[{key:"_newColorScale",value:function(){var e=new Ae({data:this.data});return e.init(),e}},{key:"init",value:function(){this.stage=new Ee({element:this.element,margin:this.margin,height:this.height}),this.stage.init(),this.stage.onResize(this.draw.bind(this)),this.canvas=this.stage.getCanvas(),this._initLegend(),this._initTooltip(),this._initEmptyState(),this._sortCommonData(this.data.common,this.x.isTime),this.draw()}},{key:"destroy",value:function(){this.stage.destroy()}},{key:"_initLegend",value:function(){this.legend=new Ce({element:this.element,draw:this.draw.bind(this),highlight:this._highlight.bind(this),hidden:this.legendProps.isHidden,colorScale:this.colorScale}),this.legend.init(),this.legend.update(this.data.series.map((function(e){return{name:e.name}})))}},{key:"_initTooltip",value:function(){this.tooltipBox=new Ne({element:this.element,hoverClass:"mouse-area"}),this.tooltipBox.init()}},{key:"_initEmptyState",value:function(){this.emptyStateBox=new Re({element:this.element,height:this.element.offsetHeight,border:!0,settings:this.emptyState}),this.emptyStateBox.init()}},{key:"draw",value:function(e,t){var n=this;if(this.data=e||this.data,this.legend.pills.length||this.legendProps.isHidden||(x.select(this.element).selectAll(".chart-legend").remove(),this.colorScale=t||this._newColorScale(),this._initLegend()),Fe(this.element,Be(this.data)),Be(this.data)){e&&this.legend.update(this.data.series.map((function(e){return{name:e.name}}))),this.filteredData={common:this.data.common,series:this.data.series.filter((function(e){return!0===n.legend.getFilter()[e.name]}))},this.x.isTime&&this.filteredData.common.forEach((function(e,t){if(!(e instanceof Date)){var i=Te.formatTime(n.format.input)(new Date(e));n.filteredData.common[t]=x.timeParse(n.format.input)(i)}})),this._buildMissingValues(),this.width=this.stage.getCanvasWidth();var i=x.min(this.filteredData.series,(function(e){return x.min(e.values)})),r=x.max(this.filteredData.series,(function(e){return x.max(e.values)}));this.y.startFromZero&&(i=i<0?i:0),this.yScale=x.scaleLinear().domain([i,r]).nice().range([this.height,0]);var a=x.scaleLinear().domain([i,r]).nice().range([0,100]);this.y.isLogarithmic&&(i=x.min(this.filteredData.series,(function(e){return x.min(e.values)})),this.yScale=x.scaleLog().domain([i,r]).nice().range([this.height,0]));var s=new qe({position:"left",canvas:this.canvas,y:this.yScale,width:this.width,height:this.height,margin:this.margin,fontSize:14,axisPadding:10,hasDomain:!1,ticks:this.height/60,thresholds:this.thresholds,tickFormat:Te.formatAxis(this.y.tickFormat),unit:this.y.unit});s.init();var o=s.calculateLeftMargin(this.y.isLogarithmic);if(o!==this.margin.left)return this.margin.left=o,this.stage.updateChartDimensions(this.margin),void this.draw();var l;this.x.range?(this.xScale=x.scaleTime().domain([this.x.range.min,this.x.range.max]).range([0,this.width]),this.x.isTime||(this.xScale=x.scaleLinear().domain([this.x.range.min,this.x.range.max]).range([0,this.width]))):(this.xScale=x.scaleTime().domain(x.extent(this.filteredData.common)).range([0,this.width]),this.x.isTime||(this.xScale=x.scaleLinear().domain(x.extent(this.filteredData.common)).range([0,this.width]))),l=this.xScale(-this.filteredData.common[1])-this.xScale(-this.filteredData.common[0]),this.x.range?!this.firstDrawFlag&&this.hasLiveData&&void 0!==e&&this.xScale.domain([this.x.range.min,this.x.range.max]).range([0,this.width-l]):!this.firstDrawFlag&&this.hasLiveData&&void 0!==e&&this.xScale.domain(x.extent(this.filteredData.common)).range([0,this.width-l]);var u=new qe({position:"bottom",canvas:this.canvas,x:this.xScale,width:this.width,height:this.height,margin:this.margin,fontSize:14,axisPadding:8,hasDomain:!0,unit:this.x.unit,tickFormat:!this.x.tickFormat&&this.x.isTime?Te.formatTimeAxis(this.x.multiTimeFormats):Te.formatAxis(this.x.tickFormat,this.x.isTime),animationSpeed:this.animationSpeed});u.init();var c=function(e){return!isNaN(e)&&null!=e},d=x.line().defined(c).x((function(e,t){return n.xScale(n.filteredData.common[t])})).y((function(e){return n.yScale(e)}));if(this.interpolation.name)switch(this.interpolation.name){case"curve-basis":d.curve(x.curveBasis);break;case"curve-basis-open":d.curve(x.curveBasisOpen);break;case"curve-bundle":d.curve(x.curveBundle.beta(this.interpolation.value||1));break;case"curve-cardinal":d.curve(x.curveCardinal.tension(this.interpolation.value||0));break;case"curve-cardinal-open":d.curve(x.curveCardinalOpen.tension(this.interpolation.value||0));break;case"curve-catmull-rom":d.curve(x.curveCatmullRom.alpha(this.interpolation.value||0));break;case"curve-catmull-rom-open":d.curve(x.curveCatmullRomOpen.alpha(this.interpolation.value||0));break;case"curve-monotone-x":d.curve(x.curveMonotoneX);break;case"curve-natural":d.curve(x.curveNatural);break;case"curve-step":d.curve(x.curveStep);break;case"curve-step-after":d.curve(x.curveStepAfter);break;case"curve-step-before":d.curve(x.curveStepBefore)}var h=function(){n.x.range?(n.xScale.domain([n.x.range.min,n.x.range.max]).range([0,n.width]),u.draw()):(n.xScale.domain(x.extent(n.filteredData.common)).range([0,n.width]),u.draw()),n.showTooltip(!0)},f=this.canvas.classed("line-chart",!0),p=f.select(".line-group").empty()?f.append("g").classed("line-group",!0).attr("clip-path","url(#".concat(this.id,")")).selectAll(".line").data(this.filteredData.series,(function(e){return e.name})):f.select(".line-group").selectAll(".line").data(this.filteredData.series,(function(e){return e.name}));if(this.interpolation.showMarkers){var m=f.selectAll(".point-group").data(this.filteredData.series.map((function(e){return{name:e.name,values:e.values.map((function(t,n){var i=c(t),r=0===n||c(e.values[n-1]),a=n===e.values.length-1||c(e.values[n+1]);return r&&i&&a?t:null}))}})),(function(e){return e.name})),v=m.enter().append("g").attr("class",(function(e){return"point-group "+n.colorScale.get()(e.name)}));m.exit().remove();var y=m.merge(v).selectAll("circle").data((function(e){return e.values}));y.transition().duration(this.animationSpeed).attr("cx",(function(e,t){return n.xScale(n.filteredData.common[t])})).attr("cy",(function(e){return n.yScale(e)})).attr("visibility",(function(e,t){return c(e)?null:"hidden"})),y.enter().append("circle").attr("r",3).attr("cx",(function(e,t){return n.xScale(n.filteredData.common[t])})).attr("cy",(function(e){return n.yScale(e)})).attr("visibility",(function(e,t){return c(e)?null:"hidden"})),y.exit().remove()}p.enter().append("path").attr("d",(function(e){return d(e.values)})).attr("class",(function(e){return"line "+n.colorScale.get()(e.name)})).attr("name",(function(e){return e.name})),this.filteredData.series.length>0&&(this.hasLiveData?this.firstDrawFlag?this.canvas.append("defs").append("clipPath").attr("id",this.id).append("rect").classed("clip-rectangle",!0).attr("y",-1).attr("width",this.width).attr("height",this.height+1):void 0!==e?this.canvas.selectAll(".line").attr("d",(function(e){return d(e.values)})).attr("class",(function(e){return"line "+n.colorScale.get()(e.name)})).attr("transform",null).transition().duration(this.animationSpeed).on("start",h).attr("transform","translate(".concat(l,")")):(this.canvas.selectAll(".line").interrupt(),this.canvas.selectAll(".line").attr("d",(function(e){return d(e.values)})).attr("class",(function(e){return"line "+n.colorScale.get()(e.name)})).attr("transform",null),this.canvas.select(".clip-rectangle").attr("width",this.width)):this.canvas.selectAll(".line").transition().duration(this.animationSpeed).on("start",h).attr("d",(function(e){return d(e.values)})).attr("class",(function(e){return"line "+n.colorScale.get()(e.name)}))),p.exit().remove();var g=(f.select(".missing-value-group").empty()?f.append("g").classed("missing-value-group",!0):f.select(".missing-value-group")).selectAll(".missing-value").data(this.missingValuesData),_=g.enter().append("g").classed("missing-value",!0);g.exit().remove();var b=g.merge(_).selectAll(".missing").data((function(e){return e.points})),j=b.enter().append("line").classed("missing",!0);if(b.exit().remove(),b.merge(j).attr("class",(function(e){return"missing "+n.colorScale.get()(e.name)})).transition().duration(this.animationSpeed).attr("x1",(function(e){return n.xScale(e.x)})).attr("x2",(function(e){return n.xScale(e.x)})).attr("y1",(function(e){return n.yScale(e.y)-6})).attr("y2",(function(e){return n.yScale(e.y)+6})),this.thresholds){var w=0;this.y.startFromZero||(w=x.min(this.filteredData.series,(function(e){return x.min(e.values)})));var k=x.max(this.filteredData.series,(function(e){return x.max(e.values)})),S=this.thresholds,P=[];P.push({offset:a(w),color:"line"}),S.forEach((function(e){P.push({offset:a(e.moreThan||e.lessThan),color:"line"}),P.push({offset:a(e.moreThan||e.lessThan),color:"line"})})),P.push({offset:a(k),color:"line"}),P.sort((function(e,t){return e.offset-t.offset})),P.forEach((function(e){e.offset=e.offset+"%"}));var M=S.filter((function(e){if(e.lessThan)return e}));if(M.length>0){M.sort((function(e,t){return e.lessThan-t.lessThan}));for(var O=0,L=0;L<M.length;L+=1)P[O].color=M[L].color,P[O+1].color=M[L].color,O+=2}var E=S.filter((function(e){if(e.moreThan)return e}));if(E.length>0){E.sort((function(e,t){return t.moreThan-e.moreThan}));for(var A=P.length-1,C=0;C<E.length;C+=1)P[A].color=E[C].color,P[A-1].color=E[C].color,A-=2}if(this.filteredData.series.length>0){this.canvas.append("linearGradient").classed("linear-gradient",!0).attr("id","gradient-".concat(this.element.id)).attr("gradientUnits","userSpaceOnUse").attr("x1",0).attr("y1",this.height).attr("x2",0).attr("y2",0).selectAll("stop").data(P).enter().append("stop").attr("offset",(function(e){return e.offset})).attr("stop-color",(function(e){return e.color}));var T=this.element.querySelectorAll("path.line");Array.from(T).forEach((function(e){e.setAttribute("style","stroke: url(#gradient-".concat(n.element.id,")"))}))}}if(!this.tooltip.isHidden){this.tooltipLine=this.canvas.select(".tooltip-line").empty()?this.canvas.append("path").classed("tooltip-line",!0):this.canvas.select(".tooltip-line");var D=(this.canvas.select(".circles").empty()?this.canvas.append("g").classed("circles",!0):this.canvas.select(".circles")).selectAll(".tooltip-circle").data(this.filteredData.series,(function(e){return e.name}));D.enter().append("circle").attr("r",3).attr("opacity",0).attr("class",(function(e){return"tooltip-circle ".concat(n.colorScale.get()(e.name))}));var I=this.canvas.select(".mouse-area").empty()?this.canvas.append("svg:rect").classed("mouse-area",!0):this.canvas.select(".mouse-area");I.attr("width",this.width).attr("height",this.height).attr("fill","blue").attr("opacity",0).attr("pointer-events","all");var N=this;I.on("touchmove mousemove",(function(e){N.interruptTransition(),N.coord=x.pointer(e),N.showTooltip()})),I.on("touchend mouseleave",(function(){N.coord=null,N.hideTooltip()})),D.exit().remove()}this.firstDrawFlag=!1}}},{key:"_buildMissingValues",value:function(){var e=this,t=function(e){return!isNaN(e)&&null!=e};this.missingValuesData=this.filteredData.series.map((function(n){for(var i={points:[]},r=0;r<n.values.length;r+=1){var a=n.values[r-1],s=n.values[r],o=n.values[r+1];0!==r||t(o)||!t(s)?r!==n.values.length-1||t(a)||!t(s)?0!==r&&r!==n.values.length-1&&(!t(a)&&t(s)||!t(o)&&t(s))&&i.points.push({x:e.filteredData.common[r],y:s,name:n.name}):i.points.push({x:e.filteredData.common[r],y:s,name:n.name}):i.points.push({x:e.filteredData.common[r],y:s,name:n.name})}return i}))}},{key:"showTooltip",value:function(e){var t=this;if(this.coord){var n=this,i=this.filteredData.common.map((function(e){return t.xScale(e)})),r=i.map((function(e,t){return t-1>=0?e-(e-i[t-1])/2:e})),a=x.bisect(r,this.coord[0])-1,s=i[a]||0,o=x.transition().duration(this.animationSpeed);if(a>-1){var u;if(this.canvas.selectAll(".tooltip-circle").attr("opacity",(function(e){return t.filteredData.series.filter((function(t){return t.name===e.name})).length<1?0:1})).each((function(){e?x.select(this).transition(o).attr("cx",s).attr("cy",(function(e){return n.yScale(e.values[a])})):x.select(this).attr("cx",s).attr("cy",(function(e){return n.yScale(e.values[a])}))})),this.tooltipLine.attr("opacity",1).attr("d","M0,".concat(0,"L0,",this.height)).each((function(){e?x.select(this).transition(o).attr("transform","translate(".concat(s,",0)")):x.select(this).attr("transform","translate(".concat(s,",0)"))})),this.x.isTime)u=Te.formatTime(this.tooltip.format.title)(this.filteredData.common[a]);else{var c=Te.formatNumber(this.tooltip.format.title)(this.filteredData.common[a]);u=isNaN(c)?this.filteredData.common[a]:c+" "+this.x.unit}var d=function(e){return function(e){return!isNaN(e)&&null!=e}(e)?Te.formatNumber(t.tooltip.format.value)(e):"NA"};this.tooltipBox.update([{line:!0,values:[{value:u},{value:this.y.unit}]}].concat(l(this.filteredData.series.map((function(e){return{values:[{icon:["icon","icon-alarm-level6",t.colorScale.get()(e.name)].join(" "),value:e.name},{bold:!0,value:d(e.values[a])}]}})))))}}}},{key:"hideTooltip",value:function(){this.tooltipLine.attr("opacity",0),this.canvas.selectAll(".tooltip-circle").attr("opacity",0)}},{key:"interruptTransition",value:function(){this.canvas.selectAll(".tooltip-circle").interrupt(),this.tooltipLine.interrupt()}},{key:"_sortCommonData",value:function(e,t){t?e.sort((function(e,t){return new Date(e)-new Date(t)})):e.sort((function(e,t){return e-t}))}},{key:"_highlight",value:function(e){var t=this.canvas.selectAll(".line");e?t.attr("opacity",(function(t){return t.name===e?"1":".2"})):t.attr("opacity","1")}},{key:"updateLeftMargin",value:function(e){if(this.y.tickFormat||this.y.isTime){var t=Te.formatAxis(this.y.tickFormat,this.y.isTime);e=e.map((function(e){return t(e)}))}var n=10*(this.y.isLogarithmic?4:Math.max.apply(Math,l(e.map((function(e){return e.toString().split(/[.,]/).join("").length})))))+this.axisPadding;return this.margin.left!==n&&(this.margin.left=n,this.stage.updateChartDimensions(this.margin),!0)}}],[{key:"sort",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=[];e.common.forEach((function(t,i){var r={common:t,values:[]};e.series.forEach((function(e){r.values.push(e.values[i])})),n.push(r)})),t?n.sort((function(e,t){return new Date(e.common)-new Date(t.common)})):n.sort((function(e,t){return e.common-t.common})),n.forEach((function(t,n){e.common[n]=t.common,e.series.forEach((function(i,r){return e.series[r].values[n]=t.values[r]}))}))}}]),e}(),Xe=function(){function e(t){v(this,e),this.element=t.element,this.options=c({unit:"",format:".2s"},t.options),this.margin=c({left:0,right:0},t.margin),this.width=this.element.clientWidth-this.margin.left-this.margin.right,this.min=0,this.max=0,this.scale=function(){return""},this.maxWidth=300,this.minCellWidth=42}return g(e,[{key:"init",value:function(){this.slider=x.select(this.element).append("div").classed("chart-range-slider",!0).style("padding-left","".concat(this.margin.left,"px")).style("padding-right","".concat(this.margin.right,"px")),this.sliderAlign=this.slider.append("div").classed("chart-range-slider-align",!0),this.sliderUnit=this.sliderAlign.append("div").classed("chart-range-slider-unit",!0).style("width","".concat(this.margin.left-30,"px")).text(this.options.unit)}},{key:"update",value:function(e,t,n){var i=this;this.min=t||this.min,this.max=n||this.max,this.scale=e||this.scale,this.width=this.element.clientWidth-this.margin.left-this.margin.right;var r=Math.min(this.maxWidth,this.width),a=Math.floor(r/this.minCellWidth);e.nice(a);for(var s=e.ticks(a),o=s.length-1,l=[],u=0;u<s.length-1;u+=1)l.push(this.min+(this.max-this.min)*u/(o-1));this.sliderAlign.style("width","".concat(r,"px"));var c=this.sliderAlign.selectAll("div.chart-range-slider-cell").data(l),d=c.enter().append("div").classed("chart-range-slider-cell",!0);c.exit().remove(),c.merge(d).style("background-color",(function(e){return i.scale(e)})).style("width","".concat(r/o-1,"px")).style("left",(function(e,t){return"".concat(t*(r/o)+1,"px")}));var h=this.sliderAlign.selectAll("span.chart-range-slider-text").data(s),f=h.enter().append("span").classed("chart-range-slider-text",!0);h.exit().remove(),h.merge(f).style("left",(function(e,t){return"".concat(t*(r/o),"px")})).text((function(e){return x.format(i.options.format)(e)}))}}]),e}(),Ke=function(){function e(t){v(this,e),this.element=t.element,this.data=t.data,this.height=t.height||150,this.margin=c({bottom:50,left:100,right:25,top:25},t.margin),this.format=c({inputX:"%Y-%m-%d %H:%M:%S",inputY:"%Y-%m-%d %H:%M:%S"},t.format),this.x=c({unit:""},t.x),this.y=c({unit:""},t.y),this.tooltip=c({format:{title:null,label:"%Y-%m-%d %H:%M:%S",value:".2f"},isHidden:!1},t.tooltip),this.rangeOptions=c({title:"",reverse:!1,format:".2s"},t.range),this.domain=c({},t.domain),this.legendProps=c({isHidden:!1},t.legend),this.axisPadding=8,this.fontSize=14,this.y.unit&&(this.margin.top+=this.fontSize+this.axisPadding),this.x.unit&&(this.margin.bottom+=this.fontSize+this.axisPadding);var n="light";document.body.classList.contains("dark")&&(n="dark"),this.theme=n,this.colorPalette=Ae.getRangePaletteClass(t.palette||"sequential 1"),this.range=[],this.cellSpacing=2,this.firstDrawFlag=!0}return g(e,[{key:"init",value:function(){var e=this;this.colors={light:{"sequential-1":["#7F7F7F","#2B2B2B"],"sequential-2":["#E75FA0","#88144C"],"sequential-3":["#23969A","#071D1D"],"sequential-4":["#B98327","#2D2009"],"sequential-5":["#976CF4","#3E0DA9"],"sequential-6":["#E75D34","#561B0A"],"sequential-7":["#6688A5","#24323E"],"sequential-8":["#C86F6D","#652726"],"sequential-9":["#7F87AD","#33384F"],"sequential-10":["#E24F72","#74132A"],"diverging-1":["#A80D00","#A08209","#329864"],"diverging-2":["#A80D00","#A08209","#329864","#1F78C7"],"diverging-3":["#75172E","#8087AD","#26959A"],"diverging-4":["#ED0E00","#8087AD","#329864"],"diverging-5":["#333333","#8087AD","#4B677F"],"diverging-6":["#A08209","#339864","#3D1EA1"]},dark:{"sequential-1":["#FFFFFF","#808080"],"sequential-2":["#F6D7E7","#D84B92"],"sequential-3":["#C7F1F2","#239497"],"sequential-4":["#FEFAD4","#D4C407"],"sequential-5":["#E7DDFD","#7E4AF2"],"sequential-6":["#F2AF99","#C94319"],"sequential-7":["#BACAD6","#557791"],"sequential-8":["#E9C5C4","#BF5652"],"sequential-9":["#CACDDE","#68709E"],"sequential-10":["#F8D5DD","#E04367"],"diverging-1":["#DC2D37","#DCAF01","#288964"],"diverging-2":["#DC2D37","#DCAF01","#288964","#0077DB"],"diverging-3":["#E04367","#A6ABC6","#74DCDF"],"diverging-4":["#DC2D37","#A6ABC6","#288964"],"diverging-5":["#68709E","#A6ABC6","#FFFFFF"],"diverging-6":["#DCAF01","#288964","#7E4AF2"]}},this.element.classList.add("heatmap"),this.legend=new Ce({element:this.element,data:{common:this.data.commonX,series:this.data.series},draw:this.draw.bind(this),hidden:this.legendProps.isHidden,colorScale:this._newColorScale()}),this.legend.init(),this.legend.update(this.data.series.map((function(e){return{name:e.name}}))),this.stage=new Ee({element:this.element,height:this.height,margin:this.margin}),this.stage.init(),this.stage.onResize(this.draw.bind(this)),this.rangeSlider=new Xe({element:this.element,margin:this.margin,options:this.rangeOptions}),this.rangeSlider.init(),this.tooltipBox=new Ne({element:this.element,hoverClass:"mouse-area"}),this.tooltipBox.init(),this.canvas=this.stage.getCanvas(),this.svg=x.select(this.canvas.node().parentNode),this.listeners={switchTheme:function(){e.theme=event.detail.theme,e.draw()}},this._addEventListeners(),this.draw()}},{key:"_newColorScale",value:function(){var e=new Ae({data:this.data});return e.init(),e}},{key:"draw",value:function(e){var t=this;this.data=e||this.data,this.width=this.stage.getCanvasWidth();var n=this.data.commonX.length,i=this.data.commonY.length,r="number"==typeof this.data.commonX[0],a="number"==typeof this.data.commonY[0],s=function(e){return null!=e&&!isNaN(e)};this.x.isTime&&this.data.commonX.forEach((function(e,n){if(!(e instanceof Date)){var i=Te.formatTime(t.format.inputX)(new Date(e));t.data.commonX[n]=x.timeParse(t.format.inputX)(i)}})),this.y.isTime&&this.data.commonY.forEach((function(e,n){if(!(e instanceof Date)){var i=Te.formatTime(t.format.inputY)(new Date(e));t.data.commonY[n]=x.timeParse(t.format.inputY)(i)}}));var o=this.data.series.map((function(e){return x.min(e.values,(function(e){return x.min(e)}))})),l=this.data.series.map((function(e){return x.max(e.values,(function(e){return x.max(e)}))})),u=void 0!==this.domain.min?this.domain.min:x.min(o),c=void 0!==this.domain.max?this.domain.max:x.max(l);this.range=[u,c];var d,h,f,p,m=this.data.series.map((function(){var e=[u,c],n=[],i=JSON.parse(JSON.stringify(t.colors[t.theme][t.colorPalette]));!0===t.rangeOptions.reverse&&i.reverse();var r=i.length;return i.forEach((function(t,i){var a=e[1]+(e[0]-e[1])*(r-i-1)/(r-1);n.push(a)})),x.scaleLinear().domain(n).range(i)}));this.rangeSlider.update(m[0],u,c);var v,y,g=0,_=0;if(this.x.isTime){var b=((d=x.extent(this.data.commonX))[1]-d[0])/(n-1);d[1]=new Date(d[1].getTime()+b),f=x.scaleTime().range([0,this.width]).domain(d),_=(f(d[1])-f(d[0]))/n}else if(r){var j=((d=x.extent(this.data.commonX))[1]-d[0])/(n-1);d[1]=d[1]+j,f=x.scaleLinear().range([0,this.width]).domain(d),_=(f(d[1])-f(d[0]))/n}else f=x.scaleBand().range([0,this.width]).domain(this.data.commonX);if(this.y.isTime){var w=((h=x.extent(this.data.commonY))[1]-h[0])/(i-1);h[1]=new Date(h[1].getTime()+w),p=x.scaleTime().range([0,this.height]).domain(h),g=Math.abs(p(h[1])-p(h[0]))/i}else if(a){var k=((h=x.extent(this.data.commonY))[1]-h[0])/(i-1);h[0]=h[0]-k,p=x.scaleLinear().range([this.height,0]).domain(h),g=Math.abs(p(h[1])-p(h[0]))/i}else p=x.scaleBand().range([this.height,0]).domain(this.data.commonY);this.x.isTime&&this.x.tickFormat?v=x.timeFormat(this.x.tickFormat):this.x.tickFormat&&(v=x.format(this.x.tickFormat)),this.y.isTime&&this.y.tickFormat?y=x.timeFormat(this.y.tickFormat):this.y.tickFormat&&(y=x.format(this.y.tickFormat)),new qe({position:"bottom",canvas:this.canvas,x:f,width:this.width,height:this.height,margin:this.margin,fontSize:14,axisPadding:8,hasDomain:!0,tickFormat:v,animationSpeed:980,unit:this.x.unit}).init(),new qe({position:"left",canvas:this.canvas,y:p,width:this.width,height:this.height,margin:this.margin,fontSize:14,axisPadding:10,hasDomain:!0,tickFormat:y,ticks:this.height/60,unit:this.y.unit}).init();var S=!0;if(!0!==this.x.isTime&&!0!==r){var P=f(this.data.commonX[1])-f(this.data.commonX[0]);this.data.commonX.forEach((function(e){S&&(S=e.length*t.fontSize/1.5<P)})),S?this.canvas.selectAll(".bottom.axis text:not(.unit)").style("opacity",1):this.canvas.selectAll(".bottom.axis text:not(.unit)").style("opacity",0)}this.containerGroup=this.canvas.select("g.container").empty()?this.canvas.append("g").classed("container",!0):this.canvas.select("g.container");var M=(this.firstDrawFlag?this.containerGroup.append("g").classed("matrix",!0):this.containerGroup.select("g.matrix")).selectAll("g.serie").data(this.data.series,(function(e){return e.name})),O=M.enter().append("g").classed("serie",!0);M.exit().remove();var L=M.merge(O),E=function(e,n){return"translate(".concat(f(t.data.commonX[n])+1,",0)")},A=function(e,n){return p(t.data.commonY[n])+1},C=function(){return t.x.isTime||r?Math.max(0,_-1):Math.max(0,f.bandwidth()-1)},T=function(){return t.y.isTime||a?Math.max(0,g-1):Math.max(0,p.bandwidth()-1)},D=this.containerGroup.selectAll("line.grid-horizontal").data(this.data.commonX,(function(e){return e})),I=D.enter().append("line").classed("grid-horizontal",!0);D.exit().remove(),D.merge(I).attr("x1",(function(e){return f(e)+C()+1})).attr("x2",(function(e){return f(e)+C()+1})).attr("y1",0).attr("y2",this.height);var N=this.containerGroup.selectAll("line.grid-vertical").data(this.data.commonY,(function(e){return e})),z=N.enter().append("line").classed("grid-vertical",!0);N.exit().remove(),N.merge(z).attr("x1",0).attr("x2",this.width).attr("y1",(function(e){return p(e)})).attr("y2",(function(e){return p(e)}));var q=L.selectAll("g.column").data((function(e){return e.values})).attr("transform",E),R=q.enter().append("g").classed("column",!0).attr("transform",E);q.exit().remove();var B=q.merge(R).selectAll("rect").data((function(e){return e})).classed("rect",!0).style("fill",(function(e){return m[0](e)})).style("visibility",(function(e){return s(e)?void 0:"hidden"})).attr("y",A).attr("width",C).attr("height",T);B.enter().append("rect").classed("rect",!0).style("fill",(function(e){return m[0](e)})).style("visibility",(function(e){return s(e)?void 0:"hidden"})).attr("y",A).attr("width",C).attr("height",T),B.exit().remove();var F=this.canvas.select(".mouse-area").empty()?this.canvas.append("svg:rect").classed("mouse-area",!0):this.canvas.select(".mouse-area");F.attr("width",this.width).attr("height",this.height).attr("fill","blue").attr("opacity",0).attr("pointer-events","all");var H=this;F.on("touchmove mousemove",(function(e){var t,n,o=x.pointer(e);t=H.x.isTime||r?Math.floor(o[0]/_):Math.floor(o[0]/f.bandwidth()),n=H.y.isTime?Math.floor(o[1]/g):a?i-Math.floor(o[1]/g)-1:i-Math.floor(o[1]/p.bandwidth())-1,t<0&&(t=0),t>=H.data.commonX.length&&(t=H.data.commonX.length-1),n<0&&(n=0),n>=H.data.commonY.length&&(n=H.data.commonY.length-1);var l,u=H.data.commonX[t],c=H.data.commonY[n],d=H.data.series[0].values[t][n];if(s(d)?H.tooltipBox.enable():H.tooltipBox.disable(),H.canvas.selectAll("g.column").style("opacity",(function(e,n){return n===t?"":.2})).filter((function(e,n){return n!==t})).selectAll("rect.rect").style("opacity",1),H.canvas.selectAll("g.column").filter((function(e,n){return n===t})).selectAll("rect.rect").style("opacity",(function(e,t){return n===t?"":.2})),H.y.isTime&&H.tooltip.format.label?c=x.timeFormat(H.tooltip.format.label)(c):H.y.isTime&&y?c=y(c):H.y.isTime?c=x.timeFormat("%Y-%m-%d %H:%M:%S")(c):a&&H.tooltip.format.label&&(c=x.format(H.tooltip.format.label)(d)),H.x.isTime)l=Te.formatTime(H.tooltip.format.title)(u);else{var h=Te.formatNumber(H.tooltip.format.title)(u);l=isNaN(h)||"string"==typeof u?u:h+" "+H.x.unit}H.tooltipBox.update([{line:!0,values:[{value:l},{value:H.rangeOptions&&H.rangeOptions.unit?H.rangeOptions.unit:""}]},{values:[{value:c},{bold:!0,value:Te.formatNumber(H.tooltip.format.value)(d)}]}])})),F.on("touchend mouseleave",(function(){H.canvas.selectAll("g.column").style("opacity","").selectAll("rect.rect").style("opacity","")})),this.firstDrawFlag=!1}},{key:"_addEventListeners",value:function(){document.addEventListener("switchTheme",this.listeners.switchTheme)}},{key:"_removeEventListeners",value:function(){document.removeEventListener("switchTheme",this.listeners.switchTheme)}},{key:"destroy",value:function(){this._removeEventListeners(),this.stage.destroy(),this.element.innerHTML=""}}]),e}(),$e=function(){function e(t){v(this,e),this.data=t.data,this.element=t.element,this.height=t.height||250,this.margin=c({top:16,bottom:32,right:24,left:40},t.margin),this.thresholds=t.thresholds,this.y=c({unit:""},t.y),this.x=c({unit:"",binSize:t.x&&t.x.binSize?t.x.binSize:"medium"},t.x),this.tooltip=c({format:{title:null,value:","}},t.tooltip),this.legendProps=c({isHidden:!1},t.legend),this.colorScale=t.colorScale||this._newColorScale(),this.axisPadding=8,this.fontSize=14,this.thresholds&&(this.margin.right+=this.axisPadding),this.x.unit&&(this.margin.bottom+=this.fontSize+this.axisPadding),this.cdf=t.cdf||!1,this.emptyState=t.error||null}return g(e,[{key:"_newColorScale",value:function(){var e=new Ae({data:this.data});return e.init(),e}},{key:"init",value:function(){this.stage=new Ee({element:this.element,margin:this.margin,height:this.height}),this.stage.init(),this.stage.onResize(this.draw.bind(this)),this.canvas=this.stage.getCanvas(),this._initLegend(),this._initTooltip(),this._initEmptyState(),this.draw()}},{key:"destroy",value:function(){this.stage.destroy()}},{key:"_initLegend",value:function(){this.legend=new Ce({element:this.element,draw:this.draw.bind(this),hidden:this.legendProps.isHidden,highlight:this._highlight.bind(this),colorScale:this.colorScale}),this.legend.init(),this.legend.update(this.data.series.map((function(e){return{name:e.name}})))}},{key:"_initTooltip",value:function(){this.tooltipBox=new Ne({element:this.element,hoverClass:["line-hover","cdf-hover"]}),this.tooltipBox.init()}},{key:"_initEmptyState",value:function(){this.emptyStateBox=new Re({element:this.element,height:this.element.offsetHeight,border:!0,settings:this.emptyState}),this.emptyStateBox.init()}},{key:"draw",value:function(e,t){var n=this;if(this.data=e||this.data,this.legend.pills.length||this.legendProps.isHidden||(x.select(this.element).selectAll(".chart-legend").remove(),this.colorScale=t||this._newColorScale(),this._initLegend()),this.width=this.stage.getCanvasWidth(),this.canvas.classed("histogram",!0),Fe(this.element,Be(this.data)),Be(this.data)){e&&this.legend.update(this.data.series.map((function(e){return{name:e.name}}))),this.filteredData={common:this.data.common,series:this.data.series.filter((function(e){return!0===n.legend.getFilter()[e.name]}))};var i=25,r={small:15,medium:25,large:50},a=this.x.binSize;isNaN(a)?void 0!==r[a]&&(i=r[a]):i=a;var s=Math.round(this.width/i);this.xScale=x.scaleLinear().domain([x.min(this.filteredData.series,(function(e){return x.min(e.values)})),x.max(this.filteredData.series,(function(e){return x.max(e.values)}))]).nice().range([0,this.width]);var o=x.histogram().domain(this.xScale.domain()).thresholds(this.xScale.ticks(s)),u=[];this.filteredData.series.forEach((function(e){return u.push(o(e.values))})),new qe({position:"bottom",canvas:this.canvas,x:this.xScale,width:this.width,height:this.height,margin:this.margin,fontSize:this.fontSize,axisPadding:this.axisPadding,hasDomain:!0,tickFormat:Te.formatAxis(this.x.tickFormat),unit:this.x.unit}).init();var c=x.max(u,(function(e){return x.max(e,(function(e){return e.length}))}));this.yScale=x.scaleLinear().domain([0,c]).nice().range([this.height,0]),new qe({position:"left",canvas:this.canvas,y:this.yScale,width:this.width,height:this.height,fontSize:this.fontSize,axisPadding:this.axisPadding,tickFormat:Te.formatAxis(this.y.tickFormat),ticks:this.height/60,thresholds:this.thresholds}).init();var d=this.canvas.selectAll(".bar-group").data(u[0]||[]),h=d.enter().append("g").classed("bar-group",!0),f=(h=h.merge(d).attr("transform",(function(e){return"translate(".concat(n.xScale(e.x0)," ,0)")}))).merge(d).selectAll(".bar").data((function(e,t){var i=[];return u.forEach((function(e,r){return i.push({name:n.filteredData.series[r].name,histogram:e[t]})})),i}));f.enter().append("rect").merge(f).attr("class",(function(e){return"bar "+n.colorScale.get()(e.name)+" "+function(e){var t="";return n.thresholds&&n.thresholds.sort((function(e,t){return e.moreThan-t.moreThan||t.lessThan-e.lessThan})).forEach((function(n){(n.moreThan&&e>=n.moreThan||n.lessThan&&e<=n.lessThan)&&(t=n.color)})),t}(e.histogram.length)})).style("pointer-events","none").transition().duration(400).attr("x",(function(e,t){return 6*t})).attr("width",(function(e){return Math.max(0,n.xScale(e.histogram.x1)-n.xScale(e.histogram.x0)-5*u.length)})).attr("y",(function(e){return n.yScale(e.histogram.length)})).attr("height",(function(e){return n.yScale(0)-n.yScale(e.histogram.length)}));var p=h.merge(d).selectAll(".line-hover").data((function(e){return[e]}));if(p.enter().append("rect").merge(p).classed("line-hover",!0).attr("width",(function(e){return n.xScale(e.x1)-n.xScale(e.x0)})).attr("stroke-width",1).attr("stroke","red").attr("fill","blue").attr("opacity","0").attr("height",this.height).attr("y",0).on("mouseover",(function(e,t){h.selectAll(".bar").attr("opacity",".2");var i=[];x.select(e.currentTarget.parentNode).selectAll(".bar").attr("opacity",(function(e){return i.push({name:e.name,values:[e.histogram.length]}),1}));var r={common:["[".concat(t.x0,", ").concat(t.x1,"]")],series:i};if(n.tooltipBox.update([{line:!0,values:[{value:r.common},{value:n.x.unit||""}]}].concat(l(r.series.map((function(e){return{values:[{icon:["icon","icon-alarm-level6",n.colorScale.get()(e.name)].join(" "),value:e.name},{bold:!0,value:Te.formatNumber(n.tooltip.format.value)(e.values[0])}]}}))))),n.canvas.selectAll("path.cdf").attr("opacity",".2"),n.cdfGroup){var a=n.canvas.node().firstChild;a&&n.canvas.node().insertBefore(n.cdfGroup.node(),a)}})).on("mouseout",(function(){h.selectAll(".bar").attr("opacity","1"),n.canvas.selectAll("path.cdf").attr("opacity","1"),n.cdfGroup&&(n.canvas.node().appendChild(n.cdfGroup.node()),n.canvas.node().appendChild(n.cdfGroupForeground.node()))})),d.exit().remove(),f.exit().transition().duration(400).attr("y",this.yScale(0)).attr("height",0).remove(),p.exit().remove(),this.cdf){var m=u.map((function(e,t){return{name:n.filteredData.series[t].name,values:u[t]}}));m.forEach((function(e){var t=0,n=0;e.values.forEach((function(e){return n+=e.length})),e.values=e.values.map((function(e){return{value:(t+=e.length/n)*c,x0:e.x0,x1:e.x1}}))}));var v=function(){return x.line().x((function(e){return n.xScale(e.x0)})).y((function(e){return n.yScale(e.value)}))};this.cdfGroup=this.canvas.select("g.cdf").empty()?this.canvas.append("g").classed("cdf",!0):this.canvas.select("g.cdf"),this.cdfGroupForeground=this.canvas.select("g.cdf-foreground").empty()?this.canvas.append("g").classed("cdf-foreground",!0):this.canvas.select("g.cdf-foreground");var y=this.cdfGroup.selectAll("path.cdf-bg").data(m,(function(e){return e.name}));y.exit().remove();var g=y.enter().append("path").classed("cdf-bg",!0);y.merge(g).attr("d",(function(e){return v()(e.values)}));var _=this.cdfGroup.selectAll("path.cdf").data(m,(function(e){return e.name}));_.exit().remove();var b=_.enter().append("path").attr("class",(function(e){return"cdf "+n.colorScale.get()(e.name)}));_.merge(b).attr("d",(function(e){return v()(e.values)}));var j=this.cdfGroup.select("line.tooltip-line").empty()?this.cdfGroup.append("line").classed("tooltip-line",!0):this.cdfGroup.select("line.tooltip-line"),w=this.cdfGroup.selectAll("circle.tooltip-circle").data(m,(function(e){return e.name})),k=w.enter().append("circle").attr("r",3).attr("opacity",0).attr("class",(function(e){return"tooltip-circle ".concat(n.colorScale.get()(e.name))}));w.exit().remove();var S=w.merge(k),P=this.cdfGroupForeground.selectAll("path.cdf-hover").data(m);P.exit().remove();var M=P.enter().append("path").classed("cdf-hover",!0);P.merge(M).attr("d",(function(e){return v()(e.values)})).on("mouseover",(function(){h.selectAll(".bar").attr("opacity","0.2")})).on("mousemove",(function(e,t){var i=e.offsetX-20,r=n.xScale.invert(i),a=t.values[0],s=t.values[0].value,o=0;m.length>0&&m[0].values.length>0&&m[0].values.forEach((function(e,t){r>e.x1&&(o=t)}));var u=[];m.forEach((function(e){a=e.values[o],s=e.values[o].value,u.push({name:e.name,values:[s/c*100]})}));var d={common:["[".concat(a.x0,", ").concat(a.x1,"]")],series:u};n.tooltipBox.update([{line:!0,values:[{value:d.common},{value:"%"}]}].concat(l(d.series.map((function(e){return{values:[{icon:["icon","icon-alarm-level6",n.colorScale.get()(e.name)].join(" "),value:e.name},{bold:!0,value:Te.formatNumber(n.tooltip.format.value)(e.values[0])}]}}))))),S.attr("opacity",(function(e){return n.filteredData.series.filter((function(t){return t.name===e.name})).length>0?1:0})).attr("cx",n.xScale(a.x0)).attr("cy",(function(e){var t=m.filter((function(t){return t.name===e.name}));return t.length>0?n.yScale(t[0].values[o].value):0})),j.attr("opacity",1).attr("x1",n.xScale(a.x0)).attr("x2",n.xScale(a.x0)).attr("y1",0).attr("y2",n.height)})).on("mouseout",(function(){h.selectAll(".bar").attr("opacity","1"),S.attr("opacity",0),j.attr("opacity",0)}))}}}},{key:"_highlight",value:function(e){var t=this.canvas.selectAll(".bar-group");if(e){var n=0;this.filteredData.series.forEach((function(t,i){t.name===e&&(n=i)})),t.selectAll(".bar").attr("opacity",(function(e,t){return t===n?"1":".2"}))}else t.selectAll(".bar").attr("opacity","1")}}]),e}();function Je(e){var t=e.map((function(e){return e.x})),n=e.map((function(e){return e.y}));if(!t.length||!n.length)return[];var i=function(e,t){return e+t},r=1*t.reduce(i)/t.length,a=1*n.reduce(i)/n.length,s=t.map((function(e){return Math.pow(e-r,2)})).reduce(i),o=n.map((function(e){return Math.pow(e-a,2)})).reduce(i),l=t.map((function(e,t){return(e-r)*(n[t]-a)})).reduce(i),u=l/s;return[u,a-r*u,Math.pow(l,2)/(s*o)]}var Qe=function(){function e(t){v(this,e),this.data=t.data,this.element=t.element,this.margin=c({left:32,right:24,top:24,bottom:32},t.margin),this.height=t.height||250,this.trendline=c({show:!1,type:"linear"},t.trendline),this.x=c({unit:"",startFromZero:!1,isLogarithmic:!1},t.x),this.y=c({unit:"",startFromZero:!1,isLogarithmic:!1},t.y),this.colorScale=t.colorScale||this._newColorScale(),this.tooltip=c({format:{title:null,value:","}},t.tooltip),this.legendProps=c({isHidden:!1},t.legend),this.axisPadding=8,this.fontSize=14,this.animationSpeed=400,this.yScale=null,this.xScale=null,this.radius=(t.diameter||14)/2,this.radiusHover=Math.max(this.radius,7),this.y.unit&&(this.margin.top+=this.fontSize+this.axisPadding),this.x.unit&&(this.margin.bottom+=this.fontSize+this.axisPadding),this.emptyState=t.error||null,this.id=Date.now(),this.values=[]}return g(e,[{key:"_newColorScale",value:function(){var e=new Ae({data:this.data});return e.init(),e}},{key:"init",value:function(){this.stage=new Ee({element:this.element,margin:this.margin,height:this.height}),this.stage.init(),this.stage.onResize(this.draw.bind(this)),this.canvas=this.stage.getCanvas(),this.canvas.classed("scatter-plot",!0),this._initLegend(),this._initTooltip(),this._initEmptyState(),this.draw()}},{key:"draw",value:function(e,t){var n=this;this.data=e||this.data,this.legend.pills.length||this.legendProps.isHidden||(x.select(this.element).selectAll(".chart-legend").remove(),this.colorScale=t||this._newColorScale(),this._initLegend()),this.width=this.stage.getCanvasWidth(),Fe(this.element,Be(this.data)),Be(this.data)&&(e&&this.legend.update(this.data.series.map((function(e){return{name:e.name}}))),this.filteredData={common:this.data.common,series:this.data.series.filter((function(e){return!0===n.legend.getFilter()[e.name]}))},this.values=this._getValues(),this._createX(),this._createY(),this._drawCrosshair(),this.trendline.show&&this._drawTrendlines(),this._drawDots())}},{key:"_initLegend",value:function(){this.legend=new Ce({element:this.element,draw:this.draw.bind(this),hidden:this.legendProps.isHidden,highlight:this._highlight.bind(this),colorScale:this.colorScale}),this.legend.init(),this.legend.update(this.data.series.map((function(e){return{name:e.name}})))}},{key:"_initTooltip",value:function(){this.tooltipBox=new Ne({element:this.element,hoverClass:["dot-hover","trendline-hover"]}),this.tooltipBox.init()}},{key:"_initEmptyState",value:function(){this.emptyStateBox=new Re({element:this.element,height:this.element.offsetHeight,border:!0,settings:this.emptyState}),this.emptyStateBox.init()}},{key:"_createX",value:function(){var e=x.min(this.values,(function(e){return e.x})),t=x.max(this.values,(function(e){return e.x}));this.x.startFromZero&&!this.x.isLogarithmic&&(e=e<0?e:0),this.xScale=this.y.isLogarithmic?x.scaleLog():x.scaleLinear(),this.xScale.domain([e,t]).range([0,this.width]).nice(),this.xAxis=new qe({position:"bottom",canvas:this.canvas,x:this.xScale,width:this.width,height:this.height,margin:this.margin,fontSize:this.fontSize,axisPadding:this.axisPadding,tickFormat:Te.formatAxis(this.x.tickFormat),unit:this.x.unit,hasDomain:!0,hasGrid:!0}),this.xAxis.init()}},{key:"_createY",value:function(){var e=x.min(this.values,(function(e){return e.y})),t=x.max(this.values,(function(e){return e.y}));this.y.startFromZero&&!this.y.isLogarithmic&&(e=e<0?e:0),this.yScale=this.y.isLogarithmic?x.scaleLog():x.scaleLinear(),this.yScale.domain([e,t]).range([this.height,0]).nice(),this.yAxis=new qe({position:"left",canvas:this.canvas,y:this.yScale,width:this.width,height:this.height,margin:this.margin,fontSize:this.fontSize,axisPadding:this.axisPadding,ticks:this.height/80,tickFormat:Te.formatAxis(this.y.tickFormat),unit:this.y.unit,hasDomain:!0,hasGrid:!0}),this.yAxis.init()}},{key:"_getValues",value:function(){var e,t=[];this.filteredData.series&&(t=(e=[]).concat.apply(e,l(this.filteredData.series.map((function(e){return e.values.map((function(t){return c(c({},t),{},{series:e.name})}))})))));return t}},{key:"_drawDots",value:function(){var e=this,t=this.canvas.select(".dots").empty()?this.canvas.append("g").classed("dots",!0):this.canvas.select(".dots"),n=t.selectAll(".dot-group").data(this.values,(function(e){return e.name})),i=n.enter().append("g").attr("class","dot-group");i.append("circle").style("pointer-events","none").attr("class",(function(t){return"dot "+e.colorScale.get()(t.series)})).attr("cx",(function(t){return e.xScale(t.x)})).attr("cy",(function(t){return e.yScale(t.y)})).attr("r",0).transition().duration(this.animationSpeed).attr("r",this.radius),i.append("circle").attr("class","dot-hover").attr("fill","blue").attr("opacity",0).attr("cx",(function(t){return e.xScale(t.x)})).attr("cy",(function(t){return e.yScale(t.y)})).attr("r",this.radiusHover).on("mouseover",(function(n,i){var r=t.selectAll(".dot");e.tooltipBox.update([{line:!0,values:[{value:i.name},{value:""}]},{values:[{icon:["icon","icon-alarm-level6",e.colorScale.get()(i.series)].join(" "),value:i.series},{value:""}]},{values:[{value:e.x.unit},{value:Te.formatNumber(e.tooltip.format.value)(i.x),bold:!0}]},{values:[{value:e.y.unit},{value:Te.formatNumber(e.tooltip.format.value)(i.y),bold:!0}]}]),r.attr("opacity",".2"),e.canvas.selectAll(".trendline").attr("opacity",".2"),x.select(x.select(n.currentTarget.parentNode).selectAll(".dot").nodes()[0]).attr("opacity",1),e.crosshair.select(".crosshair-line-x").attr("x1",e.xScale(i.x)).attr("y1",0).attr("x2",e.xScale(i.x)).attr("y2",e.height),e.crosshair.select(".crosshair-line-y").attr("x1",0).attr("y1",e.yScale(i.y)).attr("x2",e.width).attr("y2",e.yScale(i.y)),e.crosshair.attr("opacity",1),e.crosshair.select(".crosshair-text").attr("opacity",0)})).on("mouseout",(function(){t.selectAll(".dot").attr("opacity","1"),e.canvas.selectAll(".trendline").attr("opacity","1"),e.crosshair.attr("opacity",0),e.crosshair.select(".crosshair-text").attr("opacity",1)})),n.select(".dot").transition().duration(this.animationSpeed).attr("cx",(function(t){return e.xScale(t.x)})).attr("cy",(function(t){return e.yScale(t.y)})).attr("r",this.radiusHover),n.select(".dot-hover").transition().duration(this.animationSpeed).attr("cx",(function(t){return e.xScale(t.x)})).attr("cy",(function(t){return e.yScale(t.y)})).attr("r",this.radiusHover),n.exit().remove()}},{key:"_drawTrendlines",value:function(){var e=this,t=this.canvas.select("defs");t.empty()&&(t=this.canvas.append("defs")).append("clipPath").attr("id",this.id).append("rect").classed("clip-rectangle",!0).attr("y",-1),t.select("rect").attr("width",this.width).attr("height",this.height+1);var n=x.min(this.values,(function(e){return e.x})),i=x.max(this.values,(function(e){return e.x})),r=[];this.filteredData.series.forEach((function(e){var t=Je(e.values);t.length&&r.push({name:e.name,a:t[0],b:t[1],rSquared:t[2],coords:[n,t[0]*n+t[1],i,t[0]*i+t[1]]})}));var a=(this.canvas.select(".trendlines").empty()?this.canvas.append("g").classed("trendlines",!0).attr("clip-path","url(#".concat(this.id,")")):this.canvas.select(".trendlines")).selectAll(".trendline-group").data(r,(function(e){return e.name})),s=a.enter().append("g").classed("trendline-group",!0);s.append("line").attr("class",(function(t){return"trendline ".concat(e.colorScale.get()(t.name))})).attr("x1",(function(t){return e.xScale(t.coords[0])})).attr("y1",(function(t){return e.yScale(t.coords[1])})).attr("x2",(function(t){return e.xScale(t.coords[2])})).attr("y2",(function(t){return e.yScale(t.coords[3])})).attr("stroke-width",1),s.append("line").attr("class","trendline-hover").attr("x1",(function(t){return e.xScale(t.coords[0])})).attr("y1",(function(t){return e.yScale(t.coords[1])})).attr("x2",(function(t){return e.xScale(t.coords[2])})).attr("y2",(function(t){return e.yScale(t.coords[3])})).attr("stroke","blue").attr("stroke-width",8).attr("opacity",0).on("mouseover",(function(t,n){e.tooltipBox.update([{line:!0,values:[{value:"Linear trend"},{value:""}]},{values:[{icon:["icon","icon-alarm-level6",e.colorScale.get()(n.name)].join(" "),value:n.name},{value:""}]},{values:[{value:"y = ".concat(n.a.toFixed(3)," x ").concat(n.b>=0?"+":"-"," ").concat(Math.abs(n.b.toFixed(3)))},{value:""}]},{values:[{value:"R-squared"},{value:n.rSquared.toFixed(3),bold:!0}]}]),e.canvas.selectAll(".dot").each((function(e,t,i){x.select(i[t]).attr("opacity",e.series===n.name?"1":".2")})),e.canvas.selectAll(".trendline").each((function(e,t,i){x.select(i[t]).attr("opacity",e.name===n.name?"1":".2")}))})).on("mouseout",(function(){e.canvas.selectAll(".dot").attr("opacity","1"),e.canvas.selectAll(".trendline").attr("opacity","1")})),a.select(".trendline").attr("x1",(function(t){return e.xScale(t.coords[0])})).attr("y1",(function(t){return e.yScale(t.coords[1])})).attr("x2",(function(t){return e.xScale(t.coords[2])})).attr("y2",(function(t){return e.yScale(t.coords[3])})),a.select(".trendline-hover").attr("x1",(function(t){return e.xScale(t.coords[0])})).attr("y1",(function(t){return e.yScale(t.coords[1])})).attr("x2",(function(t){return e.xScale(t.coords[2])})).attr("y2",(function(t){return e.yScale(t.coords[3])})),a.exit().remove()}},{key:"_drawCrosshair",value:function(){var e=this;this.crosshair=this.canvas.select(".crosshair"),this.crosshair.empty()&&(this.crosshair=this.canvas.append("g").attr("class","crosshair"),this.crosshair.append("line").attr("class","crosshair-line-x"),this.crosshair.append("line").attr("class","crosshair-line-y"),this.crosshair.append("text").attr("class","crosshair-text")),this.mouseArea=this.canvas.select(".mouse-area").empty()?this.canvas.append("svg:rect").classed("mouse-area",!0):this.canvas.select(".mouse-area"),this.mouseArea.attr("width",this.width).attr("height",this.height).attr("fill","blue").attr("opacity","0").attr("pointer-events","all").on("mouseenter",(function(){return e.crosshair.attr("opacity",1)})).on("mouseleave",(function(){return e.crosshair.attr("opacity",0)})).on("mousemove",(function(t){return e._onMousemove.call(e,t)}))}},{key:"_onMousemove",value:function(e){var t=x.pointer(e),n=this.xScale.invert(t[0]),i=this.yScale.invert(t[1]);this.crosshair.select(".crosshair-line-x").attr("x1",t[0]).attr("y1",0).attr("x2",t[0]).attr("y2",this.height),this.crosshair.select(".crosshair-line-y").attr("x1",0).attr("y1",t[1]).attr("x2",this.width).attr("y2",t[1]),this.crosshair.select(".crosshair-text").attr("x",t[0]+3).attr("y",t[1]-4).text("".concat(n.toFixed(2),", ").concat(i.toFixed(2)))}},{key:"_highlight",value:function(e){var t=this.canvas.selectAll(".dot"),n=this.canvas.selectAll(".trendline");e?(t.attr("opacity",(function(t){return t.series===e?"1":".2"})),n.attr("opacity",(function(t){return t.name===e?"1":".2"}))):(t.attr("opacity","1"),n.attr("opacity","1"))}},{key:"destroy",value:function(){}}]),e}(),et=function(){function e(t){v(this,e),this.data=t.data,this.element=t.element,this.margin=c({left:32,right:24,top:24,bottom:32},t.margin),this.height=t.height||250,this.trendline=c({show:!1,type:"linear"},t.trendline),this.x=c({unit:"",startFromZero:!1,isLogarithmic:!1},t.x),this.y=c({unit:"",startFromZero:!1,isLogarithmic:!1},t.y),this.r=c({unit:"",min:14,max:64},t.r),this.colorScale=t.colorScale||this._newColorScale(),this.tooltip=c({format:{title:null,value:","}},t.tooltip),this.legendProps=c({isHidden:!1},t.legend),this.axisPadding=8,this.fontSize=14,this.animationSpeed=400,this.yScale=null,this.xScale=null,this.diameter=c({min:14,max:64},t.diameter),this.radiusMin=this.diameter.min/2,this.radiusMinHover=Math.max(this.radiusMin,7),this.radiusMax=this.diameter.max/2,this.y.unit&&(this.margin.top+=this.fontSize+this.axisPadding),this.x.unit&&(this.margin.bottom+=this.fontSize+this.axisPadding),this.emptyState=t.error||null,this.id=Date.now(),this.values=[]}return g(e,[{key:"_newColorScale",value:function(){var e=new Ae({data:this.data});return e.init(),e}},{key:"init",value:function(){this.stage=new Ee({element:this.element,margin:this.margin,height:this.height}),this.stage.init(),this.stage.onResize(this.draw.bind(this)),this.canvas=this.stage.getCanvas(),this.canvas.classed("bubble-chart",!0),this._initLegend(),this._initTooltip(),this._initEmptyState(),this.draw()}},{key:"draw",value:function(e,t){var n=this;this.data=e||this.data,this.legend.pills.length||this.legendProps.isHidden||(x.select(this.element).selectAll(".chart-legend").remove(),this.colorScale=t||this._newColorScale(),this._initLegend()),this.width=this.stage.getCanvasWidth(),Fe(this.element,Be(this.data)),Be(this.data)&&(e&&this.legend.update(this.data.series.map((function(e){return{name:e.name}}))),this.filteredData={common:this.data.common,series:this.data.series.filter((function(e){return!0===n.legend.getFilter()[e.name]}))},this.values=this._getValues().sort((function(e,t){return t.r-e.r})),this._createX(),this._createY(),this._createSizeLegend(),this._drawCrosshair(),this.trendline.show&&this._drawTrendlines(),this._drawDots())}},{key:"_reorderColorScale",value:function(){this.colorScale.colorScale.domain(this.data.series.map((function(e){return e.name})))}},{key:"_initLegend",value:function(){this.legend=new Ce({element:this.element,draw:this.draw.bind(this),hidden:this.legendProps.isHidden,highlight:this._highlight.bind(this),colorScale:this.colorScale}),this.legend.init(),this.legend.update(this.data.series.map((function(e){return{name:e.name}})))}},{key:"_initTooltip",value:function(){this.tooltipBox=new Ne({element:this.element,hoverClass:["dot-hover","trendline-hover"]}),this.tooltipBox.init()}},{key:"_initEmptyState",value:function(){this.emptyStateBox=new Re({element:this.element,height:this.element.offsetHeight,border:!0,settings:this.emptyState}),this.emptyStateBox.init()}},{key:"_createX",value:function(){var e=x.min(this.values,(function(e){return e.x})),t=x.max(this.values,(function(e){return e.x})),n=this.width,i=this.x.isLogarithmic?x.scaleLog():x.scaleLinear();i.domain([e,t]).range([0+this.radiusMax,n-this.radiusMax]),e=i.invert(0),t=i.invert(n),this.x.startFromZero&&!this.x.isLogarithmic&&(e=e<0?e:0),this.xScale=this.x.isLogarithmic?x.scaleLog():x.scaleLinear(),this.xScale.domain([e,t]).range([0,n]).nice(),this.xAxis=new qe({position:"bottom",canvas:this.canvas,x:this.xScale,width:this.width,height:this.height,margin:this.margin,fontSize:this.fontSize,axisPadding:this.axisPadding,tickFormat:Te.formatAxis(this.x.tickFormat),unit:this.x.unit,hasDomain:!0,hasGrid:!0}),this.xAxis.init()}},{key:"_createY",value:function(){var e=x.min(this.values,(function(e){return e.y})),t=x.max(this.values,(function(e){return e.y})),n=this.height,i=this.y.isLogarithmic?x.scaleLog():x.scaleLinear();i.domain([e,t]).range([n-this.radiusMax,0+this.radiusMax]),e=i.invert(n),t=i.invert(0),this.y.startFromZero&&!this.y.isLogarithmic&&(e=e<0?e:0),this.yScale=this.y.isLogarithmic?x.scaleLog():x.scaleLinear(),this.yScale.domain([e,t]).range([n,0]).nice(),this.yAxis=new qe({position:"left",canvas:this.canvas,y:this.yScale,width:this.width,height:this.height,margin:this.margin,fontSize:this.fontSize,axisPadding:this.axisPadding,ticks:this.height/80,tickFormat:Te.formatAxis(this.y.tickFormat),unit:this.y.unit,hasDomain:!0,hasGrid:!0}),this.yAxis.init()}},{key:"_createSizeLegend",value:function(){var e=x.min(this.values,(function(e){return e.r})),t=x.max(this.values,(function(e){return e.r})),n=this.canvas.select(".size-legend").empty()?this.canvas.append("g").classed("size-legend",!0):this.canvas.select(".size-legend");n.attr("transform","translate(".concat(this.width,", -").concat(this.fontSize+this.axisPadding,")")),n.select("text").remove();var i=n.append("text").attr("text-anchor","end"),r=i.append("tspan").attr("class","icon icon-sizes").attr("font-size","16px");r.text(getComputedStyle(r.nodes()[0],":before").content.slice(1,-1)),i.append("tspan").attr("dx","8").attr("dy","-1").text("".concat(this.r.unit)),i.append("tspan").attr("dx","16").text("Min: ".concat(e?Te.formatNumber(this.r.tickFormat)(e):"-")),i.append("tspan").attr("dx","16").text("Max: ".concat(t?Te.formatNumber(this.r.tickFormat)(t):"-"))}},{key:"_getValues",value:function(){var e,t=[];this.filteredData.series&&(t=(e=[]).concat.apply(e,l(this.filteredData.series.map((function(e){return e.values.map((function(t){return c(c({},t),{},{series:e.name})}))})))));return t}},{key:"_drawDots",value:function(){var e=this,t=x.scaleSqrt().domain(x.extent(this.values.map((function(e){return e.r})))).range([this.radiusMin,this.radiusMax]),n=this.canvas.select(".dots").empty()?this.canvas.append("g").classed("dots",!0):this.canvas.select(".dots"),i=n.selectAll(".dot-group").data(this.values,(function(e){return e.name})),r=i.enter().append("g").classed("dot-group",!0);r.append("circle").style("pointer-events","none").attr("class",(function(t){return"dot "+e.colorScale.get()(t.series)})).attr("cx",(function(t){return e.xScale(t.x)})).attr("cy",(function(t){return e.yScale(t.y)})).attr("r",0).transition().duration(this.animationSpeed).attr("r",(function(e){return t(e.r)})),r.append("circle").attr("class","dot-hover").attr("cx",(function(t){return e.xScale(t.x)})).attr("cy",(function(t){return e.yScale(t.y)})).attr("r",(function(n){return Math.max(e.radiusMinHover,t(n.r))})).attr("fill","blue").attr("opacity",0).on("mouseover",(function(t,i){var r=n.selectAll(".dot");e.tooltipBox.update([{line:!0,values:[{value:i.name},{value:""}]},{values:[{icon:["icon","icon-alarm-level6",e.colorScale.get()(i.series)].join(" "),value:i.series},{value:""}]},{values:[{value:e.x.unit},{value:Te.formatNumber(e.tooltip.format.value)(i.x),bold:!0}]},{values:[{value:e.y.unit},{value:Te.formatNumber(e.tooltip.format.value)(i.y),bold:!0}]},{values:[{value:e.r.unit},{value:Te.formatNumber(e.tooltip.format.value)(i.r),bold:!0}]}]),r.attr("opacity",".2"),e.canvas.selectAll(".trendline").attr("opacity",".2"),x.select(x.select(t.currentTarget.parentNode).selectAll(".dot").nodes()[0]).attr("opacity",1),e.crosshair.select(".crosshair-line-x").attr("x1",e.xScale(i.x)).attr("y1",0).attr("x2",e.xScale(i.x)).attr("y2",e.height),e.crosshair.select(".crosshair-line-y").attr("x1",0).attr("y1",e.yScale(i.y)).attr("x2",e.width).attr("y2",e.yScale(i.y)),e.crosshair.attr("opacity",1),e.crosshair.select(".crosshair-text").attr("opacity",0)})).on("mouseout",(function(){n.selectAll(".dot").attr("opacity","1"),e.canvas.selectAll(".trendline").attr("opacity","1"),e.crosshair.attr("opacity",0),e.crosshair.select(".crosshair-text").attr("opacity",1)})),i.select(".dot").transition().duration(this.animationSpeed).attr("cx",(function(t){return e.xScale(t.x)})).attr("cy",(function(t){return e.yScale(t.y)})).attr("r",(function(e){return t(e.r)})),i.select(".dot-hover").transition().duration(this.animationSpeed).attr("cx",(function(t){return e.xScale(t.x)})).attr("cy",(function(t){return e.yScale(t.y)})).attr("r",(function(e){return t(e.r)})),i.exit().remove()}},{key:"_drawTrendlines",value:function(){var e=this,t=this.canvas.select("defs");t.empty()&&(t=this.canvas.append("defs")).append("clipPath").attr("id",this.id).append("rect").classed("clip-rectangle",!0).attr("y",-1),t.select("rect").attr("width",this.width).attr("height",this.height+1);var n=x.min(this.values,(function(e){return e.x})),i=x.max(this.values,(function(e){return e.x})),r=[];this.filteredData.series.forEach((function(e){var t=Je(e.values);t.length&&r.push({name:e.name,a:t[0],b:t[1],rSquared:t[2],coords:[n,t[0]*n+t[1],i,t[0]*i+t[1]]})}));var a=(this.canvas.select(".trendlines").empty()?this.canvas.append("g").classed("trendlines",!0).attr("clip-path","url(#".concat(this.id,")")):this.canvas.select(".trendlines")).selectAll(".trendline-group").data(r,(function(e){return e.name})),s=a.enter().append("g").attr("class","trendline-group");s.append("line").attr("class",(function(t){return"trendline ".concat(e.colorScale.get()(t.name))})).attr("stroke-width",1).attr("x1",(function(t){return e.xScale(t.coords[0])})).attr("y1",(function(t){return e.yScale(t.coords[1])})).attr("x2",(function(t){return e.xScale(t.coords[2])})).attr("y2",(function(t){return e.yScale(t.coords[3])})),s.append("line").attr("class","trendline-hover").attr("x1",(function(t){return e.xScale(t.coords[0])})).attr("y1",(function(t){return e.yScale(t.coords[1])})).attr("x2",(function(t){return e.xScale(t.coords[2])})).attr("y2",(function(t){return e.yScale(t.coords[3])})).attr("stroke","blue").attr("stroke-width",8).attr("opacity",0).on("mouseover",(function(t,n){e.tooltipBox.update([{line:!0,values:[{value:"Linear trend"},{value:""}]},{values:[{icon:["icon","icon-alarm-level6",e.colorScale.get()(n.name)].join(" "),value:n.name},{value:""}]},{values:[{value:"y = ".concat(n.a.toFixed(3)," x ").concat(n.b>=0?"+":"-"," ").concat(Math.abs(n.b.toFixed(3)))},{value:""}]},{values:[{value:"R-squared"},{value:n.rSquared.toFixed(3),bold:!0}]}]),e.canvas.selectAll(".dot").each((function(e,t,i){x.select(i[t]).attr("opacity",e.series===n.name?"1":".2")})),e.canvas.selectAll(".trendline").each((function(e,t,i){x.select(i[t]).attr("opacity",e.name===n.name?"1":".2")}))})).on("mouseout",(function(){e.canvas.selectAll(".dot").attr("opacity","1"),e.canvas.selectAll(".trendline").attr("opacity","1")})),a.select(".trendline").transition().duration(this.animationSpeed).attr("x1",(function(t){return e.xScale(t.coords[0])})).attr("y1",(function(t){return e.yScale(t.coords[1])})).attr("x2",(function(t){return e.xScale(t.coords[2])})).attr("y2",(function(t){return e.yScale(t.coords[3])})),a.select(".trendline-hover").transition().duration(this.animationSpeed).attr("x1",(function(t){return e.xScale(t.coords[0])})).attr("y1",(function(t){return e.yScale(t.coords[1])})).attr("x2",(function(t){return e.xScale(t.coords[2])})).attr("y2",(function(t){return e.yScale(t.coords[3])})),a.exit().remove()}},{key:"_drawCrosshair",value:function(){var e=this;this.crosshair=this.canvas.select(".crosshair"),this.crosshair.empty()&&(this.crosshair=this.canvas.append("g").attr("class","crosshair"),this.crosshair.append("line").attr("class","crosshair-line-x"),this.crosshair.append("line").attr("class","crosshair-line-y"),this.crosshair.append("text").attr("class","crosshair-text")),this.mouseArea=this.canvas.select(".mouse-area").empty()?this.canvas.append("svg:rect").classed("mouse-area",!0):this.canvas.select(".mouse-area"),this.mouseArea.attr("width",this.width).attr("height",this.height).attr("fill","blue").attr("opacity","0").attr("pointer-events","all").on("mouseenter",(function(){return e.crosshair.attr("opacity",1)})).on("mouseleave",(function(){return e.crosshair.attr("opacity",0)})).on("mousemove",(function(t){return e._onMousemove.bind(e)(t)}))}},{key:"_onMousemove",value:function(e){var t=x.pointer(e),n=this.xScale.invert(t[0]),i=this.yScale.invert(t[1]);this.crosshair.select(".crosshair-line-x").attr("x1",t[0]).attr("y1",0).attr("x2",t[0]).attr("y2",this.height),this.crosshair.select(".crosshair-line-y").attr("x1",0).attr("y1",t[1]).attr("x2",this.width).attr("y2",t[1]),this.crosshair.select(".crosshair-text").attr("x",t[0]+3).attr("y",t[1]-4).text("".concat(n.toFixed(2),", ").concat(i.toFixed(2)))}},{key:"_highlight",value:function(e){var t=this.canvas.selectAll(".dot"),n=this.canvas.selectAll(".trendline");e?(t.attr("opacity",(function(t){return t.series===e?"1":".2"})),n.attr("opacity",(function(t){return t.name===e?"1":".2"}))):(t.attr("opacity","1"),n.attr("opacity","1"))}},{key:"destroy",value:function(){}}]),e}(),tt=function(){function e(t){v(this,e),this.data=t.data,this.element=t.element,this.height=t.height||250,this.margin=c({top:25,bottom:25,right:25,left:25},t.margin),this.breakpointLimit=t.breakpoint||400,this.y=c({unit:"",hideLabel:!1},t.y),this.x=c({unit:"",hideLabel:!1},t.x),this.tooltip=c({format:{title:null,value:","},isHidden:!1},t.tooltip),this.legendProps=c({isHidden:!1},t.legend),this.emptyState=t.error||null,this.colorScale=t.colorScale||this._newColorScale()}return g(e,[{key:"_newColorScale",value:function(){var e=new Ae({data:this.data});return e.init(),e}},{key:"init",value:function(){this.stage=new Ee({element:this.element,margin:{bottom:0,left:0,right:0,top:0},height:this.height}),this.stage.init(),this.stage.onResize(this.draw.bind(this)),this.canvas=this.stage.getCanvas(),this._initLegend(),this._initTooltip(),this._initEmptyState(),this.animationSpeed=950,this.outerLabelMargin=14,this.firstDrawFlag=!0,this.draw()}},{key:"_initLegend",value:function(){this.legend=new Ce({element:this.element,draw:this.draw.bind(this),hidden:this.legendProps.isHidden,highlight:this._highlight.bind(this),colorScale:this.colorScale}),this.legend.init(),this.legend.update(this.data.series.map((function(e){return{name:e.name}})))}},{key:"_initTooltip",value:function(){this.tooltipBox=new Ne({element:this.element,hoverClass:["mouse-area","label"]}),this.tooltipBox.init()}},{key:"_initEmptyState",value:function(){this.emptyStateBox=new Re({element:this.element,height:this.element.offsetHeight,border:!0,settings:this.emptyState}),this.emptyStateBox.init()}},{key:"draw",value:function(e,t){var n=this,i=this;if(this.data=e||this.data,this.width=this.stage.getCanvasWidth(),this.legend.pills.length||this.legendProps.isHidden||(x.select(this.element).selectAll(".chart-legend").remove(),this.colorScale=t||this._newColorScale(),this._initLegend()),Fe(this.element,Be(this.data)),Be(this.data)){e&&this.legend.update(this.data.series.map((function(e){return{name:e.name}}))),this.filteredData={common:this.data.common,series:this.data.series.filter((function(e){return!0===n.legend.getFilter()[e.name]}))};var r=this.width<=this.breakpointLimit,a=this.filteredData.common.length,s=this.filteredData.common.map((function(e,t){return 2*Math.PI/a*t-Math.PI/2})),o=x.min(this.filteredData.series,(function(e){return x.min(e.values)})),u=x.max(this.filteredData.series,(function(e){return x.max(e.values)})),c=this.width-this.margin.left-this.margin.right,d=this.height-this.margin.top-this.margin.bottom;this.canvas.attr("transform","translate(".concat(this.margin.left,",").concat(this.margin.top,")"));var h,f=0;this.canvas.selectAll("text.temp").data(this.filteredData.common).enter().append("text").classed("temp",!0).text((function(e){return e})).each((function(e,t){var n,a=this.getBBox(),o=a.width,l=a.height;n=r?Math.min(i.width,i.height)/2:Math.max(0,Math.min(c,d)/2);var u=Math.cos(s[t]),h=Math.sin(s[t]),p=(n+i.outerLabelMargin)*u,m=(n+i.outerLabelMargin)*h;0===t||s.length%2==0&&t===s.length/2?p+=o:p+=s[t]>Math.PI/2?-o:+o,s[t]>0&&s[t]<Math.PI?m+=l:m-=l,p>c/2?f=Math.max(f,p-c/2):p<-c/2&&(f=Math.max(f,-p-c/2)),m>d/2?f=Math.max(f,m-d/2):m<-d/2&&(f=Math.max(f,-m-d/2)),this.remove()})),h=r?Math.min(this.width,this.height)/2:Math.max(0,Math.min(c-2*f,d-2*f)/2);var p=x.scaleLinear().domain([o,u]).nice(Math.max(1,Math.round(h/60))).range([0,h]),m=x.line().x((function(e,t){return p(e)*Math.cos(s[t])})).y((function(e,t){return p(e)*Math.sin(s[t])}));this.canvas.classed("radar-chart",!0);var v=this.firstDrawFlag?this.canvas.append("g").classed("container",!0).attr("transform","translate(".concat(c/2,",").concat(d/2,")")):this.canvas.selectAll("g.container").attr("transform","translate(".concat(c/2,",").concat(d/2,")")),y=Math.max(1,Math.round(h/60)),g=p.ticks(y).reverse();g[g.length-1]!==p.domain()[0]&&g.push(p.domain()[0]),g[0]!==p.domain()[1]&&g.unshift(p.domain()[1]);var _=x.line().x((function(e,t){return e*Math.cos(s[t])})).y((function(e,t){return e*Math.sin(s[t])})),b=this.firstDrawFlag?v.append("g").classed("axis",!0).classed("axis-bottom",!0):v.selectAll("g.axis-bottom");if(a>0){var j=b.selectAll("path").data(g.map((function(e){return n.filteredData.common.map((function(){return e}))})));if(j.transition().duration(this.animationSpeed).attr("d",(function(e){return m(e)+"Z"})),j.enter().append("path").classed("domain",!0).attr("fill","none").attr("d",(function(e){return m(e)+"Z"})),j.exit().remove(),!this.y.hideLabel){var w=b.selectAll("text.tick").data(g).attr("x",0);w.transition().duration(this.animationSpeed).attr("y",(function(e){return-p(e)})).text((function(e){return Te.formatNumber(n.y.tickFormat)(e)})),w.enter().append("text").classed("tick",!0).attr("x",0).attr("y",(function(e){return-p(e)})).attr("dominant-baseline","hanging").text((function(e){return Te.formatNumber(n.y.tickFormat)(e)})),w.exit().remove()}if(this.firstDrawFlag||(b.selectAll("line.line").data(this.filteredData.common).transition().duration(this.animationSpeed).attr("x1",(function(e,t){return h*Math.cos(s[t])})).attr("y1",(function(e,t){return h*Math.sin(s[t])})),this.x.hideLabel||b.selectAll("text.label").data(this.filteredData.common).attr("opacity",(function(){return r?0:1})).transition().duration(this.animationSpeed).attr("x",(function(e,t){return(h+n.outerLabelMargin)*Math.cos(s[t])})).attr("y",(function(e,t){return(h+n.outerLabelMargin)*Math.sin(s[t])}))),this.firstDrawFlag){var k=b.selectAll("g.tick").data(this.filteredData.common).enter().append("g").classed("tick",!0);k.append("line").classed("line",!0).attr("x0","0").attr("y0","0").attr("x1",(function(e,t){return h*Math.cos(s[t])})).attr("y1",(function(e,t){return h*Math.sin(s[t])})),this.x.hideLabel||k.append("text").classed("label",!0).attr("opacity",(function(){return r?0:1})).attr("x",(function(e,t){return(h+n.outerLabelMargin)*Math.cos(s[t])})).attr("y",(function(e,t){return(h+n.outerLabelMargin)*Math.sin(s[t])})).attr("text-anchor",(function(e,t){return 0===t||s.length%2==0&&t===s.length/2?"middle":s[t]>Math.PI/2?"end":"start"})).attr("dominant-baseline",(function(e,t){return s[t]>0&&s[t]<Math.PI?"hanging":"baseline"})).text((function(e){return e}))}}var S=(this.firstDrawFlag?v.append("g").classed("line-group",!0):v.selectAll("g.line-group")).selectAll("path.line").data(this.filteredData.series,(function(e){return e.name})),P=S.enter().append("path").attr("class",(function(e){return"line "+n.colorScale.get()(e.name)}));S.exit().remove(),S.merge(P).transition().duration(this.animationSpeed).attr("d",(function(e){return m(e.values)+"Z"}));var M=(this.firstDrawFlag?v.append("g").classed("axis",!0).classed("axis-top",!0):v.selectAll("g.axis-top")).selectAll("g.values").data(this.filteredData.series,(function(e){return e.name})),O=M.enter().append("g").classed("values",!0).attr("opacity",0);M.exit().remove();var L=M.merge(O).selectAll("text.value").data((function(e){return e.values})),E=L.enter().append("text").classed("value",!0).merge(L);L.exit().remove();var A=function(e,t,n,i,r){var o,l=Math.cos(s[t]),u=Math.sin(s[t]),c=(p(e)+5)*l,d=(p(e)+5)*u,f=c,m=d;0===t||s.length%2==0&&t===s.length/2?f+=n:f+=s[t]>Math.PI/2?-n:+n,s[t]>0&&s[t]<Math.PI?m+=i:m-=i,o=f>=0?Math.atan(m/f):Math.atan(m/f)+Math.PI,o+=Math.PI/2;var v=2*Math.PI/a,y=Math.floor(o/v)%a,g=(y+1)%a,_=h*Math.cos(s[y]),b=h*Math.cos(s[g]),j=h*Math.sin(s[y]),x=b-_,w=h*Math.sin(s[g])-j,k=(w*(f-_)-x*(m-j))/(l*w-u*x);return x*(m-j)-w*(f-_)<0?"x"===r?c-k*l:d-k*u:"x"===r?c:d};E.text((function(e){return e})).attr("text-anchor",(function(e,t){return 0===t||s.length%2==0&&t===s.length/2?"middle":s[t]>Math.PI/2?"end":"start"})).attr("dominant-baseline",(function(e,t){return s[t]>0&&s[t]<Math.PI?"hanging":"baseline"})).attr("x",(function(e,t){var n=this.getBBox(),i=n.width,r=n.height;return A(e,t,i,r,"x")})).attr("y",(function(e,t){var n=this.getBBox(),i=n.width,r=n.height;return A(e,t,i,r,"y")}));var C=(this.firstDrawFlag?v.append("g").classed("circles",!0):v.selectAll("g.circles")).selectAll("circle").data(this.filteredData.series,(function(e){return e.name}));C.enter().append("circle").attr("r",3).attr("class",(function(e){return"tooltip-circle "+n.colorScale.get()(e.name)})).attr("opacity",0),C.exit().remove();var T=function(e){e>-1&&(v.selectAll("circle.tooltip-circle").attr("opacity",1).attr("cx",(function(t){return p(t.values[e])*Math.cos(s[e])})).attr("cy",(function(t){return p(t.values[e])*Math.sin(s[e])})),v.selectAll("text.label").style("font-weight",(function(t,n){return n===e?"bold":null})),v.selectAll("text.tick").style("opacity","0"),v.selectAll("line.line").classed("selected",(function(t,n){return n===e})),i.tooltipBox.update([{line:!0,values:[{value:i.filteredData.common[e]},{value:i.y.unit}]}].concat(l(i.filteredData.series.map((function(t){return{values:[{icon:["icon","icon-alarm-level6",i.colorScale.get()(t.name)].join(" "),value:t.name},{bold:!0,value:Te.formatNumber(i.tooltip.format.value)(t.values[e])}]}}))))))},D=function(){v.selectAll("circle.tooltip-circle").attr("opacity",0),v.selectAll("text.label").style("font-weight",null),v.selectAll("text.tick").style("opacity",null),v.selectAll("line.line").classed("selected",!1)},I=this.firstDrawFlag?v.append("path").classed("mouse-area",!0):v.selectAll("path.mouse-area");I.attr("d",_(this.filteredData.common.map((function(){return 1*h})))+"Z");var N=v.selectAll("text.label");I.on("touchmove mousemove",(function(e){var t,n=x.pointer(e),i=n[0],r=n[1];t=i>=0?Math.atan(r/i):Math.atan(r/i)+Math.PI,t+=Math.PI/2;var s=2*Math.PI/a,o=Math.round(t/s)%a;T(o)})),I.on("touchend mouseleave",(function(){D()})),N.on("touchmove mousemove",(function(e,t){T(n.data.common.indexOf(t))})),N.on("touchend mouseleave",(function(){D()})),this.firstDrawFlag=!1}}},{key:"_highlight",value:function(e){var t=this.canvas.selectAll(".line-group .line"),n=this.canvas.selectAll(".axis-bottom text.tick"),i=this.canvas.selectAll(".axis-top .values");e?(t.attr("opacity",(function(t){return t.name===e?"0.6":".2"})).classed("line-focus",(function(t){return t.name===e})),n.attr("opacity","0"),i.attr("opacity",(function(t){return t.name===e?"1":"0"}))):(t.attr("opacity","1").classed("line-focus",!1),n.attr("opacity","1"),i.attr("opacity","0"))}},{key:"destroy",value:function(){this.stage.destroy()}}]),e}(),nt=function(){function e(t){var n=this;v(this,e),this.element=t.element,this.height=t.height||500,this.data=JSON.parse(JSON.stringify(t.data)),this.onSelect=t.onSelect,this.onMove=t.onMove,this.innerCircleRadius=16,this.outerCircleRadius=20,this.lineCircleRadius=10,this.circleFontSize=14,this.isProcessed=!1,this.connectionMap={},this.showAlerts=t.alerts||!1,this.simulation=t.simulation||!1,this.draggable=t.draggable||!1,this.zoom=t.zoom||1,this.minZoom=t.minZoom||.5,this.maxZoom=t.maxZoom||2,this.grouping=t.grouping||"neighbour",this.properties={scale:function(){return 1/n.zoom},lineDashArray:function(e){return"dashed"===e.type?4/n.zoom:null},mouseAreaClass:function(e){return e.alerts&&e.alerts.length>0||e.descriptions&&e.descriptions.length>0},innerCircleRadius:function(){return n.innerCircleRadius},outerCircleRadius:function(){return n.outerCircleRadius},textPositionY:function(){return n.outerCircleRadius+4},alertsPositionY:function(){return n.properties.textPositionY()+n.circleFontSize+4},lineNodeGeometry:function(e){var t=function(e){return Math.round(100*e)/100},i=[[t(Math.cos(Math.PI/6+2*Math.PI/3*0)*n.lineCircleRadius),t(Math.sin(Math.PI/6+2*Math.PI/3*0)*n.lineCircleRadius)],[t(Math.cos(Math.PI/6+2*Math.PI/3*1)*n.lineCircleRadius),t(Math.sin(Math.PI/6+2*Math.PI/3*1)*n.lineCircleRadius)],[t(Math.cos(Math.PI/6+2*Math.PI/3*2)*n.lineCircleRadius),t(Math.sin(Math.PI/6+2*Math.PI/3*2)*n.lineCircleRadius)]],r=[[t(1/Math.sqrt(2)*n.lineCircleRadius),t(1/Math.sqrt(2)*n.lineCircleRadius)],[-t(1/Math.sqrt(2)*n.lineCircleRadius),t(1/Math.sqrt(2)*n.lineCircleRadius)],[-t(1/Math.sqrt(2)*n.lineCircleRadius),-t(1/Math.sqrt(2)*n.lineCircleRadius)],[t(1/Math.sqrt(2)*n.lineCircleRadius),-t(1/Math.sqrt(2)*n.lineCircleRadius)]],a=[[t(Math.cos(3*Math.PI/2+2*Math.PI/5*0)*n.lineCircleRadius),t(Math.sin(3*Math.PI/2+2*Math.PI/5*0)*n.lineCircleRadius)],[t(Math.cos(3*Math.PI/2+2*Math.PI/5*1)*n.lineCircleRadius),t(Math.sin(3*Math.PI/2+2*Math.PI/5*1)*n.lineCircleRadius)],[t(Math.cos(3*Math.PI/2+2*Math.PI/5*2)*n.lineCircleRadius),t(Math.sin(3*Math.PI/2+2*Math.PI/5*2)*n.lineCircleRadius)],[t(Math.cos(3*Math.PI/2+2*Math.PI/5*3)*n.lineCircleRadius),t(Math.sin(3*Math.PI/2+2*Math.PI/5*3)*n.lineCircleRadius)],[t(Math.cos(3*Math.PI/2+2*Math.PI/5*4)*n.lineCircleRadius),t(Math.sin(3*Math.PI/2+2*Math.PI/5*4)*n.lineCircleRadius)]],s=[[t(Math.cos(Math.PI/6+Math.PI/3*0)*n.lineCircleRadius),t(Math.sin(Math.PI/6+Math.PI/3*0)*n.lineCircleRadius)],[t(Math.cos(Math.PI/6+Math.PI/3*1)*n.lineCircleRadius),t(Math.sin(Math.PI/6+Math.PI/3*1)*n.lineCircleRadius)],[t(Math.cos(Math.PI/6+Math.PI/3*2)*n.lineCircleRadius),t(Math.sin(Math.PI/6+Math.PI/3*2)*n.lineCircleRadius)],[t(Math.cos(Math.PI/6+Math.PI/3*3)*n.lineCircleRadius),t(Math.sin(Math.PI/6+Math.PI/3*3)*n.lineCircleRadius)],[t(Math.cos(Math.PI/6+Math.PI/3*4)*n.lineCircleRadius),t(Math.sin(Math.PI/6+Math.PI/3*4)*n.lineCircleRadius)],[t(Math.cos(Math.PI/6+Math.PI/3*5)*n.lineCircleRadius),t(Math.sin(Math.PI/6+Math.PI/3*5)*n.lineCircleRadius)]];return"hexagon"===e.shape?"\n            M".concat(s[0][0]," ").concat(s[0][1],"\n            L").concat(s[1][0]," ").concat(s[1][1],"\n            L").concat(s[2][0]," ").concat(s[2][1],"\n            L").concat(s[3][0]," ").concat(s[3][1],"\n            L").concat(s[4][0]," ").concat(s[4][1],"\n            L").concat(s[5][0]," ").concat(s[5][1]," Z"):"pentagon"===e.shape?"\n            M".concat(a[0][0]," ").concat(a[0][1],"\n            L").concat(a[1][0]," ").concat(a[1][1],"\n            L").concat(a[2][0]," ").concat(a[2][1],"\n            L").concat(a[3][0]," ").concat(a[3][1],"\n            L").concat(a[4][0]," ").concat(a[4][1]," Z"):"square"===e.shape?"\n            M".concat(r[0][0]," ").concat(r[0][1],"\n            L").concat(r[1][0]," ").concat(r[1][1],"\n            L").concat(r[2][0]," ").concat(r[2][1],"\n            L").concat(r[3][0]," ").concat(r[3][1]," Z"):"\n          M".concat(i[0][0]," ").concat(i[0][1],"\n          L").concat(i[1][0]," ").concat(i[1][1],"\n          L").concat(i[2][0]," ").concat(i[2][1]," Z")}}}return g(e,[{key:"init",value:function(){var e=this,t=this;this.element.classList.add("logical-view-chart"),this.legendAlerts=x.select(this.element).append("div"),this.labelAlerts=this.legendAlerts.append("label").classed("switch",!0),this.legendAlertsInput=this.labelAlerts.append("input").attr("type","checkbox").attr("checked",!0===this.showAlerts||null).on("click",(function(){t.showAlerts=this.checked,t.canvas.selectAll("g.alerts").classed("hidden",!t.showAlerts)})),this.labelAlerts.append("i").classed("ball",!0),this.labelAlerts.append("span").attr("data-enabled","Alerts on").attr("data-disabled","Alerts off"),this.colorScale=new Ae({}),this.colorScale.init(),this.data.alerts&&this.data.alerts.length>0&&this.colorScale.set(x.scaleOrdinal().domain(this.data.alerts.map((function(e){return e.name}))).range(["color-red icon icon-severity-critical","color-orange icon icon-severity-major","color-blue icon icon-severity-warning","color-yellow icon icon-severity-minor","color-gray icon icon-severity-indeterminate","color-green icon icon-severity-cleared"])),this.stage=new Ee({element:this.element,margin:{bottom:0,left:0,right:0,top:0},height:this.height}),this.stage.init(),this.stage.onResize(this.draw.bind(this)),this.tooltipBox=new Ne({element:this.element,hoverClass:"mouse-area"}),this.tooltipBox.init(),this.canvas=this.stage.getCanvas(),this.svg=x.select(this.canvas.node().parentNode);var n=x.zoom().scaleExtent([this.minZoom,this.maxZoom]).on("zoom",(function(t){e.zoom=t.transform.k,e.canvas.attr("transform",t.transform),e.canvas.selectAll("g.container").attr("transform","scale(".concat(e.properties.scale(),")")),e.canvas.selectAll("line").style("stroke-width",e.properties.scale).style("stroke-dasharray",e.properties.lineDashArray)}));this.svg.call(n).call(n.transform,x.zoomIdentity.scale(this.zoom));var i=this.svg.select("g.labels").empty()?this.svg.append("g").classed("labels",!0):this.svg.select("g.labels");i.attr("transform","translate(0,20)");var r=i.selectAll("g.label").data(this.data.labels||[]).enter().append("g").classed("label",!0).attr("transform",(function(t,n){return"translate(0,".concat(2.5*e.lineCircleRadius*n+10,")")}));r.selectAll("path.line-node").data((function(e){return[e]})).enter().append("path").classed("line-node",!0).attr("d",this.properties.lineNodeGeometry).attr("transform","translate(".concat(this.lineCircleRadius,",").concat(this.lineCircleRadius,")")),r.selectAll("text.label").data((function(e){return[e]})).enter().append("text").classed("label",!0).attr("dominant-baseline","middle").attr("transform","translate(".concat(2*this.lineCircleRadius+8,",").concat(this.lineCircleRadius,")")).text((function(e){return e.name})),this.draw(this.data)}},{key:"draw",value:function(e){var t=this,n=this;if(e){this.isProcessed=!1,this.data=JSON.parse(JSON.stringify(e)),this.connectionMap={},this.data.links.forEach((function(e){t.connectionMap[e.source]?t.connectionMap[e.source].push(e.target):t.connectionMap[e.source]=[e.target],t.connectionMap[e.target]?t.connectionMap[e.target].push(e.source):t.connectionMap[e.target]=[e.source]}));var i=!0;this.data.nodes.forEach((function(e){e.alerts&&e.alerts.length>0&&(i=!1)})),!0===i?this.legendAlertsInput.attr("disabled",!0):this.legendAlertsInput.attr("disabled",null)}this.width=this.stage.getCanvasWidth();var r=this.canvas.select("g.center").empty()?this.canvas.append("g").classed("center",!0):this.canvas.select("g.center");r.attr("transform","translate(".concat(this.width/2,",").concat(this.height/2,")"));var a=r.selectAll("line").data(this.data.links).style("stroke-width",this.properties.scale).style("stroke-dasharray",this.properties.lineDashArray);a.exit().remove();var s=a.enter().append("line").style("stroke-width",this.properties.scale).style("stroke-dasharray",this.properties.lineDashArray),o=r.selectAll("g.line-node").data(this.data.links.filter((function(e){return void 0!==e.data}))),u=o.enter().append("g").classed("line-node",!0);o.exit().remove();var c=o.merge(u),d=c.selectAll("g.container").data((function(e){return[e]}));d.exit().remove();var h=d.enter().append("g").classed("container",!0),f=d.merge(h).selectAll("path.line-node").data((function(e){return[e.data]})).attr("d",this.properties.lineNodeGeometry);f.exit().remove(),f.enter().append("path").classed("line-node",!0).attr("d",this.properties.lineNodeGeometry);var p=r.selectAll("g.circle").data(this.data.nodes);p.exit().remove();var m=p.enter().append("g").classed("circle",!0);this._nodes=m.merge(p),this._links=s.merge(a),this._linkNodes=c,this._nodes.on("click",(function(){this.classList.contains("selected")?this.classList.remove("selected"):this.classList.add("selected");var e=[];n._nodes.each((function(t){this.classList.contains("selected")&&e.push(t)})),n.onSelect&&n.onSelect(e)})).on("touchmove mousemove",(function(e,i){n._nodes.style("opacity",(function(e){return i===e?"1":"type"===t.grouping?t._checkGroupOverlap(i,e)?"1":"0.2":t.connectionMap[i.key]&&-1!==t.connectionMap[i.key].indexOf(e.key)||t.connectionMap[e.key]&&-1!==t.connectionMap[e.key].indexOf(i.key)?"1":"0.2"}));var r=[];i.descriptions&&i.descriptions.length>0&&(r=r.concat(i.descriptions.map((function(e){return{name:e}})))),i.alerts&&i.alerts.length>0&&(r=r.concat(i.alerts.map((function(e){return{name:"".concat(e.name," (").concat(e.value,")")}})))),t.tooltipBox.update(l(r.map((function(e){return{values:[{value:e.name},{value:""}]}}))))})).on("touchend mouseleave",(function(){n._nodes.style("opacity",null)})),!0===this.draggable&&this._nodes.call(x.drag().on("drag",(function(e){return function(e){e.subject.x=e.x,e.subject.y=e.y,n._simulation&&n._simulation.stop(),n._updatePositions()}(e)})).on("end",(function(e){return function(e){e.subject.x=e.x,e.subject.y=e.y,n.onMove&&n.onMove(e.subject),n._updatePositions()}(e)})));var v=this._nodes.selectAll("g.container").data((function(e){return[e]})).attr("class",(function(e){var n,i=["container"];if(e.alerts&&e.alerts.length>0){n=e.alerts[0],e.alerts.forEach((function(e){n=e.value>n.value?e:n}));var r=t.colorScale.get()(n.name).split(" ")[0];i.push(r)}return i.join(" ")}));v.exit().remove();var y=v.enter().append("g").attr("class",(function(e){var n,i=["container"];if(e.alerts&&e.alerts.length>0){n=e.alerts[0],e.alerts.forEach((function(e){n=e.value>n.value?e:n}));var r=t.colorScale.get()(n.name).split(" ")[0];i.push(r)}return i.join(" ")})),g=v.merge(y).attr("scale","scale(".concat(this.properties.scale(),")")),_=g.selectAll("circle.outer").data((function(e){return[e]})).attr("r",this.properties.outerCircleRadius).style("stroke-width",1).classed("mouse-area",this.properties.mouseAreaClass);_.enter().append("circle").classed("outer",!0).attr("r",this.properties.outerCircleRadius).style("stroke-width",1).classed("mouse-area",this.properties.mouseAreaClass),_.exit().remove();var b=g.selectAll("circle.circle").data((function(e){return[e]})).attr("r",this.properties.innerCircleRadius).classed("mouse-area",this.properties.mouseAreaClass);b.enter().append("circle").classed("circle",!0).attr("r",this.properties.innerCircleRadius).classed("mouse-area",this.properties.mouseAreaClass),b.exit().remove();var j=g.selectAll("text.icon.identifier").data((function(e){return[e]})).attr("class",(function(e){return"icon identifier ".concat(e.icon)})).classed("mouse-area",this.properties.mouseAreaClass),w=j.enter().append("text").attr("text-anchor","middle").attr("dy","7").attr("class",(function(e){return"icon identifier ".concat(e.icon)})).classed("mouse-area",this.properties.mouseAreaClass);j.exit().remove(),j.merge(w).text((function(){return getComputedStyle(this,":before").content.slice(1,-1)}));var k=g.selectAll("text.text").data((function(e){return[e]})).text((function(e){return e.name})).attr("y",this.properties.textPositionY).classed("mouse-area",this.properties.mouseAreaClass);k.exit().remove(),k.enter().append("text").classed("text",!0).attr("text-anchor","middle").attr("dy",14).attr("y",this.properties.textPositionY).classed("mouse-area",this.properties.mouseAreaClass).text((function(e){return e.name})),g.filter((function(e){return!e.alerts||0===e.alerts.length})).selectAll("g.alerts").remove();var S=g.filter((function(e){return e.alerts&&e.alerts.length>0})).selectAll("g.alerts").data((function(e){return[e]})).classed("hidden",!this.showAlerts).attr("transform","translate(0,".concat(this.properties.alertsPositionY(),")")),P=S.enter().append("g").classed("alerts",!0).classed("hidden",!this.showAlerts).attr("transform","translate(0,".concat(this.properties.alertsPositionY(),")")),M=S.merge(P),O=M.selectAll("text.alert.text").data((function(e){return e.alerts})).attr("dy",14).attr("text-anchor","start").classed("mouse-area",!0).text((function(e){return e.value}));O.exit().remove(),O.enter().append("text").classed("alert",!0).classed("text",!0).attr("dy",14).attr("text-anchor","start").classed("mouse-area",!0).text((function(e){return e.value}));var L=M.selectAll("text.alert.icon").data((function(e){return e.alerts})).attr("class",(function(e){return"alert ".concat(t.colorScale.get()(e.name))})).classed("mouse-area",!0),E=L.enter().append("text").attr("class",(function(e){return"alert ".concat(t.colorScale.get()(e.name))})).classed("mouse-area",!0);if(L.exit().remove(),L.merge(E).attr("text-anchor","end").attr("dy",16).text((function(){return getComputedStyle(this,":before").content.slice(1,-1)})),M.each((function(){var e=0;x.select(this).selectAll("text.text").each((function(){e=Math.max(this.getComputedTextLength(),e)})).attr("transform",(function(t,n){return"translate(".concat(-e/2+7,", ").concat(16*n,")")})),x.select(this).selectAll("text.icon").attr("transform",(function(t,n){return"translate(".concat(-e/2+3,", ").concat(16*n,")")}))})),!1===this.simulation){if(!1===this.isProcessed){var A={};this.data.nodes.forEach((function(e){A[e.key]=e})),this.data.links.forEach((function(e){e.source=A[e.source],e.target=A[e.target]}))}this.isProcessed=!0,this._updatePositions()}else!0!==this.isProcessed&&(this._simulation&&(this._simulation.stop(),this._simulation=void 0),this._simulation=x.forceSimulation(this.data.nodes).force("link",x.forceLink().id((function(e){return e.key})).links(this.data.links)).force("charge",x.forceManyBody().strength(-5e3)).force("centerX",x.forceX(0).strength(.2)).force("centerY",x.forceY(0).strength(.2)).on("tick",this._updatePositions.bind(this)),this.isProcessed=!0)}},{key:"_updatePositions",value:function(){var e=this._links,t=this._nodes,n=this._linkNodes;e.attr("x1",(function(e){return e.source.x})).attr("y1",(function(e){return e.source.y})).attr("x2",(function(e){return e.target.x})).attr("y2",(function(e){return e.target.y})),t.attr("transform",(function(e){return"translate(".concat(e.x,",").concat(e.y,")")})),n.attr("transform",(function(e){var t=(e.source.x+e.target.x)/2,n=(e.source.y+e.target.y)/2;return"translate(".concat(t,",").concat(n,")")}))}},{key:"_checkGroupOverlap",value:function(e,t){return Array.isArray(e.group)&&Array.isArray(t.group)?e.group.filter((function(e){return t.group.includes(e)})).length>0:Array.isArray(e.group)?e.group.filter((function(e){return t.group===e})).length>0:Array.isArray(t.group)?t.group.filter((function(t){return e.group===t})).length>0:e.group===t.group}},{key:"destroy",value:function(){this.element.innerHTML=""}}]),e}(),it=function(){function e(t){var n=this;v(this,e),this.element=t.element,this.height=t.height||1e3,this.horizontal=t.horizontal||!1,this.data=t.data,this.dropdowns=[],this.compactView=!0===t.compact,this.showValues=!0===t.alerts,this.onDropdownClick=t.onDropdownClick,this.listeners={onDropdownClick:function(e,t){n.onDropdownClick&&n.onDropdownClick(e,t)}}}return g(e,[{key:"init",value:function(){var e=this;this.canvas=x.select(this.element),this.canvas.classed("hierarchy-chart",!0),this.colorScale=new Ae({}),this.colorScale.init(),this.data.alerts&&this.data.alerts.length>0&&this.colorScale.set(x.scaleOrdinal().domain(this.data.alerts.map((function(e){return e.name}))).range(["icon icon-severity-critical color-red","icon icon-severity-major color-orange","icon icon-severity-minor color-yellow","icon icon-severity-warning color-blue","icon icon-severity-indeterminate color-gray","icon icon-severity-cleared color-green"])),this.legendCompact=this.canvas.append("div"),this.labelCompact=this.legendCompact.append("label").classed("switch",!0);var t=this.labelCompact.append("input").attr("type","checkbox").on("click",(function(){e.compactView=this.checked,e.canvas.select(".root-container").classed("compact",e.compactView)}));this.compactView&&t.attr("checked",!0),this.labelCompact.append("i").classed("ball",!0),this.labelCompact.append("span").attr("data-enabled","Compact view on").attr("data-disabled","Compact view off"),this.legendAlerts=this.canvas.append("div"),this.labelAlerts=this.legendAlerts.append("label").classed("switch",!0),this.inputCheckboxAlerts=this.labelAlerts.append("input").attr("type","checkbox").on("click",(function(){e.showValues=this.checked,e.canvas.selectAll(".alerts").classed("hidden",!e.showValues)})),this.showValues&&this.inputCheckboxAlerts.attr("checked",!0),this.labelAlerts.append("i").classed("ball",!0),this.labelAlerts.append("span").attr("data-enabled","Alerts on").attr("data-disabled","Alerts off"),this.rootContainer=this.canvas.append("div").classed("root-container",!0).style("max-height","".concat(this.height,"px")).classed("compact",this.compactView).classed("horizontal",this.horizontal),this.draw(this.data)}},{key:"draw",value:function(e){e&&(this.data=e),this.dropdowns.forEach((function(e){return e.destroy()})),this.dropdowns=[],this.rootContainer.text(""),this._hasAlerts(this.data.nodes)?this.inputCheckboxAlerts.property("disabled",!1):this.inputCheckboxAlerts.property("disabled",!0);var t=this.rootContainer.append("table").classed("root-table",!0).append("tr").selectAll("td").data(e.nodes,(function(e){return e.key})).enter().append("td").classed("root-td",!0);!0!==this.horizontal?this._renderVerticalSubTree(t,0):this._renderHorizontalSubTree(t,0)}},{key:"_hasAlerts",value:function(e){if(e&&0===e.length)return!1;for(var t=0;t<e.length;t+=1){if(e[t].alerts&&e[t].alerts.length>0)return!0;if(e[t].children&&e[t].children.length>0&&this._hasAlerts(e[t].children))return!0}return!1}},{key:"_renderCellData",value:function(e){var t=this,n=e.append("div").attr("class",(function(e){var t=["card"];return e.alerts&&e.alerts.length>0?t.push("alert"):t.push("normal"),t.join(" ")})).on("click",(function(e,t){var n=this.querySelector(".dropdown"),i=this.closest(".child-table"),r=e.target?e.target:e.srcElement;n&&n===r||n&&n.contains(r)||(i&&i.classList.contains("closed")?(t.open=!0,i.classList.remove("closed")):(t.open=!1,i.classList.add("closed")))}));n.append("span").classed("key",!0).text((function(e){return e.key})),n.filter((function(e){return e.hasSibling})).append("span").classed("sibling",!0).on("touchmove mousemove",(function(e,n){t.canvas.selectAll(".card").each((function(e){n===e||e.children&&-1!==e.children.indexOf(n)?this.classList.add("marked"):this.classList.remove("marked")}))})).on("touchend mouseleave",(function(){t.canvas.selectAll(".card").each((function(){this.classList.remove("marked")}))}));var i=n.append("div").classed("header",!0),r=i.append("div").classed("left",!0),a=i.append("div").classed("right",!0),s=n.append("div").classed("content",!0);r.filter((function(e){return!!e.title&&e.title.length>0})).append("div").classed("title",!0).text((function(e){return e.title})),r.filter((function(e){return!!e.subtitle&&e.subtitle.length>0})).append("span").classed("subtitle",!0).text((function(e){return e.subtitle})),s.selectAll("p.description").data((function(e){return e.descriptions?e.descriptions:[]})).enter().append("p").classed("description",!0).text((function(e){return e}));var o=a.filter((function(e){return!!e.menus&&e.menus.length>0})).append("div").classed("action",!0).append("div").classed("dropdown",!0).classed("more",!0).attr("data-type","click");o.append("button").classed("btn",!0).classed("clickable",!0).append("i").classed("icon",!0).classed("icon-more",!0),o.append("div").classed("menu",!0).classed("right",!0).selectAll("div.item").data((function(e){return e.menus?e.menus:[]})).enter().append("div").classed("item",!0).text((function(e){return e.title})).on("click",(function(e,n){return t.listeners.onDropdownClick(e,n)})),o.nodes().forEach((function(e){var n=new N(e);n.init(),t.dropdowns.push(n)}));var l=n.filter((function(e){return e.alerts&&e.alerts.length>0})).append("div").classed("alerts",!0).classed("hidden",!this.showValues).selectAll("div.value").data((function(e){return e.alerts})).enter().append("div").classed("value",!0).on("touchmove mousemove",(function(){t.canvas.selectAll(".card.normal").style("opacity","0.2"),!0===t.horizontal?(t.canvas.selectAll(".line-horizontal-bottom").style("opacity","0.2"),t.canvas.selectAll(".line-horizontal-left").style("opacity","0.2"),t.canvas.selectAll(".line-horizontal-right").style("opacity","0.2")):(t.canvas.selectAll(".line-vertical-left").style("opacity","0.2"),t.canvas.selectAll(".line-vertical-top").style("opacity","0.2"),t.canvas.selectAll(".line-vertical-down").style("opacity","0.2"))})).on("touchend mouseleave",(function(){t.canvas.selectAll(".card.normal").style("opacity",""),!0===t.horizontal?(t.canvas.selectAll(".line-horizontal-bottom").style("opacity",""),t.canvas.selectAll(".line-horizontal-left").style("opacity",""),t.canvas.selectAll(".line-horizontal-right").style("opacity","")):(t.canvas.selectAll(".line-vertical-left").style("opacity",""),t.canvas.selectAll(".line-vertical-top").style("opacity",""),t.canvas.selectAll(".line-vertical-down").style("opacity",""))})),u=l.classed("tooltip",!0).append("div").classed("message bottom white",!0);u.append("p").classed("title",!0).text((function(e){return"".concat(e.name," (").concat(e.value,")")})),u.selectAll("p.description").data((function(e){return e&&e.descriptions?e.descriptions:[]})).enter().append("p").classed("description",!0).text((function(e){return e})),l.append("i").attr("class",(function(e){return t.colorScale.get()(e.name)})).classed("icon",!0),l.append("p").text((function(e){return e.value}))}},{key:"_renderVerticalSubTree",value:function(e,t){if(0!==e.data().length){var n=e.append("table").attr("class",(function(e){var n=["child-table"];return!1===e.open||void 0===e.open&&t>=2?(e.open=!1,n.push("closed")):e.open=!0,n.join(" ")})),i=n.filter((function(e){return e.children&&e.children.length>0})),r=n.append("tr").classed("tr-node",!0).append("td").attr("colspan",(function(e){return e.children?2*e.children.length:""})).append("div").classed("node-container",!0);i.append("tr").classed("tr-line",!0).append("td").attr("colspan",(function(e){return 2*e.children.length})).append("div").classed("line-vertical-down",!0),i.append("tr").classed("tr-line",!0).each((function(e){var t=x.select(this),n=e.children.length;e.children.forEach((function(e,i){var r=t.append("td"),a=t.append("td");r.classed("line-vertical-right",!0),a.classed("line-vertical-left",!0),0!==i&&r.classed("line-vertical-top",!0),i!==n-1&&a.classed("line-vertical-top",!0)}))}));var a=i.append("tr").classed("tr-child",!0).selectAll("td").data((function(e){return e.children})).enter().append("td").attr("colspan",2);this._renderCellData(r),this._renderVerticalSubTree(a,t+1)}}},{key:"_renderHorizontalSubTree",value:function(e,t){if(0!==e.data().length){var n=e.append("table").attr("class",(function(e){var n=["child-table","horizontal"];return!1===e.open||!0!==e.open&&t>=2?(e.open=!1,n.push("closed")):e.open=!0,n.join(" ")})),i=n.filter((function(e){return!(e.children&&e.children.length>0)})),r=n.filter((function(e){return e.children&&e.children.length>0})),a=i.append("tr").classed("tr-node",!0).append("td").append("div").classed("node-container",!0).classed("horizontal",!0),s=r.append("tr").classed("tr-node",!0),o=s.append("td").attr("rowspan",(function(e){return e.children?2*e.children.length:""})).append("div").classed("node-container",!0).classed("horizontal",!0);s.append("td").attr("rowspan",(function(e){return e.children?2*e.children.length:""})).classed("line-horizontal-right-container",!0).append("div").classed("line-horizontal-right",!0),s.append("td").classed("line-horizontal-bottom",!0);var l=s.append("td").classed("td-child",!0).attr("rowspan",2);r.each((function(e){var t=x.select(this),n=e.children.length;e.children.forEach((function(e,i){var r=t.append("tr").append("td").classed("line-horizontal-top",!0);if(i!==n-1&&r.classed("line-horizontal-left",!0),i!==n-1){var a=t.append("tr");a.append("td").classed("line-horizontal-bottom",!0).classed("line-horizontal-left",!0),l=l.merge(a.append("td").classed("td-child",!0).attr("rowspan",2))}}))}));var u=r.selectAll("td.td-child").data((function(e){return e.children}));this._renderCellData(a),this._renderCellData(o),this._renderHorizontalSubTree(u,t+1)}}},{key:"destroy",value:function(){this.dropdowns.forEach((function(e){e.destroy()})),this.element.innerText=""}}]),e}();function rt(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function at(e,t,n,i){rt(e,n,i),rt(t,2*n,2*i),rt(t,2*n+1,2*i+1)}function st(e,t,n,i,r,a){for(;r>i;){if(r-i>600){var s=r-i+1,o=n-i+1,l=Math.log(s),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(s-u)/s)*(o-s/2<0?-1:1);st(e,t,n,Math.max(i,Math.floor(n-o*u/s+c)),Math.min(r,Math.floor(n+(s-o)*u/s+c)),a)}var d=t[2*n+a],h=i,f=r;for(at(e,t,i,n),t[2*r+a]>d&&at(e,t,i,r);h<f;){for(at(e,t,h,f),h+=1,f-=1;t[2*h+a]<d;)h+=1;for(;t[2*f+a]>d;)f-=1}t[2*i+a]===d?at(e,t,i,f):at(e,t,f+=1,r),f<=n&&(i=f+1),n<=f&&(r=f-1)}}function ot(e,t,n,i,r,a){if(!(r-i<=n)){var s=Math.floor((i+r)/2);st(e,t,s,i,r,a),ot(e,t,n,i,s-1,1-a),ot(e,t,n,s+1,r,1-a)}}function lt(e,t,n,i){var r=e-n,a=t-i;return r*r+a*a}var ut,ct=function(e){return e[0]},dt=function(e){return e[1]},ht=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ct,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dt,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Float64Array;v(this,e),this.nodeSize=r,this.points=t;for(var s=t.length<65536?Uint16Array:Uint32Array,o=this.ids=new s(t.length),l=this.coords=new a(2*t.length),u=0;u<t.length;u+=1)o[u]=u,l[2*u]=n(t[u]),l[2*u+1]=i(t[u]);ot(o,l,r,0,o.length-1,0)}return g(e,[{key:"range",value:function(e,t,n,i){return function(e,t,n,i,r,a,s){for(var o=[0,e.length-1,0],l=[];o.length;){var u=o.pop(),c=o.pop(),d=o.pop();if(c-d<=s)for(var h=d;h<=c;h+=1){var f=t[2*h],p=t[2*h+1];f>=n&&f<=r&&p>=i&&p<=a&&l.push(e[h])}else{var m=Math.floor((d+c)/2),v=t[2*m],y=t[2*m+1];v>=n&&v<=r&&y>=i&&y<=a&&l.push(e[m]),(0===u?n<=v:i<=y)&&(o.push(d),o.push(m-1),o.push(1-u)),(0===u?r>=v:a>=y)&&(o.push(m+1),o.push(c),o.push(1-u))}}return l}(this.ids,this.coords,e,t,n,i,this.nodeSize)}},{key:"within",value:function(e,t,n){return function(e,t,n,i,r,a){for(var s=[0,e.length-1,0],o=[],l=r*r;s.length;){var u=s.pop(),c=s.pop(),d=s.pop();if(c-d<=a)for(var h=d;h<=c;h+=1)lt(t[2*h],t[2*h+1],n,i)<=l&&o.push(e[h]);else{var f=Math.floor((d+c)/2),p=t[2*f],m=t[2*f+1];lt(p,m,n,i)<=l&&o.push(e[f]),(0===u?n-r<=p:i-r<=m)&&(s.push(d),s.push(f-1),s.push(1-u)),(0===u?n+r>=p:i+r>=m)&&(s.push(f+1),s.push(c),s.push(1-u))}}return o}(this.ids,this.coords,e,t,n,this.nodeSize)}}]),e}(),ft=Math.fround||(ut=new Float32Array(1),function(e){return ut[0]=+e,ut[0]});function pt(e){return e/360+.5}function mt(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function vt(e,t,n,i,r){return{x:ft(e),y:ft(t),zoom:1/0,id:n,parentId:-1,numPoints:i,properties:r}}function yt(e,t){for(var n in t)e[n]=t[n];return e}function gt(e){var t=e.numPoints;return yt(yt({},e.properties),{cluster:!0,clusterID:e.id,pointCount:t})}function _t(e){return{type:"Feature",id:e.id,properties:gt(e),geometry:{type:"Point",coordinates:[(i=e.x,360*(i-.5)),(t=e.y,n=(180-360*t)*Math.PI/180,360*Math.atan(Math.exp(n))/Math.PI-90)]}};var t,n,i}function bt(e){return e.x}function jt(e){return e.y}var xt=function(){function e(t){v(this,e),this.maxZoom=t.maxZoom,this.minZoom=t.minZoom,this.minPoints=t.minPoints,this.radius=t.radius,this.extent=t.extent,this.nodeSize=t.nodeSize,this.alerts=[]}return g(e,[{key:"setAlerts",value:function(e){this.alerts=e}},{key:"load",value:function(e){this.trees=new Array(this.maxZoom+1);var t=this.minZoom,n=this.maxZoom,i=this.nodeSize;this.points=e.map((function(e){var t=[];return e.alerts&&!0!==e.inactive&&!0!==e.static&&e.alerts.forEach((function(e){t.push({name:e.name,value:e.value})})),{type:"Feature",properties:{key:e.key,nodes:[e],sumAlert:t},geometry:{type:"Point",coordinates:[e.x,e.y]}}}));for(var r,a,s,o,l,u=[],c=0;c<this.points.length;c+=1)this.points[c].geometry&&u.push((r=this.points[c],a=c,s=void 0,o=void 0,l=void 0,s=h(r.geometry.coordinates,2),o=s[0],l=s[1],{x:ft(pt(o)),y:ft(mt(l)),properties:r.properties,zoom:1/0,index:a,parentId:-1}));this.trees[n+1]=new ht(u,bt,jt,i,Float32Array);for(var d=n;d>=t;d-=1)u=this.cluster(u,d),this.trees[d]=new ht(u,bt,jt,i,Float32Array)}},{key:"limitZoom",value:function(e){return Math.max(this.minZoom,Math.min(+e,this.maxZoom+1))}},{key:"cluster",value:function(e,t){for(var n=this,i=[],r=this.radius,a=this.extent,s=this.minPoints,o=r/(a*Math.pow(2,t)),u=0;u<e.length;u+=1){var c=e[u];if(!(c.zoom<=t)){c.zoom=t;var d,h=this.trees[t+1],p=h.within(c.x,c.y,o),m=c.numPoints||1,v=m,y=c.properties.nodes,g=f(p);try{for(g.s();!(d=g.n()).done;){var _=d.value,b=h.points[_];b.zoom>t&&(v+=b.numPoints||1,y=[].concat(l(y),l(b.properties.nodes)))}}catch(e){g.e(e)}finally{g.f()}if(v>=s)!function(){var e,r=c.x*m,a=c.y*m,s=32*u+(t+1)+n.points.length,o=f(p);try{for(o.s();!(e=o.n()).done;){var l=e.value,d=h.points[l];if(!(d.zoom<=t)){d.zoom=t;var g=d.numPoints||1;r+=d.x*g,a+=d.y*g,d.parentId=s}}}catch(e){o.e(e)}finally{o.f()}var _={};y.forEach((function(e){if(e.alerts&&e.alerts.length>0&&!0!==e.inactive&&!0!==e.static){var t=n.maxAlertName(e);t&&(_[t]?_[t]+=1:_[t]=1)}}));var b=[];n.alerts&&n.alerts.length>0&&n.alerts.forEach((function(e){_[e.name]&&b.push({name:e.name,value:_[e.name]})}));var j={nodes:y,sumAlert:b};c.parentId=s,i.push(vt(r/v,a/v,s,v,j))}();else if(i.push(c),v>1){var j,x=f(p);try{for(x.s();!(j=x.n()).done;){var w=j.value,k=h.points[w];k.zoom<=t||(k.zoom=t,i.push(k))}}catch(e){x.e(e)}finally{x.f()}}}}return i}},{key:"getClusters",value:function(e,t){var n=((e[0]+180)%360+360)%360-180,i=Math.max(-90,Math.min(90,e[1])),r=180===e[2]?180:((e[2]+180)%360+360)%360-180,a=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,r=180;else if(n>r){var s=this.getClusters([n,i,180,a],t),o=this.getClusters([-180,i,r,a],t);return s.concat(o)}var l,u=this.trees[this.limitZoom(t)],c=[],d=f(u.range(pt(n),mt(a),pt(r),mt(i)));try{for(d.s();!(l=d.n()).done;){var h=l.value,p=u.points[h];c.push(p.numPoints?_t(p):this.points[p.index])}}catch(e){d.e(e)}finally{d.f()}return c}},{key:"getClusterExpansionZoom",value:function(e){for(var t=this._getOriginZoom(e)-1;t<=this.maxZoom;){var n=this.getChildren(e);if(t+=1,1!==n.length)break;e=n[0].properties.clusterID}return t}},{key:"getChildren",value:function(e){var t=this._getOriginId(e),n=this._getOriginZoom(e),i="No cluster with the specified id.",r=this.trees[n];if(!r)throw new Error(i);var a=r.points[t];if(!a)throw new Error(i);var s,o=this.radius/((this.extent+1)*Math.pow(2,n-1)),l=[],u=f(r.within(a.x,a.y,o));try{for(u.s();!(s=u.n()).done;){var c=s.value,d=r.points[c];d.parentId===e&&l.push(d.numPoints?_t(d):this.points[d.index])}}catch(e){u.e(e)}finally{u.f()}if(0===l.length)throw new Error(i);return l}},{key:"_getOriginId",value:function(e){return Math.floor((e-this.points.length)/32)}},{key:"_getOriginZoom",value:function(e){return(e-this.points.length)%32}},{key:"maxAlertName",value:function(e){if(e.alerts&&e.alerts.length>0){var t={};e.alerts.forEach((function(e){return t[e.name]=!0}));for(var n=0;n<this.alerts.length;n+=1)if(t[this.alerts[n].name])return this.alerts[n].name}return""}}]),e}(),wt=function(){function e(){v(this,e)}return g(e,[{key:"init",value:function(){this._domain={},this._range=[]}},{key:"range",value:function(e){this._range=e}},{key:"domain",value:function(e){var t=this;this._domain={},e.forEach((function(e,n){return t._domain[e]=n}))}},{key:"get",value:function(){var e=this;return function(t){var n=e._domain[t];return void 0!==n&&n<e._range.length?e._range[n]:""}}}]),e}(),kt=0,St=1,Pt=2,Mt=3;function Ot(e){return!0===e.inactive?St:!0===e.maintenance?Pt:!0===e.static?Mt:kt}var Lt=function(){function e(t){var n=this;v(this,e),this.element=t.element,this.height=t.height||600;var i="dark";document.querySelector("body").classList.contains("light")&&(i="light"),this.theme=t.theme||i,this.maxClusterZoom=t.maxClusterZoom||11,this.maxSmallZoom=t.maxSmallZoom||11,this.minZoom=t.minZoom||0,this.maxZoom=t.maxZoom||17,this.minPoints=2,this.radius=t.radius||100,this.extent=t.extent||256,this.nodeSize=64,this.onSelect=t.onSelect||function(){},this.showScrollLock=t.showScrollLock,this.locked=void 0===t.locked||t.locked,this.lockLink=null,this.tileLayers=c({dark:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",light:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png"},t.tileLayers),this.attribution=t.attribution||'© <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors © <a href= "https://carto.com/about-carto/">CARTO</a>',this._smallArrowSize=4,this._arrowSize=14,this._smallMarkerSize=14,this._markerSize=40,this._clusterSize=66,this._smOuterClusterSize=52,this._mdOuterClusterSize=60,this._lgOuterClusterSize=68,this._xlOuterClusterSize=78,this._selectedNodes={},this.listeners={switchTheme:function(e){n.theme=e.detail.theme,n._changeTileLayer(n.theme)}},this.leaflet={map:void 0,markers:void 0,hoverMarkers:void 0,tileLayer:void 0},this.supercluster=new xt({maxZoom:this.maxClusterZoom,minZoom:this.minZoom,minPoints:this.minPoints,radius:this.radius,extent:this.extent,nodeSize:this.nodeSize})}return g(e,[{key:"init",value:function(){"number"==typeof this.height?this.element.style.height="".concat(this.height,"px"):this.element.style.height=this.height,this.element.classList.add("geographical-view-chart"),this.leaflet.map=w.map(this.element,{minZoom:this.minZoom,maxZoom:this.maxZoom}),this.leaflet.map.on("moveend",this._update.bind(this)),this.leaflet.map.on("zoomend",this._removeClusterPreview.bind(this)),this.leaflet.map.attributionControl.setPosition("bottomleft"),this.showScrollLock?this._createCustomZoomControl():this.leaflet.map.zoomControl.setPosition("bottomright"),this.leaflet.markers=w.geoJson(null,{pointToLayer:this._createPointLayer.bind(this)}).addTo(this.leaflet.map),this._changeTileLayer(this.theme),this._addEventListeners(),this.colorScale=new wt,this.colorScale.init(),this.colorScale.range(["critical","major","minor"])}},{key:"destroy",value:function(){this._removeEventListeners()}},{key:"flyTo",value:function(e,t){this.leaflet.map.flyTo(e,t)}},{key:"setView",value:function(e,t){this.leaflet.map.setView(e,t)}},{key:"draw",value:function(e){e.alerts&&e.alerts.length>0&&(this.alerts=e.alerts,this.colorScale.domain(e.alerts.map((function(e){return e.name})))),this.supercluster.setAlerts(this.alerts),this.supercluster.load(e.nodes),this._update()}},{key:"_createCustomZoomControl",value:function(){this.leaflet.map.zoomControl.remove(),w.Control.Zoom=w.Control.Zoom.extend({options:{position:"bottomright"},onAdd:this._addScollLockLink.bind(this)}),w.control.zoom=function(e){return new w.Control.Zoom(e)},w.control.zoom().addTo(this.leaflet.map)}},{key:"_addScollLockLink",value:function(e){e.zoomControl._map=e;var t=e.zoomControl._container;return this.lockLink=w.DomUtil.create("a","lock",t),w.DomEvent.on(this.lockLink,"click",this._toggleLock.bind(this)),this._updateLock(),t}},{key:"_toggleLock",value:function(){this.locked=!this.locked,this._updateLock()}},{key:"_updateLock",value:function(){var e="Scrolling to zoom currently ".concat(this.locked?"disabled":"enabled",".");this.lockLink.setAttribute("aria-label",e),this.lockLink.setAttribute("title",e),this.locked?(this.lockLink.classList.add("locked"),this.leaflet.map.scrollWheelZoom.disable()):(this.lockLink.classList.remove("locked"),this.leaflet.map.scrollWheelZoom.enable())}},{key:"_addEventListeners",value:function(){document.addEventListener("switchTheme",this.listeners.switchTheme)}},{key:"_removeEventListeners",value:function(){document.removeEventListener("switchTheme",this.listeners.switchTheme)}},{key:"_changeTileLayer",value:function(e){this.leaflet.tileLayer&&this.leaflet.map.removeLayer(this.leaflet.tileLayer),this.leaflet.tileLayer=w.tileLayer(this.tileLayers[e],{attribution:this.attribution}).addTo(this.leaflet.map)}},{key:"_update",value:function(){if(this.supercluster.points){var e=this.leaflet.map.getBounds(),t=[e.getWest(),e.getSouth(),e.getEast(),e.getNorth()],n=this.leaflet.map.getZoom(),i=this.supercluster.getClusters(t,n);this.leaflet.markers.clearLayers(),this.leaflet.markers.addData(i)}}},{key:"_createPointLayer",value:function(e,t){return e.properties.pointCount>0?this._createClusterMarker(e,t):this._createPointMarker(e.properties.nodes[0],t)}},{key:"_createClusterMarker",value:function(e,t){var n=this,i=e.properties.pointCount,r=i,a=["eds-circle-outer"],s=this._smOuterClusterSize;r>999&&(r="999+"),i>999?(s=this._xlOuterClusterSize,a.push("xl")):i>99?(s=this._lgOuterClusterSize,a.push("lg")):i>9?(s=this._mdOuterClusterSize,a.push("md")):(s=this._smOuterClusterSize,a.push("sm"));var o=0;e.properties.sumAlert.forEach((function(e){return o+=e.value}));var l="";if(o>0){var u=i-o;l+='<svg class="eds-circle-outline">';var c=0;if(l+=e.properties.sumAlert.map((function(e){var t=n.colorScale.get()(e.name),r=n._arcCircle(s/2,s/2,s/2-4,c/i*Math.PI*2,(c+e.value)/i*Math.PI*2-.1);return c+=e.value,'<path class="eds-circle-arc '.concat(t,'" d="').concat(r,'"></path>')})).join(""),u){var d=this._arcCircle(s/2,s/2,s/2-4,c/i*Math.PI*2,(c+u)/i*Math.PI*2-.1);l+='<path class="eds-circle-arc active" d="'.concat(d,'"></path>')}l+="</svg>"}else l+='<div class="eds-circle-outline">',l+="</div>";var h=w.divIcon({iconSize:null,className:"eds-cluster",html:'\n        <div class="'.concat(a.join(" "),'">\n          ').concat(l,'\n          <div class="eds-circle-inner">\n            <span>').concat(r,'</span>\n            <i class="icon icon-resize-up"></i>\n          </div>\n        </div>\n      ')});return w.marker(t,{icon:h,zIndexOffset:2e7}).on("mousemove",(function(t){return n._onClusterMouseMove.bind(n)(t,e)})).on("mouseout",this._onClusterMouseOut.bind(this)).on("click",(function(e){return n._onClusterClick.bind(n)(e)}))}},{key:"_createPointMarker",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Ot(e);if(this.leaflet.map.getZoom()>this.maxSmallZoom){var a=this._toggleNodeSelection.bind(this);r===Mt&&(a=this._toggleStaticNodeSelection.bind(this));var s=w.marker(t,{icon:this._createMarkerIcon(e,i),zIndexOffset:3e7}).on("click",a);return s}return w.marker(t,{icon:this._createSmallMarkerIcon(e),zIndexOffset:1e7}).on("click",(function(e){return n.leaflet.map.flyTo(e.latlng,n.maxSmallZoom+1)}))}},{key:"_createDefaultTooltip",value:function(e){var t,n,i=document.createElement("table"),r=document.createElement("tbody");if(e.tooltip&&e.tooltip.preview){var a=document.createElement("tr"),s=document.createElement("td"),o=document.createElement("img");o.src=e.tooltip.preview,s.appendChild(o),a.appendChild(s),r.appendChild(a)}if(e.tooltip&&e.tooltip.title){var l=document.createElement("tr"),u=document.createElement("td"),c=document.createElement("b");c.innerText=e.tooltip.title,u.appendChild(c),l.appendChild(u),r.appendChild(l)}e.tooltip&&e.tooltip.rows&&e.tooltip.rows.forEach((function(e){t=document.createElement("tr"),(n=document.createElement("td")).innerText=e,t.appendChild(n),r.appendChild(t)}));return i.appendChild(r),i}},{key:"_createMarkerIcon",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=Ot(e);if(i===Mt){var r=["eds-circle-outer"];this._selectedNodes[e.key]&&r.push("selected");var a="";return e.icon&&e.icon.startsWith("icon-")?a='<i class="icon '.concat(e.icon,'"></i>'):e.icon&&e.icon.length<3&&(a="<span>".concat(e.icon,"</span>")),w.divIcon({iconSize:null,className:"eds-static-marker",html:'\n          <div class="eds-circle-wrapper">\n            <div class="'.concat(r.join(" "),'">\n              <div class="eds-circle-inner">\n                ').concat(a,"\n              </div>\n            </div>\n          </div>\n        ")})}var s=e.alerts&&e.alerts.length>0,o=["eds-circle-outer"];i!==St&&o.push("active"),i===Pt&&o.push("maintenance"),this._selectedNodes[e.key]&&o.push("selected");var l=this.supercluster.maxAlertName(e);l&&o.push(this.colorScale.get()(l));var u="";if(void 0!==e.direction){var c=(e.direction-90)%360;u=i!==St?'\n            <div class="eds-direction-wrapper">\n              <div class="eds-direction-rotate" style="transform: rotate('.concat(c,'deg)">\n                <div class="eds-direction-arrow"></div>\n              </div>\n            </div>'):'<div class="eds-direction-wrapper">\n            <div class="icon icon-cross-small"></div>\n          </div>'}var d="";if(!0!==n){var h="";s&&i!==St&&(h+='<div class="eds-alerts">',h+=e.alerts.map((function(e){return'<span class="eds-alert '.concat(t.colorScale.get()(e.name),'">').concat(e.value,"</span>")})).join(""),h+="</div>"),d="<p>".concat(e.name,"</p>").concat(h)}var f="";return e.icon&&e.icon.startsWith("icon-")?f='<i class="icon '.concat(e.icon,'"></i>'):e.icon&&e.icon.length<3&&(f="<span>".concat(e.icon,"</span>")),w.divIcon({iconSize:null,className:"eds-marker",html:'\n          <div class="eds-circle-wrapper">\n            <div class="'.concat(o.join(" "),'">\n              ').concat(u,'\n              <div class="eds-circle-inner">\n                ').concat(f,"\n              </div>\n            </div>\n            ").concat(d,"\n          </div>\n        ")})}},{key:"_createSmallMarkerIcon",value:function(e){var t=Ot(e);if(t===Mt)return w.divIcon({iconSize:null,className:"eds-small-static-marker",html:'\n          <div class="eds-circle-outer">\n            <div class="eds-circle-inner">\n            </div>\n          </div>\n        '});var n=["eds-circle-outer"];t!==St&&n.push("active"),t===Pt&&n.push("maintenance");var i=this.supercluster.maxAlertName(e);i&&t!==St&&n.push(this.colorScale.get()(i));var r="";if(void 0!==e.direction){var a=(e.direction-90)%360;r=t!==St?'\n            <div class="eds-direction-wrapper">\n              <div class="eds-direction-rotate" style="transform: rotate('.concat(a,'deg)">\n                <div class="eds-direction-arrow"></div>\n              </div>\n            </div>'):'<div class="eds-direction-wrapper">\n            <div class="icon icon-cross-small"></div>\n          </div>'}return w.divIcon({iconSize:null,className:"eds-small-marker",html:'\n          <div class="'.concat(n.join(" "),'">\n            ').concat(r,'\n            <div class="eds-circle-inner">\n            </div>\n          </div>\n        ')})}},{key:"_createClusterPreview",value:function(e){var t=this;this.leaflet.hoverMarkers||(this.leaflet.map.getZoom()>this.maxSmallZoom?this.leaflet.hoverMarkers=e.map((function(e){return w.marker([e.y,e.x],{icon:t._createMarkerIcon(e,!0),zIndexOffset:1e7}).addTo(t.leaflet.map)})):this.leaflet.hoverMarkers=e.map((function(e){return w.marker([e.y,e.x],{icon:t._createSmallMarkerIcon(e),zIndexOffset:1e7}).addTo(t.leaflet.map)})))}},{key:"_removeClusterPreview",value:function(){var e=this;this.leaflet.hoverMarkers&&(this.leaflet.hoverMarkers.forEach((function(t){e.leaflet.map.removeLayer(t)})),this.leaflet.hoverMarkers=void 0)}},{key:"_onClusterMouseMove",value:function(e,t){var n=e.originalEvent.target,i=t.properties.nodes,r=n.closest(".eds-cluster").querySelector(".eds-circle-inner");(n===r||r.contains(n))&&i.length<24?this._createClusterPreview(i):this._removeClusterPreview()}},{key:"_onClusterMouseOut",value:function(){this._removeClusterPreview()}},{key:"_onClusterClick",value:function(e){var t=e.originalEvent.target,n=e.target.feature.properties.clusterID,i=t.closest(".eds-cluster").querySelector(".eds-circle-inner");if((t===i||i.contains(t))&&n){var r=this.supercluster.getClusterExpansionZoom(n);this.leaflet.map.flyTo(e.latlng,r)}}},{key:"_toggleNodeSelection",value:function(e){var t=e.originalEvent.target.closest(".eds-marker"),n=e.target.feature.properties.nodes[0];t&&this._toggleSelection(t,n)}},{key:"_toggleStaticNodeSelection",value:function(e){var t=e.originalEvent.target.closest(".eds-static-marker"),n=e.target.feature.properties.nodes[0];t&&this._toggleSelection(t,n)}},{key:"_toggleSelection",value:function(e,t){var n=this,i=e.querySelector(".eds-circle-outer");this._selectedNodes[t.key]?(i.classList.remove("selected"),delete this._selectedNodes[t.key]):(i.classList.add("selected"),this._selectedNodes[t.key]=t),this.onSelect(Object.keys(this._selectedNodes).map((function(e){return n._selectedNodes[e]})))}},{key:"_arcCircle",value:function(e,t,n,i,r){var a=this._polarToCartesian(e,t,n,r),s=this._polarToCartesian(e,t,n,i),o=r-i<=Math.PI?"0":"1";return["M",a.x,a.y,"A",n,n,0,o,0,s.x,s.y].join(" ")}},{key:"_polarToCartesian",value:function(e,t,n,i){return{x:e+n*Math.cos(i-Math.PI/2),y:t+n*Math.sin(i-Math.PI/2)}}}]),e}(),Et=function(){function e(t){v(this,e),this.data=t.data,this.element=t.element,this.format=c({input:"%Y-%m-%d"},t.format),this.height=t.height||250,this.margin=c({top:25,right:25,bottom:35,left:35},t.margin),this.showTotal=t.showTotal||!0,this.tooltip=c({format:{title:null,value:".2f"},isHidden:!1},t.tooltip),this.legendProps=c({isHidden:!1},t.legend),this.x=c({scaleType:"time",unit:""},t.x),this.y=c({decimalOffset:0,isPercentage:!1,unit:null},t.y),this.emptyState=t.error||null,this.colorScale=t.colorScale||this._newColorScale(),this.animationSpeed=980,this.axisPadding=8,this.fontSize=14,this.id=Date.now(),(this.y.unit||this._showPercentage())&&(this.margin.top+=this.fontSize+this.axisPadding),this.x.unit&&(this.margin.bottom+=this.fontSize+this.axisPadding),this.isNegative=!0}return g(e,[{key:"_newColorScale",value:function(){var e=new Ae({data:this.data});return e.init(),e}},{key:"_showPercentage",value:function(){return null===this.y.unit&&this.y.isPercentage}},{key:"init",value:function(){this._parseData(),this._createCommonComponents(),this.element.classList.add("stacked-area-container"),this.stage.onResize(this._render.bind(this)),this.canvas=this.stage.getCanvas(),this._render()}},{key:"_parseData",value:function(e){this.data=e||this.data,this._parseDates(),this._sortCommonData(this.data.common,this.x.scaleType),this.isNegative=this._isNegative(),this.stackedData=this._stackData(this.data),this.stackedData.summary=this._getSummary(this.stackedData)}},{key:"_parseDates",value:function(){var e=this;"time"===this.x.scaleType&&this.data.common.forEach((function(t,n){if(!(t instanceof Date)){var i=Te.formatTime(e.format.input)(new Date(t));e.data.common[n]=x.timeParse(e.format.input)(i)}}))}},{key:"_sortCommonData",value:function(e,t){"time"===t?e.sort((function(e,t){return new Date(e)-new Date(t)})):"linear"===t&&e.sort((function(e,t){return e-t}))}},{key:"_isNegative",value:function(){var e=this;return!this.y.isPercentage&&(this.data.series.length>0?this.data.common.map((function(t,n){return e._addColumn(e.data.series,n)})).reduce((function(t,n){return e._mostExtreme(t,n)}))<0:this.isNegative)}},{key:"_addColumn",value:function(e,t,n){var i=this;return e.map((function(e){return e.values[t]})).filter((function(t,r){return i._isWithinLimit(r,n,e.length)})).reduce((function(e,t){return e+Number(t)}),0)}},{key:"_isWithinLimit",value:function(e,t,n){return this.isNegative?e<this._useValueOrFallback(t,n):e>this._useValueOrFallback(t,-1)}},{key:"_useValueOrFallback",value:function(e,t){return void 0===e?t:e}},{key:"_mostExtreme",value:function(e,t){return Math.abs(e)>Math.abs(t)?e:t}},{key:"_stackData",value:function(e){var t=this,n={};return n.series=e.series.map((function(e,n){return t._stackSeries(e,n)})),n.common=e.common,n}},{key:"_stackSeries",value:function(e,t){var n=this,i={};return i.name=e.name,i.values=[],i.stack=e.values.map((function(e,r){var a=n._addColumn(n.data.series,r,t),s=n._transform(e,r),o=n._transform(a,r),l=s+o;return i.values[r]=s,[o,l]})),i}},{key:"_transform",value:function(e,t){var n=Number(e);return this.y.isPercentage?this._toPercent(n,t):0!==this.y.decimalOffset?this._decimalOffset(n):n}},{key:"_toPercent",value:function(e,t){return 100*e/this._addColumn(this.data.series,t)}},{key:"_decimalOffset",value:function(e){return e*Math.pow(10,this.y.decimalOffset)}},{key:"_getSummary",value:function(e){var t=[];return this.showTotal&&t.push(this._getTotal(e)),t}},{key:"_getTotal",value:function(e){return{name:"Total",values:this._getTotalValues(e)}}},{key:"_getTotalValues",value:function(e){var t=this;return e.series.length>0?e.common.map((function(n,i){return t._addColumn(e.series,i)})):[]}},{key:"_createCommonComponents",value:function(){this.legend=this._createNewLegend(),this.legend.init(),this.legend.update(this.data.series.map((function(e){return{name:e.name}}))),this.stage=this._createNewStage(),this.stage.init(),this.tooltipBox=this._createNewTooltipBox(),this.tooltipBox.init(),this._createEmptyState()}},{key:"_createNewLegend",value:function(){return new Ce({element:this.element,draw:this.draw.bind(this),hidden:this.legendProps.isHidden,highlight:this._highlight.bind(this),colorScale:this.colorScale})}},{key:"_highlight",value:function(e){var t=this.canvas.selectAll(".series");e?t.classed("dim",(function(t){return t.name!==e})):t.classed("dim",!1)}},{key:"_createNewStage",value:function(){return new Ee({element:this.element,margin:this.margin,height:this.height})}},{key:"_createNewTooltipBox",value:function(){return new Ne({element:this.element,hoverClass:"mouse-area"})}},{key:"_createEmptyState",value:function(){this.emptyStateBox=new Re({element:this.element,height:this.element.offsetHeight,border:!0,settings:this.emptyState}),this.emptyStateBox.init()}},{key:"_showUnits",value:function(){return this.y.unit?this.y.unit:""}},{key:"_render",value:function(){this.width=this.stage.getCanvasWidth(),Fe(this.element,Be(this.data)),this.xScale=this._getXScale(),this._getXAxis().init(),this.yScale=this._getYScale(),this._getYAxis().init();var e=this._getSeriesGroup();this._enter(e),this._update(),this._exit(e),this._initTooltip(),this._saveOldState()}},{key:"_getXScale",value:function(){switch(this.x.scaleType){case"linear":return x.scaleLinear().domain(x.extent(this.data.common)).range([0,this.width]);case"point":return x.scalePoint().domain(this.data.common).range([0,this.width]);default:return x.scaleTime().domain(x.extent(this.data.common)).range([0,this.width])}}},{key:"_getXAxis",value:function(){return new qe({position:"bottom",canvas:this.canvas,x:this.xScale,width:this.width,height:this.height,margin:this.margin,fontSize:14,axisPadding:8,hasDomain:!0,unit:this.x.unit,tickFormat:this._getXTickFormat(),animationSpeed:this.animationSpeed})}},{key:"_getXTickFormat",value:function(){if(this.x.tickFormat)return"time"===this.x.scaleType?x.timeFormat(this.x.tickFormat):x.format(this.x.tickFormat)}},{key:"_getYScale",value:function(){return x.scaleLinear().domain([this._getMin(),this._getMax()]).nice().range([this.height,0])}},{key:"_getMin",value:function(){return x.min(this.stackedData.series,(function(e){return x.min(e.stack,(function(e){return Math.min(e[0],e[1])}))}))}},{key:"_getMax",value:function(){return x.max(this.stackedData.series,(function(e){return x.max(e.stack,(function(e){return Math.max(e[0],e[1])}))}))}},{key:"_getYAxis",value:function(){return new qe({position:"left",canvas:this.canvas,y:this.yScale,width:this.width,height:this.height,margin:this.margin,fontSize:14,axisPadding:10,hasDomain:!1,ticks:this.height/60,tickFormat:this._getYTickFormat(),unit:this._showPercentage()?"Percent (%)":this.y.unit})}},{key:"_getYTickFormat",value:function(){if(this.y.tickFormat)return x.format(this.y.tickFormat)}},{key:"_getSeriesGroup",value:function(){var e=this.canvas.classed("stacked-area-chart",!0);return this._selectOrAppend(e,"series-group","g",{"clip-path":"url(#".concat(this.id,")")}).selectAll(".series").data(this.stackedData.series,(function(e){return e.name}))}},{key:"_selectOrAppend",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"g",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return e.select(".".concat(t)).empty()?this._attrs(e.append(n).classed(t,!0),i):e.select(".".concat(t))}},{key:"_attrs",value:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.attr(n,t[n]);return e}},{key:"_enter",value:function(e){var t=this,n=e.enter(),i=this._appendSeries(n);["fill","line"].forEach((function(n){t._appendPathAndUpdate(i,n),e.merge(i).select(".".concat(n))}))}},{key:"_appendSeries",value:function(e){return e.append("g").classed("series",!0).attr("name",(function(e){return e.name}))}},{key:"_appendPathAndUpdate",value:function(e,t){var n=e.append("path"),i=this._getEnterMode();return this._updateDataAndClass(n,t,i)}},{key:"_getEnterMode",value:function(){return{scaleX:this.xScale,scaleY:void 0===this.oldYScale?this.yScale:this.oldYScale,expand:void 0===this.oldYScale}}},{key:"_updateDataAndClass",value:function(e,t,n){var i=this._getDataFunction(t),r=this._addData(e,i(n));return this._addClass(r,t)}},{key:"_getDataFunction",value:function(e){return("fill"===e?this._area:this._line).bind(this)}},{key:"_area",value:function(e){var t=this,n=e.scaleX,i=e.scaleY,r=e.expand;return x.area().x((function(e,i){return n(t._getCommon()[i])})).y0((function(e){return i(t._getTargetVal(e,r,0))})).y1((function(e){return i(t._getTargetVal(e,r))}))}},{key:"_getCommon",value:function(){return this.data.series.length>0?this.data.common:this.oldCommon}},{key:"_getTargetVal",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;return this.y.isPercentage&&!t?this._calculateTargetPercentage(e):e[+n]}},{key:"_calculateTargetPercentage",value:function(e){var t=100*e[0]/(100-(e[1]-e[0]));return isNaN(t)?0:t}},{key:"_line",value:function(e){var t=this,n=e.scaleX,i=e.scaleY,r=e.expand;return x.line().defined((function(e){return!isNaN(e[+r])})).x((function(e,i){return n(t._getCommon()[i])})).y((function(e){return i(t._getTargetVal(e,r))}))}},{key:"_addData",value:function(e,t){return e.attr("d",(function(e){return t(e.stack)}))}},{key:"_addClass",value:function(e,t){var n=this;return e.attr("class",(function(e){return"".concat(t," ").concat(n.colorScale.get()(e.name))}))}},{key:"_update",value:function(){if(this.data.series.length>0){var e={scaleX:this.xScale,scaleY:this.yScale,expand:!0};this._transitionAndUpdate(e)}}},{key:"_transitionAndUpdate",value:function(e,t,n){var i=this;["fill","line"].forEach((function(r){var a=i._selectPath(r,t),s=i._getTransition(a,n);i._updateDataAndClass(s,r,e)}))}},{key:"_selectPath",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.canvas;return t.selectAll(".series .".concat(e))}},{key:"_getTransition",value:function(e,t){return e.transition().duration(this.animationSpeed).on("end",t)}},{key:"_exit",value:function(e){var t=e.exit(),n=this._getExitMode();this._transitionAndUpdate(n,t,(function(){t.remove()}))}},{key:"_getExitMode",value:function(){return{scaleX:this.data.series.length>0?this.xScale:this.oldXScale,scaleY:this.data.series.length>0?this.yScale:this.oldYScale,expand:!1}}},{key:"_initTooltip",value:function(){if(!this.tooltip.isHidden){this.xCommon=this._getXCommon(),this.midpoints=this._getMidpoints(this.xCommon),this.tooltipLine=this._selectOrAppend(this.canvas,"tooltip-line","path");var e=this._appendCirclesGroup(),t=this._appendMouseArea();this._addMouseEvents(t),e.exit().remove()}}},{key:"_getXCommon",value:function(){var e=this;return this.data.common.map((function(t){return e.xScale(t)}))}},{key:"_getMidpoints",value:function(e){return e.map((function(t,n){return n-1>=0?t-(t-e[n-1])/2:t}))}},{key:"_appendCirclesGroup",value:function(){var e=this;return this._selectOrAppend(this.canvas,"circles").selectAll(".tooltip-circle").data(this.stackedData.series,(function(e){return e.name})).enter().append("circle").attr("r",3).attr("opacity",0).attr("class",(function(t){return"tooltip-circle ".concat(e.colorScale.get()(t.name))}))}},{key:"_appendMouseArea",value:function(){return this._selectOrAppend(this.canvas,"mouse-area","svg:rect").attr("width",this.width).attr("height",this.height).attr("fill","blue").attr("opacity",0).attr("pointer-events","all")}},{key:"_addMouseEvents",value:function(e){var t=this;e.on("touchmove mousemove",(function(e){t._interruptTransition(),t.coord=x.pointer(e),t.showTooltip()}),{passive:!0}),e.on("touchend mouseleave",(function(){t.coord=null,t.hideTooltip()}),{passive:!0})}},{key:"_interruptTransition",value:function(){this.canvas.selectAll(".tooltip-circle").interrupt(),this.tooltipLine.interrupt()}},{key:"showTooltip",value:function(e){var t=this;if(this.coord){var n=this._getCommonIndex();if(this.xPosition=this._getXPosition(n),n>-1){var i;if(this._positionTooltipCircles(n,e),this._positionTooltipLine(e),"time"===this.x.scaleType)i=Te.formatTime(this.tooltip.format.title)(this.stackedData.common[n]);else{var r=Te.formatNumber(this.tooltip.format.title)(this.stackedData.common[n]);i=isNaN(r)?this.stackedData.common[n]:r+" "+this.x.unit}this.tooltipBox.update([{line:!0,values:[{value:i},{value:this._showPercentage()?"%":this._showUnits()}]}].concat(l(this.stackedData.series.map((function(e,i){return{values:[{icon:["icon","icon-alarm-level6",t.colorScale.get()(e.name)].join(" "),value:e.name},{bold:!0,value:Te.formatNumber(t.tooltip.format.value)(e.values[n])}],line:i===t.stackedData.series.length-1}}))),[{values:[{value:this.stackedData.summary[0].name},{bold:!0,value:Te.formatNumber(this.tooltip.format.value)(this.stackedData.summary[0].values[n])}]}]))}}}},{key:"_getCommonIndex",value:function(){return x.bisect(this.midpoints,this.coord[0])-1}},{key:"_getXPosition",value:function(e){return this.xCommon[e]||0}},{key:"_positionTooltipCircles",value:function(e,t){var n=this;return this._isTransition(this.canvas.selectAll(".tooltip-circle").attr("opacity",(function(e){return n._isVisible(n.data.series,e)})),t).attr("cx",this.xPosition).attr("cy",(function(t){return n.yScale(t.stack[e][1])}))}},{key:"_isTransition",value:function(e,t){return t?this._getTransition(e):e}},{key:"_isVisible",value:function(e,t){return e.filter((function(e){return e.name===t.name})).length<1?0:1}},{key:"_positionTooltipLine",value:function(e){return this._isTransition(this.tooltipLine.attr("opacity",1).attr("d","M0,".concat(0,"L0,",this.height)),e).attr("transform","translate(".concat(this.xPosition,",0)"))}},{key:"hideTooltip",value:function(){this.tooltipLine.attr("opacity",0),this.canvas.selectAll(".tooltip-circle").attr("opacity",0)}},{key:"_saveOldState",value:function(){this.data.series.length>0&&(this.oldYScale=this.yScale,this.oldXScale=this.xScale,this.oldCommon=this.stackedData.common)}},{key:"draw",value:function(e,t){this._parseData(e),this._resetChart(t),this._render()}},{key:"_resetChart",value:function(e){this.legend.pills.length||this.legendProps.isHidden||(x.select(this.element).selectAll(".chart-legend").remove(),this.colorScale=e||this._newColorScale(),this.legend=this._createNewLegend(),this.legend.init())}},{key:"update",value:function(e){this._setProps(e),this._parseData(),this._render()}},{key:"_setProps",value:function(e){for(var t in e)Object.prototype.hasOwnProperty.call(this,t)&&"data"!==t&&(this[t]=e[t])}},{key:"destroy",value:function(){this.stage.destroy()}}]),e}(),At="High whisker",Ct="Q3 (75th percentile)",Tt="Median",Dt="Q1 (25th percentile)",It="Low whisker",Nt=function(){function e(t){v(this,e),this.data=t.data,this.element=t.element,this.height=t.height||250,this.margin=c({left:32,right:16,top:24,bottom:32},t.margin),this.x=c({unit:"",isTime:!1},t.x),this.y=c({unit:""},t.y),this.tooltip=c({format:{title:null,value:",.2f"}},t.tooltip),this.legendProps=c({isHidden:!1},t.legend),this.colorScale=t.colorScale||this._newColorScale(),this.boxWidth=t.boxWidth-2||46,this.boxGap=4,this.radius=3,this.showSwitch=t.showSwitch||!1,this.showPoints=!1,this.jitterWidth=this.boxWidth/2,this.axisPadding=8,this.fontSize=14,this.animationSpeed=400,this.xScale=null,this.yScale=null,this.y.unit&&(this.margin.top+=this.fontSize+this.axisPadding),this.x.unit&&(this.margin.bottom+=this.fontSize+this.axisPadding),this.whiskers=t.whiskers||null,this.emptyState=t.error||null,this.onSelect=t.onSelect||function(){}}return g(e,[{key:"_newColorScale",value:function(){var e=new Ae({data:this.data});return e.init(),e}},{key:"init",value:function(){this.stage=new Ee({element:this.element,margin:this.margin,height:this.height}),this.stage.init(),this.stage.onResize(this.draw.bind(this)),this.canvas=this.stage.getCanvas(),this.canvas.classed("box-plot",!0),this._initLegend(),this._initTooltip(),this.showSwitch&&this._initSwitch(),this._initEmptyState(),this.draw()}},{key:"draw",value:function(e,t){var n=this;this.data=e||this.data,this.legend.pills.length||this.legendProps.isHidden||(x.select(this.element).selectAll(".chart-legend").remove(),this.colorScale=t||this._newColorScale(),this._initLegend()),Fe(this.element,Be(this.data)),Be(this.data)&&(e&&this.legend.update(this.data.series.map((function(e){return{name:e.name}}))),this.filteredData={common:this.data.common,series:this.data.series.filter((function(e){return!0===n.legend.getFilter()[e.name]}))},this.x.isTime&&this.filteredData.common.forEach((function(e,t){e instanceof Date||(n.filteredData.common[t]=new Date(e))})),this.width=this.stage.getCanvasWidth(),this._createX(),this._createY(),this._createBoxes())}},{key:"_initLegend",value:function(){this.legend=new Ce({element:this.element,draw:this.draw.bind(this),hidden:this.legendProps.isHidden,highlight:this._highlight.bind(this),colorScale:this.colorScale}),this.legend.init(),this.legend.update(this.data.series.map((function(e){return{name:e.name}})))}},{key:"_initTooltip",value:function(){this.tooltipBox=new Ne({element:this.element,hoverClass:["box-hover","outlier","point"]}),this.tooltipBox.init()}},{key:"_initSwitch",value:function(){var e=this,t="116px";x.select(this.element).style("position","relative"),this.switch=x.select(this.element).append("div").classed("switch-wrap",!0).style("width",t).style("position","absolute").style("top","2px").style("right","0"),x.select(this.element).select(".chart-legend").style("padding-right",t);var n=this.switch.append("label").classed("switch",!0),i=n.append("input").attr("type","checkbox").on("click",(function(){e.showPoints=this.checked,e.canvas.selectAll("circle.point").classed("hidden",!e.showPoints)}));this.showPoints&&i.attr("checked",!0),n.append("i").classed("ball",!0),n.append("span").attr("data-enabled","Show all data").attr("data-disabled","Outliers only")}},{key:"_initEmptyState",value:function(){this.emptyStateBox=new Re({element:this.element,height:this.element.offsetHeight,border:!0,settings:this.emptyState}),this.emptyStateBox.init()}},{key:"_createX",value:function(){this.xScale=x.scaleBand().domain(this.filteredData.common).rangeRound([0,this.width]).paddingInner(.3).paddingOuter(.3),this.xAxis=new qe({position:"bottom",canvas:this.canvas,x:this.xScale,width:this.width,height:this.height,margin:this.margin,fontSize:this.fontSize,axisPadding:this.axisPadding,unit:this.x.unit,tickFormat:Te.formatAxis(this.x.tickFormat,this.x.isTime),hasDomain:!0}),this.xAxis.init()}},{key:"_createY",value:function(){this.yScale=x.scaleLinear().domain([x.min(this.filteredData.series,(function(e){return x.min([].concat.apply([],e.values))})),x.max(this.filteredData.series,(function(e){return x.max([].concat.apply([],e.values))}))]).nice().range([this.height,0]),this.yAxis=new qe({position:"left",canvas:this.canvas,y:this.yScale,width:this.width,height:this.height,margin:this.margin,fontSize:this.fontSize,axisPadding:this.axisPadding,ticks:this.height/80,tickFormat:Te.formatAxis(this.y.tickFormat,this.y.isTime),unit:this.y.unit}),this.yAxis.init()}},{key:"_createBoxes",value:function(){var e=this,t=this.canvas.select(".groups").empty()?this.canvas.append("g").classed("groups",!0):this.canvas.select(".groups"),n=this.filteredData.series.length*this.boxWidth+(this.filteredData.series.length-1)*this.boxGap,i=t.selectAll(".group").data(this.filteredData.common);i.exit().remove();var r=i.enter().append("g").attr("class","group").merge(i);r.transition().duration(this.animationSpeed).attr("transform",(function(t){return"translate(".concat(e.xScale(t)+(e.xScale.bandwidth()-n)/2,",0)")}));var a=r.selectAll(".bar").data((function(t,n){return e.filteredData.series.map((function(t){var i=e._boxPlotStat(t.values[n]);return c({key:t.name,values:t.values[n],xValue:e.filteredData.common[n],index:n},i)}))}),(function(e){return e.key}));a.exit().remove();var s=a.enter().append("g").attr("class","bar").call(this._onEnterBox.bind(this)).merge(a).attr("transform",(function(t,n){return"translate(".concat(n*e.boxGap,", 0)")})).call(this._onUpdateBox.bind(this));this._createOutliers(s),this.showSwitch&&this._createPoints(s)}},{key:"_createOutliers",value:function(e){var t=this,n=e.selectAll(".outlier").data((function(e){return e.outliers.map((function(n){return{key:e.key,value:n,xValue:e.xValue,index:t.filteredData.common.indexOf(e.xValue)}}))}));n.exit().remove(),n.enter().append("circle").attr("class",(function(e){return"outlier "+t.colorScale.get()(e.key)})).attr("r",this.radius).on("mouseover",(function(e,n){return t._onCircleMouseover(e,n)})).on("mouseout",(function(){return t._onCircleMouseout()})).on("click",(function(e,n){return t.onSelect(n)})).merge(n).transition().duration(this.animationSpeed).attr("cx",(function(e){return t.filteredData.series.findIndex((function(t){return t.name===e.key}))*t.boxWidth+t.boxWidth/2})).attr("cy",(function(e){return t.yScale(e.value)}))}},{key:"_onCircleMouseover",value:function(e,t){var n=this.canvas.selectAll(".bar"),i=x.select(e.currentTarget.parentNode);this.tooltipBox.update([{line:!0,values:[{value:this._getTooltipTitle(t)},{value:this.y.unit}]},{values:[{value:t.key},{bold:!0,value:Te.formatNumber(this.tooltip.format.value)(t.value)}]}]),n.attr("opacity",".2"),i.attr("opacity",1)}},{key:"_onCircleMouseout",value:function(){this.canvas.selectAll(".bar").attr("opacity","1")}},{key:"_createPoints",value:function(e){var t=this,n=e.selectAll(".point").data((function(e){return e.values.filter((function(t){return!e.outliers.includes(t)})).map((function(n){return{key:e.key,value:n,index:t.filteredData.common.indexOf(e.xValue)}}))}));n.exit().remove(),n.enter().append("circle").attr("class",(function(e){return"point "+t.colorScale.get()(e.key)})).classed("hidden",!this.showPoints).attr("r",this.radius).on("mouseover",(function(e,n){return t._onCircleMouseover(e,n)})).on("mouseout",(function(){return t._onCircleMouseout()})).on("click",(function(e,n){return t.onSelect(n)})).merge(n).transition().duration(this.animationSpeed).attr("cx",(function(e){var n=t.filteredData.series.findIndex((function(t){return t.name===e.key})),i=Math.random()*(t.jitterWidth/2- -t.jitterWidth/2+1)-t.jitterWidth/2;return n*t.boxWidth+t.boxWidth/2+i})).attr("cy",(function(e){return t.yScale(e.value)}))}},{key:"_boxPlotStat",value:function(e){var t=x.quantile(e.sort(x.ascending),.5),n=x.quantile(e.sort(x.ascending),.25),i=x.quantile(e.sort(x.ascending),.75),r=this._calculateR0(e,n,i),a=this._calculateR1(e,n,i),s=e.filter((function(e){return e<r||e>a}));return{median:t,q1:n,q3:i,r0:r,r1:a,outliers:s}}},{key:"_calculateR0",value:function(e,t,n){if(Array.isArray(this.whiskers)){var i=x.quantile(e.sort(x.ascending),this.whiskers[0]/100);return Math.max(x.min(e),i)}return Math.max(x.min(e),t-1.5*(n-t))}},{key:"_calculateR1",value:function(e,t,n){if(Array.isArray(this.whiskers)){var i=x.quantile(e.sort(x.ascending),this.whiskers[1]/100);return Math.max(x.min(e),i)}return Math.min(x.max(e),n+1.5*(n-t))}},{key:"_getR0Text",value:function(){return Array.isArray(this.whiskers)?0===this.whiskers[0]?"Minimum":"".concat(this.whiskers[0],"th percentile"):It}},{key:"_getR1Text",value:function(){return Array.isArray(this.whiskers)?0===this.whiskers[0]?"Maximum":"".concat(this.whiskers[1],"th percentile"):At}},{key:"_onEnterBox",value:function(e){var t=this;e.append("path").style("pointer-events","none").attr("class",(function(e){return"box "+t.colorScale.get()(e.key)})),e.append("rect").attr("class","box-hover").attr("width",this.boxWidth).attr("x",(function(e,n){return n*t.boxWidth})).attr("y",(function(e){return t.yScale(e.r1)})).attr("height",(function(e){return t.yScale(e.r0)-t.yScale(e.r1)})).attr("opacity",0).on("mouseover",(function(e,n){var i=t.canvas.selectAll(".bar"),r=x.select(e.currentTarget.parentNode);t.tooltipBox.update([{line:!0,values:[{value:t._getTooltipTitle(n)},{value:t.y.unit}]},{values:[{value:t._getR1Text()},{bold:!0,value:Te.formatNumber(t.tooltip.format.value)(n.r1)}]},{values:[{value:Ct},{bold:!0,value:Te.formatNumber(t.tooltip.format.value)(n.q3)}]},{values:[{value:Tt},{bold:!0,value:Te.formatNumber(t.tooltip.format.value)(n.median)}]},{values:[{value:Dt},{bold:!0,value:Te.formatNumber(t.tooltip.format.value)(n.q1)}]},{values:[{value:t._getR0Text()},{bold:!0,value:Te.formatNumber(t.tooltip.format.value)(n.r0)}]}]),i.attr("opacity",".2"),r.attr("opacity",1),r.selectAll(".outlier").attr("opacity",".2")})).on("mouseout",(function(e){var n=t.canvas.selectAll(".bar"),i=x.select(e.currentTarget.parentNode);n.attr("opacity","1"),i.selectAll(".outlier").attr("opacity","1")})).on("click",(function(e,n){return t.onSelect(n)}))}},{key:"_onUpdateBox",value:function(e){var t=this;e.select(".box").transition().duration(this.animationSpeed).attr("d",(function(e,n){return t._drawPath(e,n)})),e.select(".box-hover").attr("x",(function(e,n){return n*t.boxWidth})).attr("y",(function(e){return t.yScale(e.r1)})).attr("height",(function(e){return t.yScale(e.r0)-t.yScale(e.r1)}))}},{key:"_drawPath",value:function(e,t){var n=x.path(),i=.4*this.boxWidth/2;return n.moveTo(t*this.boxWidth,this.yScale(e.q3)),n.lineTo((t+1)*this.boxWidth,this.yScale(e.q3)),n.lineTo((t+1)*this.boxWidth,this.yScale(e.q1)),n.lineTo(t*this.boxWidth,this.yScale(e.q1)),n.lineTo(t*this.boxWidth,this.yScale(e.q3)),n.moveTo(t*this.boxWidth+this.boxWidth/2,this.yScale(e.r1)),n.lineTo(t*this.boxWidth+this.boxWidth/2,this.yScale(e.r0)),n.moveTo(t*this.boxWidth+i,this.yScale(e.r1)),n.lineTo((t+1)*this.boxWidth-i,this.yScale(e.r1)),n.moveTo(t*this.boxWidth+i,this.yScale(e.r0)),n.lineTo((t+1)*this.boxWidth-i,this.yScale(e.r0)),n.moveTo(t*this.boxWidth,this.yScale(e.median)-.5),n.lineTo((t+1)*this.boxWidth,this.yScale(e.median)-.5),n.moveTo(t*this.boxWidth,this.yScale(e.median)+.5),n.lineTo((t+1)*this.boxWidth,this.yScale(e.median)+.5),n.closePath(),n}},{key:"_highlight",value:function(e){var t=this.canvas.selectAll(".bar");e?t.attr("opacity",(function(t){return t.key===e?"1":".2"})):t.attr("opacity","1")}},{key:"_getTooltipTitle",value:function(e){return this.x.isTime?Te.formatTime(this.tooltip.format.title)(e.xValue):"number"==typeof e?Te.formatNumber(this.tooltip.format.title)(e.xValue):e.xValue}},{key:"destroy",value:function(){}}]),e}();n.Accordion=k,n.Appbar=S,n.Appnav=P,n.Breadcrumb=M,n.Calendar=O,n.Card=L,n.Carousel=E,n.Datepicker=A,n.Dialog=C,n.Drag=T,n.DropAreas=D,n.Dropdown=N,n.GroupButton=z,n.Layout=W,n.Menu=I,n.MultiPanelTile=Z,n.Notification=V,n.NotificationLog=U,n.Page=G,n.Tile=Y,n.Pagination=K,n.Pill=$,n.PillGroup=J,n.Prefill=Q,n.RangeSlider=ee,n.Select=X,n.ListBuilder=te,n.SignIn=ne,n.Spinner=ie,n.TabGroup=ae,n.TableSelectable=se,n.TimePicker=oe,n.Timeline=le,n.Tree=ue,n.Wizard=fe,n.Table=Me,n.GlobalNavigation=Oe,n.Gauge=Le,n.Donut=De,n.DataMarkers=ze,n.HorizontalBarChart=He,n.HorizontalBarChartGrouped=We,n.HorizontalBarChartStacked=Ze,n.VerticalBarChart=Ve,n.VerticalBarChartGrouped=Ue,n.VerticalBarChartStacked=Ye,n.LineChart=Ge,n.Heatmap=Ke,n.Histogram=$e,n.ScatterPlot=Qe,n.BubbleChart=et,n.RadarChart=tt,n.LogicalViewChart=nt,n.HierarchyChart=it,n.GeographicalViewChart=Lt,n.StackedAreaChart=Et,n.BoxPlot=Nt,n.ColorScale=Ae},{"core-js/modules/es.array-buffer.slice.js":197,"core-js/modules/es.array.concat.js":198,"core-js/modules/es.array.every.js":199,"core-js/modules/es.array.fill.js":200,"core-js/modules/es.array.filter.js":201,"core-js/modules/es.array.find-index.js":202,"core-js/modules/es.array.find.js":203,"core-js/modules/es.array.flat.js":204,"core-js/modules/es.array.for-each.js":205,"core-js/modules/es.array.from.js":206,"core-js/modules/es.array.includes.js":207,"core-js/modules/es.array.index-of.js":208,"core-js/modules/es.array.is-array.js":209,"core-js/modules/es.array.iterator.js":210,"core-js/modules/es.array.join.js":211,"core-js/modules/es.array.map.js":212,"core-js/modules/es.array.push.js":213,"core-js/modules/es.array.reduce.js":214,"core-js/modules/es.array.slice.js":215,"core-js/modules/es.array.some.js":216,"core-js/modules/es.array.sort.js":217,"core-js/modules/es.array.splice.js":218,"core-js/modules/es.array.unscopables.flat.js":219,"core-js/modules/es.array.unshift.js":220,"core-js/modules/es.date.now.js":221,"core-js/modules/es.date.to-iso-string.js":222,"core-js/modules/es.date.to-string.js":223,"core-js/modules/es.error.cause.js":224,"core-js/modules/es.error.to-string.js":225,"core-js/modules/es.function.bind.js":226,"core-js/modules/es.function.name.js":227,"core-js/modules/es.json.stringify.js":228,"core-js/modules/es.map.js":230,"core-js/modules/es.math.fround.js":231,"core-js/modules/es.number.constructor.js":232,"core-js/modules/es.number.to-fixed.js":233,"core-js/modules/es.object.assign.js":234,"core-js/modules/es.object.create.js":235,"core-js/modules/es.object.define-properties.js":236,"core-js/modules/es.object.define-property.js":237,"core-js/modules/es.object.get-own-property-descriptor.js":238,"core-js/modules/es.object.get-own-property-descriptors.js":239,"core-js/modules/es.object.get-prototype-of.js":241,"core-js/modules/es.object.keys.js":242,"core-js/modules/es.object.proto.js":243,"core-js/modules/es.object.set-prototype-of.js":244,"core-js/modules/es.object.to-string.js":245,"core-js/modules/es.parse-int.js":246,"core-js/modules/es.reflect.construct.js":247,"core-js/modules/es.reflect.to-string-tag.js":248,"core-js/modules/es.regexp.constructor.js":249,"core-js/modules/es.regexp.dot-all.js":250,"core-js/modules/es.regexp.exec.js":251,"core-js/modules/es.regexp.flags.js":252,"core-js/modules/es.regexp.sticky.js":253,"core-js/modules/es.regexp.test.js":254,"core-js/modules/es.regexp.to-string.js":255,"core-js/modules/es.set.js":257,"core-js/modules/es.string.bold.js":258,"core-js/modules/es.string.includes.js":259,"core-js/modules/es.string.iterator.js":260,"core-js/modules/es.string.match.js":261,"core-js/modules/es.string.replace.js":262,"core-js/modules/es.string.search.js":263,"core-js/modules/es.string.split.js":264,"core-js/modules/es.string.starts-with.js":265,"core-js/modules/es.string.substr.js":266,"core-js/modules/es.string.trim.js":267,"core-js/modules/es.symbol.description.js":269,"core-js/modules/es.symbol.iterator.js":271,"core-js/modules/es.symbol.js":272,"core-js/modules/es.typed-array.at.js":274,"core-js/modules/es.typed-array.copy-within.js":275,"core-js/modules/es.typed-array.every.js":276,"core-js/modules/es.typed-array.fill.js":277,"core-js/modules/es.typed-array.filter.js":278,"core-js/modules/es.typed-array.find-index.js":279,"core-js/modules/es.typed-array.find-last-index.js":280,"core-js/modules/es.typed-array.find-last.js":281,"core-js/modules/es.typed-array.find.js":282,"core-js/modules/es.typed-array.float32-array.js":283,"core-js/modules/es.typed-array.float64-array.js":284,"core-js/modules/es.typed-array.for-each.js":285,"core-js/modules/es.typed-array.includes.js":286,"core-js/modules/es.typed-array.index-of.js":287,"core-js/modules/es.typed-array.iterator.js":288,"core-js/modules/es.typed-array.join.js":289,"core-js/modules/es.typed-array.last-index-of.js":290,"core-js/modules/es.typed-array.map.js":291,"core-js/modules/es.typed-array.reduce-right.js":292,"core-js/modules/es.typed-array.reduce.js":293,"core-js/modules/es.typed-array.reverse.js":294,"core-js/modules/es.typed-array.set.js":295,"core-js/modules/es.typed-array.slice.js":296,"core-js/modules/es.typed-array.some.js":297,"core-js/modules/es.typed-array.sort.js":298,"core-js/modules/es.typed-array.subarray.js":299,"core-js/modules/es.typed-array.to-locale-string.js":300,"core-js/modules/es.typed-array.to-string.js":301,"core-js/modules/es.typed-array.uint16-array.js":302,"core-js/modules/es.typed-array.uint32-array.js":303,"core-js/modules/web.dom-collections.for-each.js":304,"core-js/modules/web.dom-collections.iterator.js":305,"core-js/modules/web.timers.js":308,d3:870,"dragula/dist/dragula.min":872,"leaflet/dist/leaflet-src.js":874}],2:[function(e,t,n){var i=e("../internals/is-callable"),r=e("../internals/try-to-string"),a=TypeError;t.exports=function(e){if(i(e))return e;throw a(r(e)+" is not a function")}},{"../internals/is-callable":99,"../internals/try-to-string":181}],3:[function(e,t,n){var i=e("../internals/is-constructor"),r=e("../internals/try-to-string"),a=TypeError;t.exports=function(e){if(i(e))return e;throw a(r(e)+" is not a constructor")}},{"../internals/is-constructor":100,"../internals/try-to-string":181}],4:[function(e,t,n){var i=e("../internals/is-callable"),r=String,a=TypeError;t.exports=function(e){if("object"==typeof e||i(e))return e;throw a("Can't set "+r(e)+" as a prototype")}},{"../internals/is-callable":99}],5:[function(e,t,n){var i=e("../internals/well-known-symbol"),r=e("../internals/object-create"),a=e("../internals/object-define-property").f,s=i("unscopables"),o=Array.prototype;null==o[s]&&a(o,s,{configurable:!0,value:r(null)}),t.exports=function(e){o[s][e]=!0}},{"../internals/object-create":123,"../internals/object-define-property":125,"../internals/well-known-symbol":194}],6:[function(e,t,n){"use strict";var i=e("../internals/string-multibyte").charAt;t.exports=function(e,t,n){return t+(n?i(e,t).length:1)}},{"../internals/string-multibyte":159}],7:[function(e,t,n){var i=e("../internals/object-is-prototype-of"),r=TypeError;t.exports=function(e,t){if(i(t,e))return e;throw r("Incorrect invocation")}},{"../internals/object-is-prototype-of":132}],8:[function(e,t,n){var i=e("../internals/is-object"),r=String,a=TypeError;t.exports=function(e){if(i(e))return e;throw a(r(e)+" is not an object")}},{"../internals/is-object":104}],9:[function(e,t,n){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},{}],10:[function(e,t,n){var i=e("../internals/fails");t.exports=i((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},{"../internals/fails":68}],11:[function(e,t,n){"use strict";var i,r,a,s=e("../internals/array-buffer-basic-detection"),o=e("../internals/descriptors"),l=e("../internals/global"),u=e("../internals/is-callable"),c=e("../internals/is-object"),d=e("../internals/has-own-property"),h=e("../internals/classof"),f=e("../internals/try-to-string"),p=e("../internals/create-non-enumerable-property"),m=e("../internals/define-built-in"),v=e("../internals/object-define-property").f,y=e("../internals/object-is-prototype-of"),g=e("../internals/object-get-prototype-of"),_=e("../internals/object-set-prototype-of"),b=e("../internals/well-known-symbol"),j=e("../internals/uid"),x=e("../internals/internal-state"),w=x.enforce,k=x.get,S=l.Int8Array,P=S&&S.prototype,M=l.Uint8ClampedArray,O=M&&M.prototype,L=S&&g(S),E=P&&g(P),A=Object.prototype,C=l.TypeError,T=b("toStringTag"),D=j("TYPED_ARRAY_TAG"),I="TypedArrayConstructor",N=s&&!!_&&"Opera"!==h(l.opera),z=!1,q={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},R={BigInt64Array:8,BigUint64Array:8},B=function(e){var t=g(e);if(c(t)){var n=k(t);return n&&d(n,I)?n.TypedArrayConstructor:B(t)}},F=function(e){if(!c(e))return!1;var t=h(e);return d(q,t)||d(R,t)};for(i in q)(a=(r=l[i])&&r.prototype)?w(a).TypedArrayConstructor=r:N=!1;for(i in R)(a=(r=l[i])&&r.prototype)&&(w(a).TypedArrayConstructor=r);if((!N||!u(L)||L===Function.prototype)&&(L=function(){throw C("Incorrect invocation")},N))for(i in q)l[i]&&_(l[i],L);if((!N||!E||E===A)&&(E=L.prototype,N))for(i in q)l[i]&&_(l[i].prototype,E);if(N&&g(O)!==E&&_(O,E),o&&!d(E,T))for(i in z=!0,v(E,T,{get:function(){return c(this)?this[D]:void 0}}),q)l[i]&&p(l[i],D,i);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:N,TYPED_ARRAY_TAG:z&&D,aTypedArray:function(e){if(F(e))return e;throw C("Target is not a typed array")},aTypedArrayConstructor:function(e){if(u(e)&&(!_||y(L,e)))return e;throw C(f(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n,i){if(o){if(n)for(var r in q){var a=l[r];if(a&&d(a.prototype,e))try{delete a.prototype[e]}catch(n){try{a.prototype[e]=t}catch(e){}}}E[e]&&!n||m(E,e,n?t:N&&P[e]||t,i)}},exportTypedArrayStaticMethod:function(e,t,n){var i,r;if(o){if(_){if(n)for(i in q)if((r=l[i])&&d(r,e))try{delete r[e]}catch(e){}if(L[e]&&!n)return;try{return m(L,e,n?t:N&&L[e]||t)}catch(e){}}for(i in q)!(r=l[i])||r[e]&&!n||m(r,e,t)}},getTypedArrayConstructor:B,isView:function(e){if(!c(e))return!1;var t=h(e);return"DataView"===t||d(q,t)||d(R,t)},isTypedArray:F,TypedArray:L,TypedArrayPrototype:E}},{"../internals/array-buffer-basic-detection":9,"../internals/classof":34,"../internals/create-non-enumerable-property":42,"../internals/define-built-in":47,"../internals/descriptors":51,"../internals/global":84,"../internals/has-own-property":85,"../internals/internal-state":95,"../internals/is-callable":99,"../internals/is-object":104,"../internals/object-define-property":125,"../internals/object-get-prototype-of":130,"../internals/object-is-prototype-of":132,"../internals/object-set-prototype-of":136,"../internals/try-to-string":181,"../internals/uid":187,"../internals/well-known-symbol":194}],12:[function(e,t,n){"use strict";var i=e("../internals/global"),r=e("../internals/function-uncurry-this"),a=e("../internals/descriptors"),s=e("../internals/array-buffer-basic-detection"),o=e("../internals/function-name"),l=e("../internals/create-non-enumerable-property"),u=e("../internals/define-built-ins"),c=e("../internals/fails"),d=e("../internals/an-instance"),h=e("../internals/to-integer-or-infinity"),f=e("../internals/to-length"),p=e("../internals/to-index"),m=e("../internals/ieee754"),v=e("../internals/object-get-prototype-of"),y=e("../internals/object-set-prototype-of"),g=e("../internals/object-get-own-property-names").f,_=e("../internals/object-define-property").f,b=e("../internals/array-fill"),j=e("../internals/array-slice-simple"),x=e("../internals/set-to-string-tag"),w=e("../internals/internal-state"),k=o.PROPER,S=o.CONFIGURABLE,P=w.get,M=w.set,O="ArrayBuffer",L="DataView",E="Wrong index",A=i.ArrayBuffer,C=A,T=C&&C.prototype,D=i.DataView,I=D&&D.prototype,N=Object.prototype,z=i.Array,q=i.RangeError,R=r(b),B=r([].reverse),F=m.pack,H=m.unpack,W=function(e){return[255&e]},Z=function(e){return[255&e,e>>8&255]},V=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},U=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},Y=function(e){return F(e,23,4)},G=function(e){return F(e,52,8)},X=function(e,t){_(e.prototype,t,{get:function(){return P(this)[t]}})},K=function(e,t,n,i){var r=p(n),a=P(e);if(r+t>a.byteLength)throw q(E);var s=P(a.buffer).bytes,o=r+a.byteOffset,l=j(s,o,o+t);return i?l:B(l)},$=function(e,t,n,i,r,a){var s=p(n),o=P(e);if(s+t>o.byteLength)throw q(E);for(var l=P(o.buffer).bytes,u=s+o.byteOffset,c=i(+r),d=0;d<t;d++)l[u+d]=c[a?d:t-d-1]};if(s){var J=k&&A.name!==O;if(c((function(){A(1)}))&&c((function(){new A(-1)}))&&!c((function(){return new A,new A(1.5),new A(NaN),1!=A.length||J&&!S})))J&&S&&l(A,"name",O);else{(C=function(e){return d(this,T),new A(p(e))}).prototype=T;for(var Q,ee=g(A),te=0;ee.length>te;)(Q=ee[te++])in C||l(C,Q,A[Q]);T.constructor=C}y&&v(I)!==N&&y(I,N);var ne=new D(new C(2)),ie=r(I.setInt8);ne.setInt8(0,2147483648),ne.setInt8(1,2147483649),!ne.getInt8(0)&&ne.getInt8(1)||u(I,{setInt8:function(e,t){ie(this,e,t<<24>>24)},setUint8:function(e,t){ie(this,e,t<<24>>24)}},{unsafe:!0})}else T=(C=function(e){d(this,T);var t=p(e);M(this,{bytes:R(z(t),0),byteLength:t}),a||(this.byteLength=t)}).prototype,I=(D=function(e,t,n){d(this,I),d(e,T);var i=P(e).byteLength,r=h(t);if(r<0||r>i)throw q("Wrong offset");if(r+(n=void 0===n?i-r:f(n))>i)throw q("Wrong length");M(this,{buffer:e,byteLength:n,byteOffset:r}),a||(this.buffer=e,this.byteLength=n,this.byteOffset=r)}).prototype,a&&(X(C,"byteLength"),X(D,"buffer"),X(D,"byteLength"),X(D,"byteOffset")),u(I,{getInt8:function(e){return K(this,1,e)[0]<<24>>24},getUint8:function(e){return K(this,1,e)[0]},getInt16:function(e){var t=K(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=K(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return U(K(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return U(K(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return H(K(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return H(K(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){$(this,1,e,W,t)},setUint8:function(e,t){$(this,1,e,W,t)},setInt16:function(e,t){$(this,2,e,Z,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){$(this,2,e,Z,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){$(this,4,e,V,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){$(this,4,e,V,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){$(this,4,e,Y,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){$(this,8,e,G,t,arguments.length>2?arguments[2]:void 0)}});x(C,O),x(D,L),t.exports={ArrayBuffer:C,DataView:D}},{"../internals/an-instance":7,"../internals/array-buffer-basic-detection":9,"../internals/array-fill":14,"../internals/array-slice-simple":26,"../internals/create-non-enumerable-property":42,"../internals/define-built-ins":48,"../internals/descriptors":51,"../internals/fails":68,"../internals/function-name":77,"../internals/function-uncurry-this":78,"../internals/global":84,"../internals/ieee754":89,"../internals/internal-state":95,"../internals/object-define-property":125,"../internals/object-get-own-property-names":128,"../internals/object-get-prototype-of":130,"../internals/object-set-prototype-of":136,"../internals/set-to-string-tag":153,"../internals/to-index":170,"../internals/to-integer-or-infinity":172,"../internals/to-length":173}],13:[function(e,t,n){"use strict";var i=e("../internals/to-object"),r=e("../internals/to-absolute-index"),a=e("../internals/length-of-array-like"),s=e("../internals/delete-property-or-throw"),o=Math.min;t.exports=[].copyWithin||function(e,t){var n=i(this),l=a(n),u=r(e,l),c=r(t,l),d=arguments.length>2?arguments[2]:void 0,h=o((void 0===d?l:r(d,l))-c,l-u),f=1;for(c<u&&u<c+h&&(f=-1,c+=h-1,u+=h-1);h-- >0;)c in n?n[u]=n[c]:s(n,u),u+=f,c+=f;return n}},{"../internals/delete-property-or-throw":50,"../internals/length-of-array-like":114,"../internals/to-absolute-index":168,"../internals/to-object":174}],14:[function(e,t,n){"use strict";var i=e("../internals/to-object"),r=e("../internals/to-absolute-index"),a=e("../internals/length-of-array-like");t.exports=function(e){for(var t=i(this),n=a(t),s=arguments.length,o=r(s>1?arguments[1]:void 0,n),l=s>2?arguments[2]:void 0,u=void 0===l?n:r(l,n);u>o;)t[o++]=e;return t}},{"../internals/length-of-array-like":114,"../internals/to-absolute-index":168,"../internals/to-object":174}],15:[function(e,t,n){"use strict";var i=e("../internals/array-iteration").forEach,r=e("../internals/array-method-is-strict")("forEach");t.exports=r?[].forEach:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}},{"../internals/array-iteration":20,"../internals/array-method-is-strict":23}],16:[function(e,t,n){var i=e("../internals/length-of-array-like");t.exports=function(e,t){for(var n=0,r=i(t),a=new e(r);r>n;)a[n]=t[n++];return a}},{"../internals/length-of-array-like":114}],17:[function(e,t,n){"use strict";var i=e("../internals/function-bind-context"),r=e("../internals/function-call"),a=e("../internals/to-object"),s=e("../internals/call-with-safe-iteration-closing"),o=e("../internals/is-array-iterator-method"),l=e("../internals/is-constructor"),u=e("../internals/length-of-array-like"),c=e("../internals/create-property"),d=e("../internals/get-iterator"),h=e("../internals/get-iterator-method"),f=Array;t.exports=function(e){var t=a(e),n=l(this),p=arguments.length,m=p>1?arguments[1]:void 0,v=void 0!==m;v&&(m=i(m,p>2?arguments[2]:void 0));var y,g,_,b,j,x,w=h(t),k=0;if(!w||this===f&&o(w))for(y=u(t),g=n?new this(y):f(y);y>k;k++)x=v?m(t[k],k):t[k],c(g,k,x);else for(j=(b=d(t,w)).next,g=n?new this:[];!(_=r(j,b)).done;k++)x=v?s(b,m,[_.value,k],!0):_.value,c(g,k,x);return g.length=k,g}},{"../internals/call-with-safe-iteration-closing":31,"../internals/create-property":44,"../internals/function-bind-context":73,"../internals/function-call":76,"../internals/get-iterator":81,"../internals/get-iterator-method":80,"../internals/is-array-iterator-method":96,"../internals/is-constructor":100,"../internals/length-of-array-like":114,"../internals/to-object":174}],18:[function(e,t,n){var i=e("../internals/to-indexed-object"),r=e("../internals/to-absolute-index"),a=e("../internals/length-of-array-like"),s=function(e){return function(t,n,s){var o,l=i(t),u=a(l),c=r(s,u);if(e&&n!=n){for(;u>c;)if((o=l[c++])!=o)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},{"../internals/length-of-array-like":114,"../internals/to-absolute-index":168,"../internals/to-indexed-object":171}],19:[function(e,t,n){var i=e("../internals/function-bind-context"),r=e("../internals/indexed-object"),a=e("../internals/to-object"),s=e("../internals/length-of-array-like"),o=function(e){var t=1==e;return function(n,o,l){for(var u,c=a(n),d=r(c),h=i(o,l),f=s(d);f-- >0;)if(h(u=d[f],f,c))switch(e){case 0:return u;case 1:return f}return t?-1:void 0}};t.exports={findLast:o(0),findLastIndex:o(1)}},{"../internals/function-bind-context":73,"../internals/indexed-object":90,"../internals/length-of-array-like":114,"../internals/to-object":174}],20:[function(e,t,n){var i=e("../internals/function-bind-context"),r=e("../internals/function-uncurry-this"),a=e("../internals/indexed-object"),s=e("../internals/to-object"),o=e("../internals/length-of-array-like"),l=e("../internals/array-species-create"),u=r([].push),c=function(e){var t=1==e,n=2==e,r=3==e,c=4==e,d=6==e,h=7==e,f=5==e||d;return function(p,m,v,y){for(var g,_,b=s(p),j=a(b),x=i(m,v),w=o(j),k=0,S=y||l,P=t?S(p,w):n||h?S(p,0):void 0;w>k;k++)if((f||k in j)&&(_=x(g=j[k],k,b),e))if(t)P[k]=_;else if(_)switch(e){case 3:return!0;case 5:return g;case 6:return k;case 2:u(P,g)}else switch(e){case 4:return!1;case 7:u(P,g)}return d?-1:r||c?c:P}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},{"../internals/array-species-create":30,"../internals/function-bind-context":73,"../internals/function-uncurry-this":78,"../internals/indexed-object":90,"../internals/length-of-array-like":114,"../internals/to-object":174}],21:[function(e,t,n){"use strict";var i=e("../internals/function-apply"),r=e("../internals/to-indexed-object"),a=e("../internals/to-integer-or-infinity"),s=e("../internals/length-of-array-like"),o=e("../internals/array-method-is-strict"),l=Math.min,u=[].lastIndexOf,c=!!u&&1/[1].lastIndexOf(1,-0)<0,d=o("lastIndexOf"),h=c||!d;t.exports=h?function(e){if(c)return i(u,this,arguments)||0;var t=r(this),n=s(t),o=n-1;for(arguments.length>1&&(o=l(o,a(arguments[1]))),o<0&&(o=n+o);o>=0;o--)if(o in t&&t[o]===e)return o||0;return-1}:u},{"../internals/array-method-is-strict":23,"../internals/function-apply":72,"../internals/length-of-array-like":114,"../internals/to-indexed-object":171,"../internals/to-integer-or-infinity":172}],22:[function(e,t,n){var i=e("../internals/fails"),r=e("../internals/well-known-symbol"),a=e("../internals/engine-v8-version"),s=r("species");t.exports=function(e){return a>=51||!i((function(){var t=[];return(t.constructor={})[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},{"../internals/engine-v8-version":61,"../internals/fails":68,"../internals/well-known-symbol":194}],23:[function(e,t,n){"use strict";var i=e("../internals/fails");t.exports=function(e,t){var n=[][e];return!!n&&i((function(){n.call(null,t||function(){return 1},1)}))}},{"../internals/fails":68}],24:[function(e,t,n){var i=e("../internals/a-callable"),r=e("../internals/to-object"),a=e("../internals/indexed-object"),s=e("../internals/length-of-array-like"),o=TypeError,l=function(e){return function(t,n,l,u){i(n);var c=r(t),d=a(c),h=s(c),f=e?h-1:0,p=e?-1:1;if(l<2)for(;;){if(f in d){u=d[f],f+=p;break}if(f+=p,e?f<0:h<=f)throw o("Reduce of empty array with no initial value")}for(;e?f>=0:h>f;f+=p)f in d&&(u=n(u,d[f],f,c));return u}};t.exports={left:l(!1),right:l(!0)}},{"../internals/a-callable":2,"../internals/indexed-object":90,"../internals/length-of-array-like":114,"../internals/to-object":174}],25:[function(e,t,n){"use strict";var i=e("../internals/descriptors"),r=e("../internals/is-array"),a=TypeError,s=Object.getOwnPropertyDescriptor,o=i&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();t.exports=o?function(e,t){if(r(e)&&!s(e,"length").writable)throw a("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},{"../internals/descriptors":51,"../internals/is-array":97}],26:[function(e,t,n){var i=e("../internals/to-absolute-index"),r=e("../internals/length-of-array-like"),a=e("../internals/create-property"),s=Array,o=Math.max;t.exports=function(e,t,n){for(var l=r(e),u=i(t,l),c=i(void 0===n?l:n,l),d=s(o(c-u,0)),h=0;u<c;u++,h++)a(d,h,e[u]);return d.length=h,d}},{"../internals/create-property":44,"../internals/length-of-array-like":114,"../internals/to-absolute-index":168}],27:[function(e,t,n){var i=e("../internals/function-uncurry-this");t.exports=i([].slice)},{"../internals/function-uncurry-this":78}],28:[function(e,t,n){var i=e("../internals/array-slice-simple"),r=Math.floor,a=function(e,t){var n=e.length,l=r(n/2);return n<8?s(e,t):o(e,a(i(e,0,l),t),a(i(e,l),t),t)},s=function(e,t){for(var n,i,r=e.length,a=1;a<r;){for(i=a,n=e[a];i&&t(e[i-1],n)>0;)e[i]=e[--i];i!==a++&&(e[i]=n)}return e},o=function(e,t,n,i){for(var r=t.length,a=n.length,s=0,o=0;s<r||o<a;)e[s+o]=s<r&&o<a?i(t[s],n[o])<=0?t[s++]:n[o++]:s<r?t[s++]:n[o++];return e};t.exports=a},{"../internals/array-slice-simple":26}],29:[function(e,t,n){var i=e("../internals/is-array"),r=e("../internals/is-constructor"),a=e("../internals/is-object"),s=e("../internals/well-known-symbol")("species"),o=Array;t.exports=function(e){var t;return i(e)&&(t=e.constructor,(r(t)&&(t===o||i(t.prototype))||a(t)&&null===(t=t[s]))&&(t=void 0)),void 0===t?o:t}},{"../internals/is-array":97,"../internals/is-constructor":100,"../internals/is-object":104,"../internals/well-known-symbol":194}],30:[function(e,t,n){var i=e("../internals/array-species-constructor");t.exports=function(e,t){return new(i(e))(0===t?0:t)}},{"../internals/array-species-constructor":29}],31:[function(e,t,n){var i=e("../internals/an-object"),r=e("../internals/iterator-close");t.exports=function(e,t,n,a){try{return a?t(i(n)[0],n[1]):t(n)}catch(t){r(e,"throw",t)}}},{"../internals/an-object":8,"../internals/iterator-close":109}],32:[function(e,t,n){var i=e("../internals/well-known-symbol")("iterator"),r=!1;try{var a=0,s={next:function(){return{done:!!a++}},return:function(){r=!0}};s[i]=function(){return this},Array.from(s,(function(){throw 2}))}catch(e){}t.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var a={};a[i]=function(){return{next:function(){return{done:n=!0}}}},e(a)}catch(e){}return n}},{"../internals/well-known-symbol":194}],33:[function(e,t,n){var i=e("../internals/function-uncurry-this"),r=i({}.toString),a=i("".slice);t.exports=function(e){return a(r(e),8,-1)}},{"../internals/function-uncurry-this":78}],34:[function(e,t,n){var i=e("../internals/to-string-tag-support"),r=e("../internals/is-callable"),a=e("../internals/classof-raw"),s=e("../internals/well-known-symbol")("toStringTag"),o=Object,l="Arguments"==a(function(){return arguments}());t.exports=i?a:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=o(e),s))?n:l?a(t):"Object"==(i=a(t))&&r(t.callee)?"Arguments":i}},{"../internals/classof-raw":33,"../internals/is-callable":99,"../internals/to-string-tag-support":179,"../internals/well-known-symbol":194}],35:[function(e,t,n){"use strict";var i=e("../internals/object-define-property").f,r=e("../internals/object-create"),a=e("../internals/define-built-ins"),s=e("../internals/function-bind-context"),o=e("../internals/an-instance"),l=e("../internals/is-null-or-undefined"),u=e("../internals/iterate"),c=e("../internals/iterator-define"),d=e("../internals/create-iter-result-object"),h=e("../internals/set-species"),f=e("../internals/descriptors"),p=e("../internals/internal-metadata").fastKey,m=e("../internals/internal-state"),v=m.set,y=m.getterFor;t.exports={getConstructor:function(e,t,n,c){var d=e((function(e,i){o(e,h),v(e,{type:t,index:r(null),first:void 0,last:void 0,size:0}),f||(e.size=0),l(i)||u(i,e[c],{that:e,AS_ENTRIES:n})})),h=d.prototype,m=y(t),g=function(e,t,n){var i,r,a=m(e),s=_(e,t);return s?s.value=n:(a.last=s={index:r=p(t,!0),key:t,value:n,previous:i=a.last,next:void 0,removed:!1},a.first||(a.first=s),i&&(i.next=s),f?a.size++:e.size++,"F"!==r&&(a.index[r]=s)),e},_=function(e,t){var n,i=m(e),r=p(t);if("F"!==r)return i.index[r];for(n=i.first;n;n=n.next)if(n.key==t)return n};return a(h,{clear:function(){for(var e=m(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,f?e.size=0:this.size=0},delete:function(e){var t=this,n=m(t),i=_(t,e);if(i){var r=i.next,a=i.previous;delete n.index[i.index],i.removed=!0,a&&(a.next=r),r&&(r.previous=a),n.first==i&&(n.first=r),n.last==i&&(n.last=a),f?n.size--:t.size--}return!!i},forEach:function(e){for(var t,n=m(this),i=s(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:n.first;)for(i(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!_(this,e)}}),a(h,n?{get:function(e){var t=_(this,e);return t&&t.value},set:function(e,t){return g(this,0===e?0:e,t)}}:{add:function(e){return g(this,e=0===e?0:e,e)}}),f&&i(h,"size",{get:function(){return m(this).size}}),d},setStrong:function(e,t,n){var i=t+" Iterator",r=y(t),a=y(i);c(e,t,(function(e,t){v(this,{type:i,target:e,state:r(e),kind:t,last:void 0})}),(function(){for(var e=a(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?d("keys"==t?n.key:"values"==t?n.value:[n.key,n.value],!1):(e.target=void 0,d(void 0,!0))}),n?"entries":"values",!n,!0),h(t)}}},{"../internals/an-instance":7,"../internals/create-iter-result-object":41,"../internals/define-built-ins":48,"../internals/descriptors":51,"../internals/function-bind-context":73,"../internals/internal-metadata":94,"../internals/internal-state":95,"../internals/is-null-or-undefined":103,"../internals/iterate":108,"../internals/iterator-define":111,"../internals/object-create":123,"../internals/object-define-property":125,"../internals/set-species":152}],36:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/global"),a=e("../internals/function-uncurry-this"),s=e("../internals/is-forced"),o=e("../internals/define-built-in"),l=e("../internals/internal-metadata"),u=e("../internals/iterate"),c=e("../internals/an-instance"),d=e("../internals/is-callable"),h=e("../internals/is-null-or-undefined"),f=e("../internals/is-object"),p=e("../internals/fails"),m=e("../internals/check-correctness-of-iteration"),v=e("../internals/set-to-string-tag"),y=e("../internals/inherit-if-required");t.exports=function(e,t,n){var g=-1!==e.indexOf("Map"),_=-1!==e.indexOf("Weak"),b=g?"set":"add",j=r[e],x=j&&j.prototype,w=j,k={},S=function(e){var t=a(x[e]);o(x,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(_&&!f(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return _&&!f(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(_&&!f(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})};if(s(e,!d(j)||!(_||x.forEach&&!p((function(){(new j).entries().next()})))))w=n.getConstructor(t,e,g,b),l.enable();else if(s(e,!0)){var P=new w,M=P[b](_?{}:-0,1)!=P,O=p((function(){P.has(1)})),L=m((function(e){new j(e)})),E=!_&&p((function(){for(var e=new j,t=5;t--;)e[b](t,t);return!e.has(-0)}));L||((w=t((function(e,t){c(e,x);var n=y(new j,e,w);return h(t)||u(t,n[b],{that:n,AS_ENTRIES:g}),n}))).prototype=x,x.constructor=w),(O||E)&&(S("delete"),S("has"),g&&S("get")),(E||M)&&S(b),_&&x.clear&&delete x.clear}return k[e]=w,i({global:!0,constructor:!0,forced:w!=j},k),v(w,e),_||n.setStrong(w,e,g),w}},{"../internals/an-instance":7,"../internals/check-correctness-of-iteration":32,"../internals/define-built-in":47,"../internals/export":67,"../internals/fails":68,"../internals/function-uncurry-this":78,"../internals/global":84,"../internals/inherit-if-required":91,"../internals/internal-metadata":94,"../internals/is-callable":99,"../internals/is-forced":101,"../internals/is-null-or-undefined":103,"../internals/is-object":104,"../internals/iterate":108,"../internals/set-to-string-tag":153}],37:[function(e,t,n){var i=e("../internals/has-own-property"),r=e("../internals/own-keys"),a=e("../internals/object-get-own-property-descriptor"),s=e("../internals/object-define-property");t.exports=function(e,t,n){for(var o=r(t),l=s.f,u=a.f,c=0;c<o.length;c++){var d=o[c];i(e,d)||n&&i(n,d)||l(e,d,u(t,d))}}},{"../internals/has-own-property":85,"../internals/object-define-property":125,"../internals/object-get-own-property-descriptor":126,"../internals/own-keys":139}],38:[function(e,t,n){var i=e("../internals/well-known-symbol")("match");t.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(e){}}return!1}},{"../internals/well-known-symbol":194}],39:[function(e,t,n){var i=e("../internals/fails");t.exports=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},{"../internals/fails":68}],40:[function(e,t,n){var i=e("../internals/function-uncurry-this"),r=e("../internals/require-object-coercible"),a=e("../internals/to-string"),s=/"/g,o=i("".replace);t.exports=function(e,t,n,i){var l=a(r(e)),u="<"+t;return""!==n&&(u+=" "+n+'="'+o(a(i),s,"&quot;")+'"'),u+">"+l+"</"+t+">"}},{"../internals/function-uncurry-this":78,"../internals/require-object-coercible":149,"../internals/to-string":180}],41:[function(e,t,n){t.exports=function(e,t){return{value:e,done:t}}},{}],42:[function(e,t,n){var i=e("../internals/descriptors"),r=e("../internals/object-define-property"),a=e("../internals/create-property-descriptor");t.exports=i?function(e,t,n){return r.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},{"../internals/create-property-descriptor":43,"../internals/descriptors":51,"../internals/object-define-property":125}],43:[function(e,t,n){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],44:[function(e,t,n){"use strict";var i=e("../internals/to-property-key"),r=e("../internals/object-define-property"),a=e("../internals/create-property-descriptor");t.exports=function(e,t,n){var s=i(t);s in e?r.f(e,s,a(0,n)):e[s]=n}},{"../internals/create-property-descriptor":43,"../internals/object-define-property":125,"../internals/to-property-key":178}],45:[function(e,t,n){"use strict";var i=e("../internals/function-uncurry-this"),r=e("../internals/fails"),a=e("../internals/string-pad").start,s=RangeError,o=isFinite,l=Math.abs,u=Date.prototype,c=u.toISOString,d=i(u.getTime),h=i(u.getUTCDate),f=i(u.getUTCFullYear),p=i(u.getUTCHours),m=i(u.getUTCMilliseconds),v=i(u.getUTCMinutes),y=i(u.getUTCMonth),g=i(u.getUTCSeconds);t.exports=r((function(){return"0385-07-25T07:06:39.999Z"!=c.call(new Date(-50000000000001))}))||!r((function(){c.call(new Date(NaN))}))?function(){if(!o(d(this)))throw s("Invalid time value");var e=this,t=f(e),n=m(e),i=t<0?"-":t>9999?"+":"";return i+a(l(t),i?6:4,0)+"-"+a(y(e)+1,2,0)+"-"+a(h(e),2,0)+"T"+a(p(e),2,0)+":"+a(v(e),2,0)+":"+a(g(e),2,0)+"."+a(n,3,0)+"Z"}:c},{"../internals/fails":68,"../internals/function-uncurry-this":78,"../internals/string-pad":160}],46:[function(e,t,n){var i=e("../internals/make-built-in"),r=e("../internals/object-define-property");t.exports=function(e,t,n){return n.get&&i(n.get,t,{getter:!0}),n.set&&i(n.set,t,{setter:!0}),r.f(e,t,n)}},{"../internals/make-built-in":115,"../internals/object-define-property":125}],47:[function(e,t,n){var i=e("../internals/is-callable"),r=e("../internals/object-define-property"),a=e("../internals/make-built-in"),s=e("../internals/define-global-property");t.exports=function(e,t,n,o){o||(o={});var l=o.enumerable,u=void 0!==o.name?o.name:t;if(i(n)&&a(n,u,o),o.global)l?e[t]=n:s(t,n);else{try{o.unsafe?e[t]&&(l=!0):delete e[t]}catch(e){}l?e[t]=n:r.f(e,t,{value:n,enumerable:!1,configurable:!o.nonConfigurable,writable:!o.nonWritable})}return e}},{"../internals/define-global-property":49,"../internals/is-callable":99,"../internals/make-built-in":115,"../internals/object-define-property":125}],48:[function(e,t,n){var i=e("../internals/define-built-in");t.exports=function(e,t,n){for(var r in t)i(e,r,t[r],n);return e}},{"../internals/define-built-in":47}],49:[function(e,t,n){var i=e("../internals/global"),r=Object.defineProperty;t.exports=function(e,t){try{r(i,e,{value:t,configurable:!0,writable:!0})}catch(n){i[e]=t}return t}},{"../internals/global":84}],50:[function(e,t,n){"use strict";var i=e("../internals/try-to-string"),r=TypeError;t.exports=function(e,t){if(!delete e[t])throw r("Cannot delete property "+i(t)+" of "+i(e))}},{"../internals/try-to-string":181}],51:[function(e,t,n){var i=e("../internals/fails");t.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},{"../internals/fails":68}],52:[function(e,t,n){var i="object"==typeof document&&document.all,r=void 0===i&&void 0!==i;t.exports={all:i,IS_HTMLDDA:r}},{}],53:[function(e,t,n){var i=e("../internals/global"),r=e("../internals/is-object"),a=i.document,s=r(a)&&r(a.createElement);t.exports=function(e){return s?a.createElement(e):{}}},{"../internals/global":84,"../internals/is-object":104}],54:[function(e,t,n){var i=TypeError;t.exports=function(e){if(e>9007199254740991)throw i("Maximum allowed index exceeded");return e}},{}],55:[function(e,t,n){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],56:[function(e,t,n){var i=e("../internals/document-create-element")("span").classList,r=i&&i.constructor&&i.constructor.prototype;t.exports=r===Object.prototype?void 0:r},{"../internals/document-create-element":53}],57:[function(e,t,n){var i=e("../internals/engine-user-agent").match(/firefox\/(\d+)/i);t.exports=!!i&&+i[1]},{"../internals/engine-user-agent":60}],58:[function(e,t,n){var i=e("../internals/engine-user-agent");t.exports=/MSIE|Trident/.test(i)},{"../internals/engine-user-agent":60}],59:[function(e,t,n){var i=e("../internals/classof-raw"),r=e("../internals/global");t.exports="process"==i(r.process)},{"../internals/classof-raw":33,"../internals/global":84}],60:[function(e,t,n){var i=e("../internals/get-built-in");t.exports=i("navigator","userAgent")||""},{"../internals/get-built-in":79}],61:[function(e,t,n){var i,r,a=e("../internals/global"),s=e("../internals/engine-user-agent"),o=a.process,l=a.Deno,u=o&&o.versions||l&&l.version,c=u&&u.v8;c&&(r=(i=c.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!r&&s&&(!(i=s.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=s.match(/Chrome\/(\d+)/))&&(r=+i[1]),t.exports=r},{"../internals/engine-user-agent":60,"../internals/global":84}],62:[function(e,t,n){var i=e("../internals/engine-user-agent").match(/AppleWebKit\/(\d+)\./);t.exports=!!i&&+i[1]},{"../internals/engine-user-agent":60}],63:[function(e,t,n){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],64:[function(e,t,n){var i=e("../internals/function-uncurry-this"),r=Error,a=i("".replace),s=String(r("zxcasd").stack),o=/\n\s*at [^:]*:[^\n]*/,l=o.test(s);t.exports=function(e,t){if(l&&"string"==typeof e&&!r.prepareStackTrace)for(;t--;)e=a(e,o,"");return e}},{"../internals/function-uncurry-this":78}],65:[function(e,t,n){var i=e("../internals/fails"),r=e("../internals/create-property-descriptor");t.exports=!i((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",r(1,7)),7!==e.stack)}))},{"../internals/create-property-descriptor":43,"../internals/fails":68}],66:[function(e,t,n){"use strict";var i=e("../internals/descriptors"),r=e("../internals/fails"),a=e("../internals/an-object"),s=e("../internals/object-create"),o=e("../internals/normalize-string-argument"),l=Error.prototype.toString,u=r((function(){if(i){var e=s(Object.defineProperty({},"name",{get:function(){return this===e}}));if("true"!==l.call(e))return!0}return"2: 1"!==l.call({message:1,name:2})||"Error"!==l.call({})}));t.exports=u?function(){var e=a(this),t=o(e.name,"Error"),n=o(e.message);return t?n?t+": "+n:t:n}:l},{"../internals/an-object":8,"../internals/descriptors":51,"../internals/fails":68,"../internals/normalize-string-argument":119,"../internals/object-create":123}],67:[function(e,t,n){"use strict";var i=e("../internals/global"),r=e("../internals/object-get-own-property-descriptor").f,a=e("../internals/create-non-enumerable-property"),s=e("../internals/define-built-in"),o=e("../internals/define-global-property"),l=e("../internals/copy-constructor-properties"),u=e("../internals/is-forced");t.exports=function(e,t){var n,c,d,h,f,p=e.target,m=e.global,v=e.stat;if(n=m?i:v?i[p]||o(p,{}):(i[p]||{}).prototype)for(c in t){if(h=t[c],d=e.dontCallGetSet?(f=r(n,c))&&f.value:n[c],!u(m?c:p+(v?".":"#")+c,e.forced)&&void 0!==d){if(typeof h==typeof d)continue;l(h,d)}(e.sham||d&&d.sham)&&a(h,"sham",!0),s(n,c,h,e)}}},{"../internals/copy-constructor-properties":37,"../internals/create-non-enumerable-property":42,"../internals/define-built-in":47,"../internals/define-global-property":49,"../internals/global":84,"../internals/is-forced":101,"../internals/object-get-own-property-descriptor":126}],68:[function(e,t,n){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],69:[function(e,t,n){"use strict";e("../modules/es.regexp.exec");var i=e("../internals/function-uncurry-this"),r=e("../internals/define-built-in"),a=e("../internals/regexp-exec"),s=e("../internals/fails"),o=e("../internals/well-known-symbol"),l=e("../internals/create-non-enumerable-property"),u=o("species"),c=RegExp.prototype;t.exports=function(e,t,n,d){var h=o(e),f=!s((function(){var t={};return t[h]=function(){return 7},7!=""[e](t)})),p=f&&!s((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[u]=function(){return n},n.flags="",n[h]=/./[h]),n.exec=function(){return t=!0,null},n[h](""),!t}));if(!f||!p||n){var m=i(/./[h]),v=t(h,""[e],(function(e,t,n,r,s){var o=i(e),l=t.exec;return l===a||l===c.exec?f&&!s?{done:!0,value:m(t,n,r)}:{done:!0,value:o(n,t,r)}:{done:!1}}));r(String.prototype,e,v[0]),r(c,h,v[1])}d&&l(c[h],"sham",!0)}},{"../internals/create-non-enumerable-property":42,"../internals/define-built-in":47,"../internals/fails":68,"../internals/function-uncurry-this":78,"../internals/regexp-exec":143,"../internals/well-known-symbol":194,"../modules/es.regexp.exec":251}],70:[function(e,t,n){"use strict";var i=e("../internals/is-array"),r=e("../internals/length-of-array-like"),a=e("../internals/does-not-exceed-safe-integer"),s=e("../internals/function-bind-context"),o=function(e,t,n,l,u,c,d,h){for(var f,p,m=u,v=0,y=!!d&&s(d,h);v<l;)v in n&&(f=y?y(n[v],v,t):n[v],c>0&&i(f)?(p=r(f),m=o(e,t,f,p,m,c-1)-1):(a(m+1),e[m]=f),m++),v++;return m};t.exports=o},{"../internals/does-not-exceed-safe-integer":54,"../internals/function-bind-context":73,"../internals/is-array":97,"../internals/length-of-array-like":114}],71:[function(e,t,n){var i=e("../internals/fails");t.exports=!i((function(){return Object.isExtensible(Object.preventExtensions({}))}))},{"../internals/fails":68}],72:[function(e,t,n){var i=e("../internals/function-bind-native"),r=Function.prototype,a=r.apply,s=r.call;t.exports="object"==typeof Reflect&&Reflect.apply||(i?s.bind(a):function(){return s.apply(a,arguments)})},{"../internals/function-bind-native":74}],73:[function(e,t,n){var i=e("../internals/function-uncurry-this"),r=e("../internals/a-callable"),a=e("../internals/function-bind-native"),s=i(i.bind);t.exports=function(e,t){return r(e),void 0===t?e:a?s(e,t):function(){return e.apply(t,arguments)}}},{"../internals/a-callable":2,"../internals/function-bind-native":74,"../internals/function-uncurry-this":78}],74:[function(e,t,n){var i=e("../internals/fails");t.exports=!i((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},{"../internals/fails":68}],75:[function(e,t,n){"use strict";var i=e("../internals/function-uncurry-this"),r=e("../internals/a-callable"),a=e("../internals/is-object"),s=e("../internals/has-own-property"),o=e("../internals/array-slice"),l=e("../internals/function-bind-native"),u=Function,c=i([].concat),d=i([].join),h={},f=function(e,t,n){if(!s(h,t)){for(var i=[],r=0;r<t;r++)i[r]="a["+r+"]";h[t]=u("C,a","return new C("+d(i,",")+")")}return h[t](e,n)};t.exports=l?u.bind:function(e){var t=r(this),n=t.prototype,i=o(arguments,1),s=function(){var n=c(i,o(arguments));return this instanceof s?f(t,n.length,n):t.apply(e,n)};return a(n)&&(s.prototype=n),s}},{"../internals/a-callable":2,"../internals/array-slice":27,"../internals/function-bind-native":74,"../internals/function-uncurry-this":78,"../internals/has-own-property":85,"../internals/is-object":104}],76:[function(e,t,n){var i=e("../internals/function-bind-native"),r=Function.prototype.call;t.exports=i?r.bind(r):function(){return r.apply(r,arguments)}},{"../internals/function-bind-native":74}],77:[function(e,t,n){var i=e("../internals/descriptors"),r=e("../internals/has-own-property"),a=Function.prototype,s=i&&Object.getOwnPropertyDescriptor,o=r(a,"name"),l=o&&"something"===function(){}.name,u=o&&(!i||i&&s(a,"name").configurable);t.exports={EXISTS:o,PROPER:l,CONFIGURABLE:u}},{"../internals/descriptors":51,"../internals/has-own-property":85}],78:[function(e,t,n){var i=e("../internals/function-bind-native"),r=Function.prototype,a=r.bind,s=r.call,o=i&&a.bind(s,s);t.exports=i?function(e){return e&&o(e)}:function(e){return e&&function(){return s.apply(e,arguments)}}},{"../internals/function-bind-native":74}],79:[function(e,t,n){var i=e("../internals/global"),r=e("../internals/is-callable"),a=function(e){return r(e)?e:void 0};t.exports=function(e,t){return arguments.length<2?a(i[e]):i[e]&&i[e][t]}},{"../internals/global":84,"../internals/is-callable":99}],80:[function(e,t,n){var i=e("../internals/classof"),r=e("../internals/get-method"),a=e("../internals/is-null-or-undefined"),s=e("../internals/iterators"),o=e("../internals/well-known-symbol")("iterator");t.exports=function(e){if(!a(e))return r(e,o)||r(e,"@@iterator")||s[i(e)]}},{"../internals/classof":34,"../internals/get-method":82,"../internals/is-null-or-undefined":103,"../internals/iterators":113,"../internals/well-known-symbol":194}],81:[function(e,t,n){var i=e("../internals/function-call"),r=e("../internals/a-callable"),a=e("../internals/an-object"),s=e("../internals/try-to-string"),o=e("../internals/get-iterator-method"),l=TypeError;t.exports=function(e,t){var n=arguments.length<2?o(e):t;if(r(n))return a(i(n,e));throw l(s(e)+" is not iterable")}},{"../internals/a-callable":2,"../internals/an-object":8,"../internals/function-call":76,"../internals/get-iterator-method":80,"../internals/try-to-string":181}],82:[function(e,t,n){var i=e("../internals/a-callable"),r=e("../internals/is-null-or-undefined");t.exports=function(e,t){var n=e[t];return r(n)?void 0:i(n)}},{"../internals/a-callable":2,"../internals/is-null-or-undefined":103}],83:[function(e,t,n){var i=e("../internals/function-uncurry-this"),r=e("../internals/to-object"),a=Math.floor,s=i("".charAt),o=i("".replace),l=i("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;t.exports=function(e,t,n,i,d,h){var f=n+e.length,p=i.length,m=c;return void 0!==d&&(d=r(d),m=u),o(h,m,(function(r,o){var u;switch(s(o,0)){case"$":return"$";case"&":return e;case"`":return l(t,0,n);case"'":return l(t,f);case"<":u=d[l(o,1,-1)];break;default:var c=+o;if(0===c)return r;if(c>p){var h=a(c/10);return 0===h?r:h<=p?void 0===i[h-1]?s(o,1):i[h-1]+s(o,1):r}u=i[c-1]}return void 0===u?"":u}))}},{"../internals/function-uncurry-this":78,"../internals/to-object":174}],84:[function(e,t,n){(function(e){(function(){var n=function(e){return e&&e.Math==Math&&e};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||function(){return this}()||Function("return this")()}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],85:[function(e,t,n){var i=e("../internals/function-uncurry-this"),r=e("../internals/to-object"),a=i({}.hasOwnProperty);t.exports=Object.hasOwn||function(e,t){return a(r(e),t)}},{"../internals/function-uncurry-this":78,"../internals/to-object":174}],86:[function(e,t,n){t.exports={}},{}],87:[function(e,t,n){var i=e("../internals/get-built-in");t.exports=i("document","documentElement")},{"../internals/get-built-in":79}],88:[function(e,t,n){var i=e("../internals/descriptors"),r=e("../internals/fails"),a=e("../internals/document-create-element");t.exports=!i&&!r((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},{"../internals/descriptors":51,"../internals/document-create-element":53,"../internals/fails":68}],89:[function(e,t,n){var i=Array,r=Math.abs,a=Math.pow,s=Math.floor,o=Math.log,l=Math.LN2;t.exports={pack:function(e,t,n){var u,c,d,h=i(n),f=8*n-t-1,p=(1<<f)-1,m=p>>1,v=23===t?a(2,-24)-a(2,-77):0,y=e<0||0===e&&1/e<0?1:0,g=0;for((e=r(e))!=e||e===1/0?(c=e!=e?1:0,u=p):(u=s(o(e)/l),e*(d=a(2,-u))<1&&(u--,d*=2),(e+=u+m>=1?v/d:v*a(2,1-m))*d>=2&&(u++,d/=2),u+m>=p?(c=0,u=p):u+m>=1?(c=(e*d-1)*a(2,t),u+=m):(c=e*a(2,m-1)*a(2,t),u=0));t>=8;)h[g++]=255&c,c/=256,t-=8;for(u=u<<t|c,f+=t;f>0;)h[g++]=255&u,u/=256,f-=8;return h[--g]|=128*y,h},unpack:function(e,t){var n,i=e.length,r=8*i-t-1,s=(1<<r)-1,o=s>>1,l=r-7,u=i-1,c=e[u--],d=127&c;for(c>>=7;l>0;)d=256*d+e[u--],l-=8;for(n=d&(1<<-l)-1,d>>=-l,l+=t;l>0;)n=256*n+e[u--],l-=8;if(0===d)d=1-o;else{if(d===s)return n?NaN:c?-1/0:1/0;n+=a(2,t),d-=o}return(c?-1:1)*n*a(2,d-t)}}},{}],90:[function(e,t,n){var i=e("../internals/function-uncurry-this"),r=e("../internals/fails"),a=e("../internals/classof-raw"),s=Object,o=i("".split);t.exports=r((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?o(e,""):s(e)}:s},{"../internals/classof-raw":33,"../internals/fails":68,"../internals/function-uncurry-this":78}],91:[function(e,t,n){var i=e("../internals/is-callable"),r=e("../internals/is-object"),a=e("../internals/object-set-prototype-of");t.exports=function(e,t,n){var s,o;return a&&i(s=t.constructor)&&s!==n&&r(o=s.prototype)&&o!==n.prototype&&a(e,o),e}},{"../internals/is-callable":99,"../internals/is-object":104,"../internals/object-set-prototype-of":136}],92:[function(e,t,n){var i=e("../internals/function-uncurry-this"),r=e("../internals/is-callable"),a=e("../internals/shared-store"),s=i(Function.toString);r(a.inspectSource)||(a.inspectSource=function(e){return s(e)}),t.exports=a.inspectSource},{"../internals/function-uncurry-this":78,"../internals/is-callable":99,"../internals/shared-store":155}],93:[function(e,t,n){var i=e("../internals/is-object"),r=e("../internals/create-non-enumerable-property");t.exports=function(e,t){i(t)&&"cause"in t&&r(e,"cause",t.cause)}},{"../internals/create-non-enumerable-property":42,"../internals/is-object":104}],94:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/function-uncurry-this"),a=e("../internals/hidden-keys"),s=e("../internals/is-object"),o=e("../internals/has-own-property"),l=e("../internals/object-define-property").f,u=e("../internals/object-get-own-property-names"),c=e("../internals/object-get-own-property-names-external"),d=e("../internals/object-is-extensible"),h=e("../internals/uid"),f=e("../internals/freezing"),p=!1,m=h("meta"),v=0,y=function(e){l(e,m,{value:{objectID:"O"+v++,weakData:{}}})},g=t.exports={enable:function(){g.enable=function(){},p=!0;var e=u.f,t=r([].splice),n={};n[m]=1,e(n).length&&(u.f=function(n){for(var i=e(n),r=0,a=i.length;r<a;r++)if(i[r]===m){t(i,r,1);break}return i},i({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:c.f}))},fastKey:function(e,t){if(!s(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,m)){if(!d(e))return"F";if(!t)return"E";y(e)}return e[m].objectID},getWeakData:function(e,t){if(!o(e,m)){if(!d(e))return!0;if(!t)return!1;y(e)}return e[m].weakData},onFreeze:function(e){return f&&p&&d(e)&&!o(e,m)&&y(e),e}};a[m]=!0},{"../internals/export":67,"../internals/freezing":71,"../internals/function-uncurry-this":78,"../internals/has-own-property":85,"../internals/hidden-keys":86,"../internals/is-object":104,"../internals/object-define-property":125,"../internals/object-get-own-property-names":128,"../internals/object-get-own-property-names-external":127,"../internals/object-is-extensible":131,"../internals/uid":187}],95:[function(e,t,n){var i,r,a,s=e("../internals/weak-map-basic-detection"),o=e("../internals/global"),l=e("../internals/function-uncurry-this"),u=e("../internals/is-object"),c=e("../internals/create-non-enumerable-property"),d=e("../internals/has-own-property"),h=e("../internals/shared-store"),f=e("../internals/shared-key"),p=e("../internals/hidden-keys"),m="Object already initialized",v=o.TypeError,y=o.WeakMap;if(s||h.state){var g=h.state||(h.state=new y),_=l(g.get),b=l(g.has),j=l(g.set);i=function(e,t){if(b(g,e))throw v(m);return t.facade=e,j(g,e,t),t},r=function(e){return _(g,e)||{}},a=function(e){return b(g,e)}}else{var x=f("state");p[x]=!0,i=function(e,t){if(d(e,x))throw v(m);return t.facade=e,c(e,x,t),t},r=function(e){return d(e,x)?e[x]:{}},a=function(e){return d(e,x)}}t.exports={set:i,get:r,has:a,enforce:function(e){return a(e)?r(e):i(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=r(t)).type!==e)throw v("Incompatible receiver, "+e+" required");return n}}}},{"../internals/create-non-enumerable-property":42,"../internals/function-uncurry-this":78,"../internals/global":84,"../internals/has-own-property":85,"../internals/hidden-keys":86,"../internals/is-object":104,"../internals/shared-key":154,"../internals/shared-store":155,"../internals/weak-map-basic-detection":191}],96:[function(e,t,n){var i=e("../internals/well-known-symbol"),r=e("../internals/iterators"),a=i("iterator"),s=Array.prototype;t.exports=function(e){return void 0!==e&&(r.Array===e||s[a]===e)}},{"../internals/iterators":113,"../internals/well-known-symbol":194}],97:[function(e,t,n){var i=e("../internals/classof-raw");t.exports=Array.isArray||function(e){return"Array"==i(e)}},{"../internals/classof-raw":33}],98:[function(e,t,n){var i=e("../internals/classof"),r=e("../internals/function-uncurry-this")("".slice);t.exports=function(e){return"Big"===r(i(e),0,3)}},{"../internals/classof":34,"../internals/function-uncurry-this":78}],99:[function(e,t,n){var i=e("../internals/document-all"),r=i.all;t.exports=i.IS_HTMLDDA?function(e){return"function"==typeof e||e===r}:function(e){return"function"==typeof e}},{"../internals/document-all":52}],100:[function(e,t,n){var i=e("../internals/function-uncurry-this"),r=e("../internals/fails"),a=e("../internals/is-callable"),s=e("../internals/classof"),o=e("../internals/get-built-in"),l=e("../internals/inspect-source"),u=function(){},c=[],d=o("Reflect","construct"),h=/^\s*(?:class|function)\b/,f=i(h.exec),p=!h.exec(u),m=function(e){if(!a(e))return!1;try{return d(u,c,e),!0}catch(e){return!1}},v=function(e){if(!a(e))return!1;switch(s(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!f(h,l(e))}catch(e){return!0}};v.sham=!0,t.exports=!d||r((function(){var e;return m(m.call)||!m(Object)||!m((function(){e=!0}))||e}))?v:m},{"../internals/classof":34,"../internals/fails":68,"../internals/function-uncurry-this":78,"../internals/get-built-in":79,"../internals/inspect-source":92,"../internals/is-callable":99}],101:[function(e,t,n){var i=e("../internals/fails"),r=e("../internals/is-callable"),a=/#|\.prototype\./,s=function(e,t){var n=l[o(e)];return n==c||n!=u&&(r(t)?i(t):!!t)},o=s.normalize=function(e){return String(e).replace(a,".").toLowerCase()},l=s.data={},u=s.NATIVE="N",c=s.POLYFILL="P";t.exports=s},{"../internals/fails":68,"../internals/is-callable":99}],102:[function(e,t,n){var i=e("../internals/is-object"),r=Math.floor;t.exports=Number.isInteger||function(e){return!i(e)&&isFinite(e)&&r(e)===e}},{"../internals/is-object":104}],103:[function(e,t,n){t.exports=function(e){return null==e}},{}],104:[function(e,t,n){var i=e("../internals/is-callable"),r=e("../internals/document-all"),a=r.all;t.exports=r.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:i(e)||e===a}:function(e){return"object"==typeof e?null!==e:i(e)}},{"../internals/document-all":52,"../internals/is-callable":99}],105:[function(e,t,n){t.exports=!1},{}],106:[function(e,t,n){var i=e("../internals/is-object"),r=e("../internals/classof-raw"),a=e("../internals/well-known-symbol")("match");t.exports=function(e){var t;return i(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==r(e))}},{"../internals/classof-raw":33,"../internals/is-object":104,"../internals/well-known-symbol":194}],107:[function(e,t,n){var i=e("../internals/get-built-in"),r=e("../internals/is-callable"),a=e("../internals/object-is-prototype-of"),s=e("../internals/use-symbol-as-uid"),o=Object;t.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return r(t)&&a(t.prototype,o(e))}},{"../internals/get-built-in":79,"../internals/is-callable":99,"../internals/object-is-prototype-of":132,"../internals/use-symbol-as-uid":188}],108:[function(e,t,n){var i=e("../internals/function-bind-context"),r=e("../internals/function-call"),a=e("../internals/an-object"),s=e("../internals/try-to-string"),o=e("../internals/is-array-iterator-method"),l=e("../internals/length-of-array-like"),u=e("../internals/object-is-prototype-of"),c=e("../internals/get-iterator"),d=e("../internals/get-iterator-method"),h=e("../internals/iterator-close"),f=TypeError,p=function(e,t){this.stopped=e,this.result=t},m=p.prototype;t.exports=function(e,t,n){var v,y,g,_,b,j,x,w=n&&n.that,k=!(!n||!n.AS_ENTRIES),S=!(!n||!n.IS_RECORD),P=!(!n||!n.IS_ITERATOR),M=!(!n||!n.INTERRUPTED),O=i(t,w),L=function(e){return v&&h(v,"normal",e),new p(!0,e)},E=function(e){return k?(a(e),M?O(e[0],e[1],L):O(e[0],e[1])):M?O(e,L):O(e)};if(S)v=e.iterator;else if(P)v=e;else{if(!(y=d(e)))throw f(s(e)+" is not iterable");if(o(y)){for(g=0,_=l(e);_>g;g++)if((b=E(e[g]))&&u(m,b))return b;return new p(!1)}v=c(e,y)}for(j=S?e.next:v.next;!(x=r(j,v)).done;){try{b=E(x.value)}catch(e){h(v,"throw",e)}if("object"==typeof b&&b&&u(m,b))return b}return new p(!1)}},{"../internals/an-object":8,"../internals/function-bind-context":73,"../internals/function-call":76,"../internals/get-iterator":81,"../internals/get-iterator-method":80,"../internals/is-array-iterator-method":96,"../internals/iterator-close":109,"../internals/length-of-array-like":114,"../internals/object-is-prototype-of":132,"../internals/try-to-string":181}],109:[function(e,t,n){var i=e("../internals/function-call"),r=e("../internals/an-object"),a=e("../internals/get-method");t.exports=function(e,t,n){var s,o;r(e);try{if(!(s=a(e,"return"))){if("throw"===t)throw n;return n}s=i(s,e)}catch(e){o=!0,s=e}if("throw"===t)throw n;if(o)throw s;return r(s),n}},{"../internals/an-object":8,"../internals/function-call":76,"../internals/get-method":82}],110:[function(e,t,n){"use strict";var i=e("../internals/iterators-core").IteratorPrototype,r=e("../internals/object-create"),a=e("../internals/create-property-descriptor"),s=e("../internals/set-to-string-tag"),o=e("../internals/iterators"),l=function(){return this};t.exports=function(e,t,n,u){var c=t+" Iterator";return e.prototype=r(i,{next:a(+!u,n)}),s(e,c,!1,!0),o[c]=l,e}},{"../internals/create-property-descriptor":43,"../internals/iterators":113,"../internals/iterators-core":112,"../internals/object-create":123,"../internals/set-to-string-tag":153}],111:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/function-call"),a=e("../internals/is-pure"),s=e("../internals/function-name"),o=e("../internals/is-callable"),l=e("../internals/iterator-create-constructor"),u=e("../internals/object-get-prototype-of"),c=e("../internals/object-set-prototype-of"),d=e("../internals/set-to-string-tag"),h=e("../internals/create-non-enumerable-property"),f=e("../internals/define-built-in"),p=e("../internals/well-known-symbol"),m=e("../internals/iterators"),v=e("../internals/iterators-core"),y=s.PROPER,g=s.CONFIGURABLE,_=v.IteratorPrototype,b=v.BUGGY_SAFARI_ITERATORS,j=p("iterator"),x="keys",w="values",k="entries",S=function(){return this};t.exports=function(e,t,n,s,p,v,P){l(n,t,s);var M,O,L,E=function(e){if(e===p&&I)return I;if(!b&&e in T)return T[e];switch(e){case x:case w:case k:return function(){return new n(this,e)}}return function(){return new n(this)}},A=t+" Iterator",C=!1,T=e.prototype,D=T[j]||T["@@iterator"]||p&&T[p],I=!b&&D||E(p),N="Array"==t&&T.entries||D;if(N&&(M=u(N.call(new e)))!==Object.prototype&&M.next&&(a||u(M)===_||(c?c(M,_):o(M[j])||f(M,j,S)),d(M,A,!0,!0),a&&(m[A]=S)),y&&p==w&&D&&D.name!==w&&(!a&&g?h(T,"name",w):(C=!0,I=function(){return r(D,this)})),p)if(O={values:E(w),keys:v?I:E(x),entries:E(k)},P)for(L in O)(b||C||!(L in T))&&f(T,L,O[L]);else i({target:t,proto:!0,forced:b||C},O);return a&&!P||T[j]===I||f(T,j,I,{name:p}),m[t]=I,O}},{"../internals/create-non-enumerable-property":42,"../internals/define-built-in":47,"../internals/export":67,"../internals/function-call":76,"../internals/function-name":77,"../internals/is-callable":99,"../internals/is-pure":105,"../internals/iterator-create-constructor":110,"../internals/iterators":113,"../internals/iterators-core":112,"../internals/object-get-prototype-of":130,"../internals/object-set-prototype-of":136,"../internals/set-to-string-tag":153,"../internals/well-known-symbol":194}],112:[function(e,t,n){"use strict";var i,r,a,s=e("../internals/fails"),o=e("../internals/is-callable"),l=e("../internals/is-object"),u=e("../internals/object-create"),c=e("../internals/object-get-prototype-of"),d=e("../internals/define-built-in"),h=e("../internals/well-known-symbol"),f=e("../internals/is-pure"),p=h("iterator"),m=!1;[].keys&&("next"in(a=[].keys())?(r=c(c(a)))!==Object.prototype&&(i=r):m=!0),!l(i)||s((function(){var e={};return i[p].call(e)!==e}))?i={}:f&&(i=u(i)),o(i[p])||d(i,p,(function(){return this})),t.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:m}},{"../internals/define-built-in":47,"../internals/fails":68,"../internals/is-callable":99,"../internals/is-object":104,"../internals/is-pure":105,"../internals/object-create":123,"../internals/object-get-prototype-of":130,"../internals/well-known-symbol":194}],113:[function(e,t,n){arguments[4][86][0].apply(n,arguments)},{dup:86}],114:[function(e,t,n){var i=e("../internals/to-length");t.exports=function(e){return i(e.length)}},{"../internals/to-length":173}],115:[function(e,t,n){var i=e("../internals/fails"),r=e("../internals/is-callable"),a=e("../internals/has-own-property"),s=e("../internals/descriptors"),o=e("../internals/function-name").CONFIGURABLE,l=e("../internals/inspect-source"),u=e("../internals/internal-state"),c=u.enforce,d=u.get,h=Object.defineProperty,f=s&&!i((function(){return 8!==h((function(){}),"length",{value:8}).length})),p=String(String).split("String"),m=t.exports=function(e,t,n){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!a(e,"name")||o&&e.name!==t)&&(s?h(e,"name",{value:t,configurable:!0}):e.name=t),f&&n&&a(n,"arity")&&e.length!==n.arity&&h(e,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?s&&h(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var i=c(e);return a(i,"source")||(i.source=p.join("string"==typeof t?t:"")),e};Function.prototype.toString=m((function(){return r(this)&&d(this).source||l(this)}),"toString")},{"../internals/descriptors":51,"../internals/fails":68,"../internals/function-name":77,"../internals/has-own-property":85,"../internals/inspect-source":92,"../internals/internal-state":95,"../internals/is-callable":99}],116:[function(e,t,n){var i=e("../internals/math-sign"),r=Math.abs,a=Math.pow,s=a(2,-52),o=a(2,-23),l=a(2,127)*(2-o),u=a(2,-126);t.exports=Math.fround||function(e){var t,n,a=+e,c=r(a),d=i(a);return c<u?d*function(e){return e+1/s-1/s}(c/u/o)*u*o:(n=(t=(1+o/s)*c)-(t-c))>l||n!=n?d*(1/0):d*n}},{"../internals/math-sign":117}],117:[function(e,t,n){t.exports=Math.sign||function(e){var t=+e;return 0==t||t!=t?t:t<0?-1:1}},{}],118:[function(e,t,n){var i=Math.ceil,r=Math.floor;t.exports=Math.trunc||function(e){var t=+e;return(t>0?r:i)(t)}},{}],119:[function(e,t,n){var i=e("../internals/to-string");t.exports=function(e,t){return void 0===e?arguments.length<2?"":t:i(e)}},{"../internals/to-string":180}],120:[function(e,t,n){var i=e("../internals/is-regexp"),r=TypeError;t.exports=function(e){if(i(e))throw r("The method doesn't accept regular expressions");return e}},{"../internals/is-regexp":106}],121:[function(e,t,n){var i=e("../internals/global"),r=e("../internals/fails"),a=e("../internals/function-uncurry-this"),s=e("../internals/to-string"),o=e("../internals/string-trim").trim,l=e("../internals/whitespaces"),u=i.parseInt,c=i.Symbol,d=c&&c.iterator,h=/^[+-]?0x/i,f=a(h.exec),p=8!==u(l+"08")||22!==u(l+"0x16")||d&&!r((function(){u(Object(d))}));t.exports=p?function(e,t){var n=o(s(e));return u(n,t>>>0||(f(h,n)?16:10))}:u},{"../internals/fails":68,"../internals/function-uncurry-this":78,"../internals/global":84,"../internals/string-trim":163,"../internals/to-string":180,"../internals/whitespaces":195}],122:[function(e,t,n){"use strict";var i=e("../internals/descriptors"),r=e("../internals/function-uncurry-this"),a=e("../internals/function-call"),s=e("../internals/fails"),o=e("../internals/object-keys"),l=e("../internals/object-get-own-property-symbols"),u=e("../internals/object-property-is-enumerable"),c=e("../internals/to-object"),d=e("../internals/indexed-object"),h=Object.assign,f=Object.defineProperty,p=r([].concat);t.exports=!h||s((function(){if(i&&1!==h({b:1},h(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=h({},e)[n]||o(h({},t)).join("")!=r}))?function(e,t){for(var n=c(e),r=arguments.length,s=1,h=l.f,f=u.f;r>s;)for(var m,v=d(arguments[s++]),y=h?p(o(v),h(v)):o(v),g=y.length,_=0;g>_;)m=y[_++],i&&!a(f,v,m)||(n[m]=v[m]);return n}:h},{"../internals/descriptors":51,"../internals/fails":68,"../internals/function-call":76,"../internals/function-uncurry-this":78,"../internals/indexed-object":90,"../internals/object-get-own-property-symbols":129,"../internals/object-keys":134,"../internals/object-property-is-enumerable":135,"../internals/to-object":174}],123:[function(e,t,n){var i,r=e("../internals/an-object"),a=e("../internals/object-define-properties"),s=e("../internals/enum-bug-keys"),o=e("../internals/hidden-keys"),l=e("../internals/html"),u=e("../internals/document-create-element"),c=e("../internals/shared-key"),d=c("IE_PROTO"),h=function(){},f=function(e){return"<script>"+e+"</"+"script>"},p=function(e){e.write(f("")),e.close();var t=e.parentWindow.Object;return e=null,t},m=function(){try{i=new ActiveXObject("htmlfile")}catch(e){}var e,t;m="undefined"!=typeof document?document.domain&&i?p(i):((t=u("iframe")).style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(f("document.F=Object")),e.close(),e.F):p(i);for(var n=s.length;n--;)delete m.prototype[s[n]];return m()};o[d]=!0,t.exports=Object.create||function(e,t){var n;return null!==e?(h.prototype=r(e),n=new h,h.prototype=null,n[d]=e):n=m(),void 0===t?n:a.f(n,t)}},{"../internals/an-object":8,"../internals/document-create-element":53,"../internals/enum-bug-keys":63,"../internals/hidden-keys":86,"../internals/html":87,"../internals/object-define-properties":124,"../internals/shared-key":154}],124:[function(e,t,n){var i=e("../internals/descriptors"),r=e("../internals/v8-prototype-define-bug"),a=e("../internals/object-define-property"),s=e("../internals/an-object"),o=e("../internals/to-indexed-object"),l=e("../internals/object-keys");n.f=i&&!r?Object.defineProperties:function(e,t){s(e);for(var n,i=o(t),r=l(t),u=r.length,c=0;u>c;)a.f(e,n=r[c++],i[n]);return e}},{"../internals/an-object":8,"../internals/descriptors":51,"../internals/object-define-property":125,"../internals/object-keys":134,"../internals/to-indexed-object":171,"../internals/v8-prototype-define-bug":189}],125:[function(e,t,n){var i=e("../internals/descriptors"),r=e("../internals/ie8-dom-define"),a=e("../internals/v8-prototype-define-bug"),s=e("../internals/an-object"),o=e("../internals/to-property-key"),l=TypeError,u=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d="enumerable",h="configurable",f="writable";n.f=i?a?function(e,t,n){if(s(e),t=o(t),s(n),"function"==typeof e&&"prototype"===t&&"value"in n&&f in n&&!n.writable){var i=c(e,t);i&&i.writable&&(e[t]=n.value,n={configurable:h in n?n.configurable:i.configurable,enumerable:d in n?n.enumerable:i.enumerable,writable:!1})}return u(e,t,n)}:u:function(e,t,n){if(s(e),t=o(t),s(n),r)try{return u(e,t,n)}catch(e){}if("get"in n||"set"in n)throw l("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},{"../internals/an-object":8,"../internals/descriptors":51,"../internals/ie8-dom-define":88,"../internals/to-property-key":178,"../internals/v8-prototype-define-bug":189}],126:[function(e,t,n){var i=e("../internals/descriptors"),r=e("../internals/function-call"),a=e("../internals/object-property-is-enumerable"),s=e("../internals/create-property-descriptor"),o=e("../internals/to-indexed-object"),l=e("../internals/to-property-key"),u=e("../internals/has-own-property"),c=e("../internals/ie8-dom-define"),d=Object.getOwnPropertyDescriptor;n.f=i?d:function(e,t){if(e=o(e),t=l(t),c)try{return d(e,t)}catch(e){}if(u(e,t))return s(!r(a.f,e,t),e[t])}},{"../internals/create-property-descriptor":43,"../internals/descriptors":51,"../internals/function-call":76,"../internals/has-own-property":85,"../internals/ie8-dom-define":88,"../internals/object-property-is-enumerable":135,"../internals/to-indexed-object":171,"../internals/to-property-key":178}],127:[function(e,t,n){var i=e("../internals/classof-raw"),r=e("../internals/to-indexed-object"),a=e("../internals/object-get-own-property-names").f,s=e("../internals/array-slice-simple"),o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(e){return o&&"Window"==i(e)?function(e){try{return a(e)}catch(e){return s(o)}}(e):a(r(e))}},{"../internals/array-slice-simple":26,"../internals/classof-raw":33,"../internals/object-get-own-property-names":128,"../internals/to-indexed-object":171}],128:[function(e,t,n){var i=e("../internals/object-keys-internal"),r=e("../internals/enum-bug-keys").concat("length","prototype");n.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},{"../internals/enum-bug-keys":63,"../internals/object-keys-internal":133}],129:[function(e,t,n){n.f=Object.getOwnPropertySymbols},{}],130:[function(e,t,n){var i=e("../internals/has-own-property"),r=e("../internals/is-callable"),a=e("../internals/to-object"),s=e("../internals/shared-key"),o=e("../internals/correct-prototype-getter"),l=s("IE_PROTO"),u=Object,c=u.prototype;t.exports=o?u.getPrototypeOf:function(e){var t=a(e);if(i(t,l))return t[l];var n=t.constructor;return r(n)&&t instanceof n?n.prototype:t instanceof u?c:null}},{"../internals/correct-prototype-getter":39,"../internals/has-own-property":85,"../internals/is-callable":99,"../internals/shared-key":154,"../internals/to-object":174}],131:[function(e,t,n){var i=e("../internals/fails"),r=e("../internals/is-object"),a=e("../internals/classof-raw"),s=e("../internals/array-buffer-non-extensible"),o=Object.isExtensible,l=i((function(){o(1)}));t.exports=l||s?function(e){return!!r(e)&&((!s||"ArrayBuffer"!=a(e))&&(!o||o(e)))}:o},{"../internals/array-buffer-non-extensible":10,"../internals/classof-raw":33,"../internals/fails":68,"../internals/is-object":104}],132:[function(e,t,n){var i=e("../internals/function-uncurry-this");t.exports=i({}.isPrototypeOf)},{"../internals/function-uncurry-this":78}],133:[function(e,t,n){var i=e("../internals/function-uncurry-this"),r=e("../internals/has-own-property"),a=e("../internals/to-indexed-object"),s=e("../internals/array-includes").indexOf,o=e("../internals/hidden-keys"),l=i([].push);t.exports=function(e,t){var n,i=a(e),u=0,c=[];for(n in i)!r(o,n)&&r(i,n)&&l(c,n);for(;t.length>u;)r(i,n=t[u++])&&(~s(c,n)||l(c,n));return c}},{"../internals/array-includes":18,"../internals/function-uncurry-this":78,"../internals/has-own-property":85,"../internals/hidden-keys":86,"../internals/to-indexed-object":171}],134:[function(e,t,n){var i=e("../internals/object-keys-internal"),r=e("../internals/enum-bug-keys");t.exports=Object.keys||function(e){return i(e,r)}},{"../internals/enum-bug-keys":63,"../internals/object-keys-internal":133}],135:[function(e,t,n){"use strict";var i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,a=r&&!i.call({1:2},1);n.f=a?function(e){var t=r(this,e);return!!t&&t.enumerable}:i},{}],136:[function(e,t,n){var i=e("../internals/function-uncurry-this"),r=e("../internals/an-object"),a=e("../internals/a-possible-prototype");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=i(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,i){return r(n),a(i),t?e(n,i):n.__proto__=i,n}}():void 0)},{"../internals/a-possible-prototype":4,"../internals/an-object":8,"../internals/function-uncurry-this":78}],137:[function(e,t,n){"use strict";var i=e("../internals/to-string-tag-support"),r=e("../internals/classof");t.exports=i?{}.toString:function(){return"[object "+r(this)+"]"}},{"../internals/classof":34,"../internals/to-string-tag-support":179}],138:[function(e,t,n){var i=e("../internals/function-call"),r=e("../internals/is-callable"),a=e("../internals/is-object"),s=TypeError;t.exports=function(e,t){var n,o;if("string"===t&&r(n=e.toString)&&!a(o=i(n,e)))return o;if(r(n=e.valueOf)&&!a(o=i(n,e)))return o;if("string"!==t&&r(n=e.toString)&&!a(o=i(n,e)))return o;throw s("Can't convert object to primitive value")}},{"../internals/function-call":76,"../internals/is-callable":99,"../internals/is-object":104}],139:[function(e,t,n){var i=e("../internals/get-built-in"),r=e("../internals/function-uncurry-this"),a=e("../internals/object-get-own-property-names"),s=e("../internals/object-get-own-property-symbols"),o=e("../internals/an-object"),l=r([].concat);t.exports=i("Reflect","ownKeys")||function(e){var t=a.f(o(e)),n=s.f;return n?l(t,n(e)):t}},{"../internals/an-object":8,"../internals/function-uncurry-this":78,"../internals/get-built-in":79,"../internals/object-get-own-property-names":128,"../internals/object-get-own-property-symbols":129}],140:[function(e,t,n){var i=e("../internals/global");t.exports=i},{"../internals/global":84}],141:[function(e,t,n){var i=e("../internals/object-define-property").f;t.exports=function(e,t,n){n in e||i(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},{"../internals/object-define-property":125}],142:[function(e,t,n){var i=e("../internals/function-call"),r=e("../internals/an-object"),a=e("../internals/is-callable"),s=e("../internals/classof-raw"),o=e("../internals/regexp-exec"),l=TypeError;t.exports=function(e,t){var n=e.exec;if(a(n)){var u=i(n,e,t);return null!==u&&r(u),u}if("RegExp"===s(e))return i(o,e,t);throw l("RegExp#exec called on incompatible receiver")}},{"../internals/an-object":8,"../internals/classof-raw":33,"../internals/function-call":76,"../internals/is-callable":99,"../internals/regexp-exec":143}],143:[function(e,t,n){"use strict";var i,r,a=e("../internals/function-call"),s=e("../internals/function-uncurry-this"),o=e("../internals/to-string"),l=e("../internals/regexp-flags"),u=e("../internals/regexp-sticky-helpers"),c=e("../internals/shared"),d=e("../internals/object-create"),h=e("../internals/internal-state").get,f=e("../internals/regexp-unsupported-dot-all"),p=e("../internals/regexp-unsupported-ncg"),m=c("native-string-replace",String.prototype.replace),v=RegExp.prototype.exec,y=v,g=s("".charAt),_=s("".indexOf),b=s("".replace),j=s("".slice),x=(r=/b*/g,a(v,i=/a/,"a"),a(v,r,"a"),0!==i.lastIndex||0!==r.lastIndex),w=u.BROKEN_CARET,k=void 0!==/()??/.exec("")[1];(x||k||w||f||p)&&(y=function(e){var t,n,i,r,s,u,c,f=this,p=h(f),S=o(e),P=p.raw;if(P)return P.lastIndex=f.lastIndex,t=a(y,P,S),f.lastIndex=P.lastIndex,t;var M=p.groups,O=w&&f.sticky,L=a(l,f),E=f.source,A=0,C=S;if(O&&(L=b(L,"y",""),-1===_(L,"g")&&(L+="g"),C=j(S,f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==g(S,f.lastIndex-1))&&(E="(?: "+E+")",C=" "+C,A++),n=new RegExp("^(?:"+E+")",L)),k&&(n=new RegExp("^"+E+"$(?!\\s)",L)),x&&(i=f.lastIndex),r=a(v,O?n:f,C),O?r?(r.input=j(r.input,A),r[0]=j(r[0],A),r.index=f.lastIndex,f.lastIndex+=r[0].length):f.lastIndex=0:x&&r&&(f.lastIndex=f.global?r.index+r[0].length:i),k&&r&&r.length>1&&a(m,r[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(r[s]=void 0)})),r&&M)for(r.groups=u=d(null),s=0;s<M.length;s++)u[(c=M[s])[0]]=r[c[1]];return r}),t.exports=y},{"../internals/function-call":76,"../internals/function-uncurry-this":78,"../internals/internal-state":95,"../internals/object-create":123,"../internals/regexp-flags":144,"../internals/regexp-sticky-helpers":146,"../internals/regexp-unsupported-dot-all":147,"../internals/regexp-unsupported-ncg":148,"../internals/shared":156,"../internals/to-string":180}],144:[function(e,t,n){"use strict";var i=e("../internals/an-object");t.exports=function(){var e=i(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},{"../internals/an-object":8}],145:[function(e,t,n){var i=e("../internals/function-call"),r=e("../internals/has-own-property"),a=e("../internals/object-is-prototype-of"),s=e("../internals/regexp-flags"),o=RegExp.prototype;t.exports=function(e){var t=e.flags;return void 0!==t||"flags"in o||r(e,"flags")||!a(o,e)?t:i(s,e)}},{"../internals/function-call":76,"../internals/has-own-property":85,"../internals/object-is-prototype-of":132,"../internals/regexp-flags":144}],146:[function(e,t,n){var i=e("../internals/fails"),r=e("../internals/global").RegExp,a=i((function(){var e=r("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),s=a||i((function(){return!r("a","y").sticky})),o=a||i((function(){var e=r("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));t.exports={BROKEN_CARET:o,MISSED_STICKY:s,UNSUPPORTED_Y:a}},{"../internals/fails":68,"../internals/global":84}],147:[function(e,t,n){var i=e("../internals/fails"),r=e("../internals/global").RegExp;t.exports=i((function(){var e=r(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},{"../internals/fails":68,"../internals/global":84}],148:[function(e,t,n){var i=e("../internals/fails"),r=e("../internals/global").RegExp;t.exports=i((function(){var e=r("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},{"../internals/fails":68,"../internals/global":84}],149:[function(e,t,n){var i=e("../internals/is-null-or-undefined"),r=TypeError;t.exports=function(e){if(i(e))throw r("Can't call method on "+e);return e}},{"../internals/is-null-or-undefined":103}],150:[function(e,t,n){t.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},{}],151:[function(e,t,n){var i=e("../internals/global"),r=e("../internals/function-apply"),a=e("../internals/is-callable"),s=e("../internals/engine-user-agent"),o=e("../internals/array-slice"),l=e("../internals/validate-arguments-length"),u=/MSIE .\./.test(s),c=i.Function,d=function(e){return u?function(t,n){var i=l(arguments.length,1)>2,s=a(t)?t:c(t),u=i?o(arguments,2):void 0;return e(i?function(){r(s,this,u)}:s,n)}:e};t.exports={setTimeout:d(i.setTimeout),setInterval:d(i.setInterval)}},{"../internals/array-slice":27,"../internals/engine-user-agent":60,"../internals/function-apply":72,"../internals/global":84,"../internals/is-callable":99,"../internals/validate-arguments-length":190}],152:[function(e,t,n){"use strict";var i=e("../internals/get-built-in"),r=e("../internals/object-define-property"),a=e("../internals/well-known-symbol"),s=e("../internals/descriptors"),o=a("species");t.exports=function(e){var t=i(e),n=r.f;s&&t&&!t[o]&&n(t,o,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":51,"../internals/get-built-in":79,"../internals/object-define-property":125,"../internals/well-known-symbol":194}],153:[function(e,t,n){var i=e("../internals/object-define-property").f,r=e("../internals/has-own-property"),a=e("../internals/well-known-symbol")("toStringTag");t.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!r(e,a)&&i(e,a,{configurable:!0,value:t})}},{"../internals/has-own-property":85,"../internals/object-define-property":125,"../internals/well-known-symbol":194}],154:[function(e,t,n){var i=e("../internals/shared"),r=e("../internals/uid"),a=i("keys");t.exports=function(e){return a[e]||(a[e]=r(e))}},{"../internals/shared":156,"../internals/uid":187}],155:[function(e,t,n){var i=e("../internals/global"),r=e("../internals/define-global-property"),a="__core-js_shared__",s=i[a]||r(a,{});t.exports=s},{"../internals/define-global-property":49,"../internals/global":84}],156:[function(e,t,n){var i=e("../internals/is-pure"),r=e("../internals/shared-store");(t.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.25.3",mode:i?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.3/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":105,"../internals/shared-store":155}],157:[function(e,t,n){var i=e("../internals/an-object"),r=e("../internals/a-constructor"),a=e("../internals/is-null-or-undefined"),s=e("../internals/well-known-symbol")("species");t.exports=function(e,t){var n,o=i(e).constructor;return void 0===o||a(n=i(o)[s])?t:r(n)}},{"../internals/a-constructor":3,"../internals/an-object":8,"../internals/is-null-or-undefined":103,"../internals/well-known-symbol":194}],158:[function(e,t,n){var i=e("../internals/fails");t.exports=function(e){return i((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},{"../internals/fails":68}],159:[function(e,t,n){var i=e("../internals/function-uncurry-this"),r=e("../internals/to-integer-or-infinity"),a=e("../internals/to-string"),s=e("../internals/require-object-coercible"),o=i("".charAt),l=i("".charCodeAt),u=i("".slice),c=function(e){return function(t,n){var i,c,d=a(s(t)),h=r(n),f=d.length;return h<0||h>=f?e?"":void 0:(i=l(d,h))<55296||i>56319||h+1===f||(c=l(d,h+1))<56320||c>57343?e?o(d,h):i:e?u(d,h,h+2):c-56320+(i-55296<<10)+65536}};t.exports={codeAt:c(!1),charAt:c(!0)}},{"../internals/function-uncurry-this":78,"../internals/require-object-coercible":149,"../internals/to-integer-or-infinity":172,"../internals/to-string":180}],160:[function(e,t,n){var i=e("../internals/function-uncurry-this"),r=e("../internals/to-length"),a=e("../internals/to-string"),s=e("../internals/string-repeat"),o=e("../internals/require-object-coercible"),l=i(s),u=i("".slice),c=Math.ceil,d=function(e){return function(t,n,i){var s,d,h=a(o(t)),f=r(n),p=h.length,m=void 0===i?" ":a(i);return f<=p||""==m?h:((d=l(m,c((s=f-p)/m.length))).length>s&&(d=u(d,0,s)),e?h+d:d+h)}};t.exports={start:d(!1),end:d(!0)}},{"../internals/function-uncurry-this":78,"../internals/require-object-coercible":149,"../internals/string-repeat":161,"../internals/to-length":173,"../internals/to-string":180}],161:[function(e,t,n){"use strict";var i=e("../internals/to-integer-or-infinity"),r=e("../internals/to-string"),a=e("../internals/require-object-coercible"),s=RangeError;t.exports=function(e){var t=r(a(this)),n="",o=i(e);if(o<0||o==1/0)throw s("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},{"../internals/require-object-coercible":149,"../internals/to-integer-or-infinity":172,"../internals/to-string":180}],162:[function(e,t,n){var i=e("../internals/function-name").PROPER,r=e("../internals/fails"),a=e("../internals/whitespaces");t.exports=function(e){return r((function(){return!!a[e]()||"​᠎"!=="​᠎"[e]()||i&&a[e].name!==e}))}},{"../internals/fails":68,"../internals/function-name":77,"../internals/whitespaces":195}],163:[function(e,t,n){var i=e("../internals/function-uncurry-this"),r=e("../internals/require-object-coercible"),a=e("../internals/to-string"),s=e("../internals/whitespaces"),o=i("".replace),l="["+s+"]",u=RegExp("^"+l+l+"*"),c=RegExp(l+l+"*$"),d=function(e){return function(t){var n=a(r(t));return 1&e&&(n=o(n,u,"")),2&e&&(n=o(n,c,"")),n}};t.exports={start:d(1),end:d(2),trim:d(3)}},{"../internals/function-uncurry-this":78,"../internals/require-object-coercible":149,"../internals/to-string":180,"../internals/whitespaces":195}],164:[function(e,t,n){var i=e("../internals/engine-v8-version"),r=e("../internals/fails");t.exports=!!Object.getOwnPropertySymbols&&!r((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},{"../internals/engine-v8-version":61,"../internals/fails":68}],165:[function(e,t,n){var i=e("../internals/function-call"),r=e("../internals/get-built-in"),a=e("../internals/well-known-symbol"),s=e("../internals/define-built-in");t.exports=function(){var e=r("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,o=a("toPrimitive");t&&!t[o]&&s(t,o,(function(e){return i(n,this)}),{arity:1})}},{"../internals/define-built-in":47,"../internals/function-call":76,"../internals/get-built-in":79,"../internals/well-known-symbol":194}],166:[function(e,t,n){var i=e("../internals/symbol-constructor-detection");t.exports=i&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":164}],167:[function(e,t,n){var i=e("../internals/function-uncurry-this");t.exports=i(1..valueOf)},{"../internals/function-uncurry-this":78}],168:[function(e,t,n){var i=e("../internals/to-integer-or-infinity"),r=Math.max,a=Math.min;t.exports=function(e,t){var n=i(e);return n<0?r(n+t,0):a(n,t)}},{"../internals/to-integer-or-infinity":172}],169:[function(e,t,n){var i=e("../internals/to-primitive"),r=TypeError;t.exports=function(e){var t=i(e,"number");if("number"==typeof t)throw r("Can't convert number to bigint");return BigInt(t)}},{"../internals/to-primitive":177}],170:[function(e,t,n){var i=e("../internals/to-integer-or-infinity"),r=e("../internals/to-length"),a=RangeError;t.exports=function(e){if(void 0===e)return 0;var t=i(e),n=r(t);if(t!==n)throw a("Wrong length or index");return n}},{"../internals/to-integer-or-infinity":172,"../internals/to-length":173}],171:[function(e,t,n){var i=e("../internals/indexed-object"),r=e("../internals/require-object-coercible");t.exports=function(e){return i(r(e))}},{"../internals/indexed-object":90,"../internals/require-object-coercible":149}],172:[function(e,t,n){var i=e("../internals/math-trunc");t.exports=function(e){var t=+e;return t!=t||0===t?0:i(t)}},{"../internals/math-trunc":118}],173:[function(e,t,n){var i=e("../internals/to-integer-or-infinity"),r=Math.min;t.exports=function(e){return e>0?r(i(e),9007199254740991):0}},{"../internals/to-integer-or-infinity":172}],174:[function(e,t,n){var i=e("../internals/require-object-coercible"),r=Object;t.exports=function(e){return r(i(e))}},{"../internals/require-object-coercible":149}],175:[function(e,t,n){var i=e("../internals/to-positive-integer"),r=RangeError;t.exports=function(e,t){var n=i(e);if(n%t)throw r("Wrong offset");return n}},{"../internals/to-positive-integer":176}],176:[function(e,t,n){var i=e("../internals/to-integer-or-infinity"),r=RangeError;t.exports=function(e){var t=i(e);if(t<0)throw r("The argument can't be less than 0");return t}},{"../internals/to-integer-or-infinity":172}],177:[function(e,t,n){var i=e("../internals/function-call"),r=e("../internals/is-object"),a=e("../internals/is-symbol"),s=e("../internals/get-method"),o=e("../internals/ordinary-to-primitive"),l=e("../internals/well-known-symbol"),u=TypeError,c=l("toPrimitive");t.exports=function(e,t){if(!r(e)||a(e))return e;var n,l=s(e,c);if(l){if(void 0===t&&(t="default"),n=i(l,e,t),!r(n)||a(n))return n;throw u("Can't convert object to primitive value")}return void 0===t&&(t="number"),o(e,t)}},{"../internals/function-call":76,"../internals/get-method":82,"../internals/is-object":104,"../internals/is-symbol":107,"../internals/ordinary-to-primitive":138,"../internals/well-known-symbol":194}],178:[function(e,t,n){var i=e("../internals/to-primitive"),r=e("../internals/is-symbol");t.exports=function(e){var t=i(e,"string");return r(t)?t:t+""}},{"../internals/is-symbol":107,"../internals/to-primitive":177}],179:[function(e,t,n){var i={};i[e("../internals/well-known-symbol")("toStringTag")]="z",t.exports="[object z]"===String(i)},{"../internals/well-known-symbol":194}],180:[function(e,t,n){var i=e("../internals/classof"),r=String;t.exports=function(e){if("Symbol"===i(e))throw TypeError("Cannot convert a Symbol value to a string");return r(e)}},{"../internals/classof":34}],181:[function(e,t,n){var i=String;t.exports=function(e){try{return i(e)}catch(e){return"Object"}}},{}],182:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/global"),a=e("../internals/function-call"),s=e("../internals/descriptors"),o=e("../internals/typed-array-constructors-require-wrappers"),l=e("../internals/array-buffer-view-core"),u=e("../internals/array-buffer"),c=e("../internals/an-instance"),d=e("../internals/create-property-descriptor"),h=e("../internals/create-non-enumerable-property"),f=e("../internals/is-integral-number"),p=e("../internals/to-length"),m=e("../internals/to-index"),v=e("../internals/to-offset"),y=e("../internals/to-property-key"),g=e("../internals/has-own-property"),_=e("../internals/classof"),b=e("../internals/is-object"),j=e("../internals/is-symbol"),x=e("../internals/object-create"),w=e("../internals/object-is-prototype-of"),k=e("../internals/object-set-prototype-of"),S=e("../internals/object-get-own-property-names").f,P=e("../internals/typed-array-from"),M=e("../internals/array-iteration").forEach,O=e("../internals/set-species"),L=e("../internals/object-define-property"),E=e("../internals/object-get-own-property-descriptor"),A=e("../internals/internal-state"),C=e("../internals/inherit-if-required"),T=A.get,D=A.set,I=A.enforce,N=L.f,z=E.f,q=Math.round,R=r.RangeError,B=u.ArrayBuffer,F=B.prototype,H=u.DataView,W=l.NATIVE_ARRAY_BUFFER_VIEWS,Z=l.TYPED_ARRAY_TAG,V=l.TypedArray,U=l.TypedArrayPrototype,Y=l.aTypedArrayConstructor,G=l.isTypedArray,X="BYTES_PER_ELEMENT",K="Wrong length",$=function(e,t){Y(e);for(var n=0,i=t.length,r=new e(i);i>n;)r[n]=t[n++];return r},J=function(e,t){N(e,t,{get:function(){return T(this)[t]}})},Q=function(e){var t;return w(F,e)||"ArrayBuffer"==(t=_(e))||"SharedArrayBuffer"==t},ee=function(e,t){return G(e)&&!j(t)&&t in e&&f(+t)&&t>=0},te=function(e,t){return t=y(t),ee(e,t)?d(2,e[t]):z(e,t)},ne=function(e,t,n){return t=y(t),!(ee(e,t)&&b(n)&&g(n,"value"))||g(n,"get")||g(n,"set")||n.configurable||g(n,"writable")&&!n.writable||g(n,"enumerable")&&!n.enumerable?N(e,t,n):(e[t]=n.value,e)};s?(W||(E.f=te,L.f=ne,J(U,"buffer"),J(U,"byteOffset"),J(U,"byteLength"),J(U,"length")),i({target:"Object",stat:!0,forced:!W},{getOwnPropertyDescriptor:te,defineProperty:ne}),t.exports=function(e,t,n){var s=e.match(/\d+$/)[0]/8,l=e+(n?"Clamped":"")+"Array",u="get"+e,d="set"+e,f=r[l],y=f,g=y&&y.prototype,_={},j=function(e,t){N(e,t,{get:function(){return function(e,t){var n=T(e);return n.view[u](t*s+n.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,i){var r=T(e);n&&(i=(i=q(i))<0?0:i>255?255:255&i),r.view[d](t*s+r.byteOffset,i,!0)}(this,t,e)},enumerable:!0})};W?o&&(y=t((function(e,t,n,i){return c(e,g),C(b(t)?Q(t)?void 0!==i?new f(t,v(n,s),i):void 0!==n?new f(t,v(n,s)):new f(t):G(t)?$(y,t):a(P,y,t):new f(m(t)),e,y)})),k&&k(y,V),M(S(f),(function(e){e in y||h(y,e,f[e])})),y.prototype=g):(y=t((function(e,t,n,i){c(e,g);var r,o,l,u=0,d=0;if(b(t)){if(!Q(t))return G(t)?$(y,t):a(P,y,t);r=t,d=v(n,s);var h=t.byteLength;if(void 0===i){if(h%s)throw R(K);if((o=h-d)<0)throw R(K)}else if((o=p(i)*s)+d>h)throw R(K);l=o/s}else l=m(t),r=new B(o=l*s);for(D(e,{buffer:r,byteOffset:d,byteLength:o,length:l,view:new H(r)});u<l;)j(e,u++)})),k&&k(y,V),g=y.prototype=x(U)),g.constructor!==y&&h(g,"constructor",y),I(g).TypedArrayConstructor=y,Z&&h(g,Z,l);var w=y!=f;_[l]=y,i({global:!0,constructor:!0,forced:w,sham:!W},_),X in y||h(y,X,s),X in g||h(g,X,s),O(l)}):t.exports=function(){}},{"../internals/an-instance":7,"../internals/array-buffer":12,"../internals/array-buffer-view-core":11,"../internals/array-iteration":20,"../internals/classof":34,"../internals/create-non-enumerable-property":42,"../internals/create-property-descriptor":43,"../internals/descriptors":51,"../internals/export":67,"../internals/function-call":76,"../internals/global":84,"../internals/has-own-property":85,"../internals/inherit-if-required":91,"../internals/internal-state":95,"../internals/is-integral-number":102,"../internals/is-object":104,"../internals/is-symbol":107,"../internals/object-create":123,"../internals/object-define-property":125,"../internals/object-get-own-property-descriptor":126,"../internals/object-get-own-property-names":128,"../internals/object-is-prototype-of":132,"../internals/object-set-prototype-of":136,"../internals/set-species":152,"../internals/to-index":170,"../internals/to-length":173,"../internals/to-offset":175,"../internals/to-property-key":178,"../internals/typed-array-constructors-require-wrappers":183,"../internals/typed-array-from":185}],183:[function(e,t,n){var i=e("../internals/global"),r=e("../internals/fails"),a=e("../internals/check-correctness-of-iteration"),s=e("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,o=i.ArrayBuffer,l=i.Int8Array;t.exports=!s||!r((function(){l(1)}))||!r((function(){new l(-1)}))||!a((function(e){new l,new l(null),new l(1.5),new l(e)}),!0)||r((function(){return 1!==new l(new o(2),1,void 0).length}))},{"../internals/array-buffer-view-core":11,"../internals/check-correctness-of-iteration":32,"../internals/fails":68,"../internals/global":84}],184:[function(e,t,n){var i=e("../internals/array-from-constructor-and-list"),r=e("../internals/typed-array-species-constructor");t.exports=function(e,t){return i(r(e),t)}},{"../internals/array-from-constructor-and-list":16,"../internals/typed-array-species-constructor":186}],185:[function(e,t,n){var i=e("../internals/function-bind-context"),r=e("../internals/function-call"),a=e("../internals/a-constructor"),s=e("../internals/to-object"),o=e("../internals/length-of-array-like"),l=e("../internals/get-iterator"),u=e("../internals/get-iterator-method"),c=e("../internals/is-array-iterator-method"),d=e("../internals/is-big-int-array"),h=e("../internals/array-buffer-view-core").aTypedArrayConstructor,f=e("../internals/to-big-int");t.exports=function(e){var t,n,p,m,v,y,g,_,b=a(this),j=s(e),x=arguments.length,w=x>1?arguments[1]:void 0,k=void 0!==w,S=u(j);if(S&&!c(S))for(_=(g=l(j,S)).next,j=[];!(y=r(_,g)).done;)j.push(y.value);for(k&&x>2&&(w=i(w,arguments[2])),n=o(j),p=new(h(b))(n),m=d(p),t=0;n>t;t++)v=k?w(j[t],t):j[t],p[t]=m?f(v):+v;return p}},{"../internals/a-constructor":3,"../internals/array-buffer-view-core":11,"../internals/function-bind-context":73,"../internals/function-call":76,"../internals/get-iterator":81,"../internals/get-iterator-method":80,"../internals/is-array-iterator-method":96,"../internals/is-big-int-array":98,"../internals/length-of-array-like":114,"../internals/to-big-int":169,"../internals/to-object":174}],186:[function(e,t,n){var i=e("../internals/array-buffer-view-core"),r=e("../internals/species-constructor"),a=i.aTypedArrayConstructor,s=i.getTypedArrayConstructor;t.exports=function(e){return a(r(e,s(e)))}},{"../internals/array-buffer-view-core":11,"../internals/species-constructor":157}],187:[function(e,t,n){var i=e("../internals/function-uncurry-this"),r=0,a=Math.random(),s=i(1..toString);t.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++r+a,36)}},{"../internals/function-uncurry-this":78}],188:[function(e,t,n){var i=e("../internals/symbol-constructor-detection");t.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},{"../internals/symbol-constructor-detection":164}],189:[function(e,t,n){var i=e("../internals/descriptors"),r=e("../internals/fails");t.exports=i&&r((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},{"../internals/descriptors":51,"../internals/fails":68}],190:[function(e,t,n){var i=TypeError;t.exports=function(e,t){if(e<t)throw i("Not enough arguments");return e}},{}],191:[function(e,t,n){var i=e("../internals/global"),r=e("../internals/is-callable"),a=i.WeakMap;t.exports=r(a)&&/native code/.test(String(a))},{"../internals/global":84,"../internals/is-callable":99}],192:[function(e,t,n){var i=e("../internals/path"),r=e("../internals/has-own-property"),a=e("../internals/well-known-symbol-wrapped"),s=e("../internals/object-define-property").f;t.exports=function(e){var t=i.Symbol||(i.Symbol={});r(t,e)||s(t,e,{value:a.f(e)})}},{"../internals/has-own-property":85,"../internals/object-define-property":125,"../internals/path":140,"../internals/well-known-symbol-wrapped":193}],193:[function(e,t,n){var i=e("../internals/well-known-symbol");n.f=i},{"../internals/well-known-symbol":194}],194:[function(e,t,n){var i=e("../internals/global"),r=e("../internals/shared"),a=e("../internals/has-own-property"),s=e("../internals/uid"),o=e("../internals/symbol-constructor-detection"),l=e("../internals/use-symbol-as-uid"),u=r("wks"),c=i.Symbol,d=c&&c.for,h=l?c:c&&c.withoutSetter||s;t.exports=function(e){if(!a(u,e)||!o&&"string"!=typeof u[e]){var t="Symbol."+e;o&&a(c,e)?u[e]=c[e]:u[e]=l&&d?d(t):h(t)}return u[e]}},{"../internals/global":84,"../internals/has-own-property":85,"../internals/shared":156,"../internals/symbol-constructor-detection":164,"../internals/uid":187,"../internals/use-symbol-as-uid":188}],195:[function(e,t,n){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},{}],196:[function(e,t,n){"use strict";var i=e("../internals/get-built-in"),r=e("../internals/has-own-property"),a=e("../internals/create-non-enumerable-property"),s=e("../internals/object-is-prototype-of"),o=e("../internals/object-set-prototype-of"),l=e("../internals/copy-constructor-properties"),u=e("../internals/proxy-accessor"),c=e("../internals/inherit-if-required"),d=e("../internals/normalize-string-argument"),h=e("../internals/install-error-cause"),f=e("../internals/error-stack-clear"),p=e("../internals/error-stack-installable"),m=e("../internals/descriptors"),v=e("../internals/is-pure");t.exports=function(e,t,n,y){var g="stackTraceLimit",_=y?2:1,b=e.split("."),j=b[b.length-1],x=i.apply(null,b);if(x){var w=x.prototype;if(!v&&r(w,"cause")&&delete w.cause,!n)return x;var k=i("Error"),S=t((function(e,t){var n=d(y?t:e,void 0),i=y?new x(e):new x;return void 0!==n&&a(i,"message",n),p&&a(i,"stack",f(i.stack,2)),this&&s(w,this)&&c(i,this,S),arguments.length>_&&h(i,arguments[_]),i}));if(S.prototype=w,"Error"!==j?o?o(S,k):l(S,k,{name:!0}):m&&g in x&&(u(S,x,g),u(S,x,"prepareStackTrace")),l(S,x),!v)try{w.name!==j&&a(w,"name",j),w.constructor=S}catch(e){}return S}}},{"../internals/copy-constructor-properties":37,"../internals/create-non-enumerable-property":42,"../internals/descriptors":51,"../internals/error-stack-clear":64,"../internals/error-stack-installable":65,"../internals/get-built-in":79,"../internals/has-own-property":85,"../internals/inherit-if-required":91,"../internals/install-error-cause":93,"../internals/is-pure":105,"../internals/normalize-string-argument":119,"../internals/object-is-prototype-of":132,"../internals/object-set-prototype-of":136,"../internals/proxy-accessor":141}],197:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/function-uncurry-this"),a=e("../internals/fails"),s=e("../internals/array-buffer"),o=e("../internals/an-object"),l=e("../internals/to-absolute-index"),u=e("../internals/to-length"),c=e("../internals/species-constructor"),d=s.ArrayBuffer,h=s.DataView,f=h.prototype,p=r(d.prototype.slice),m=r(f.getUint8),v=r(f.setUint8);i({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:a((function(){return!new d(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(p&&void 0===t)return p(o(this),e);for(var n=o(this).byteLength,i=l(e,n),r=l(void 0===t?n:t,n),a=new(c(this,d))(u(r-i)),s=new h(this),f=new h(a),y=0;i<r;)v(f,y++,m(s,i++));return a}})},{"../internals/an-object":8,"../internals/array-buffer":12,"../internals/export":67,"../internals/fails":68,"../internals/function-uncurry-this":78,"../internals/species-constructor":157,"../internals/to-absolute-index":168,"../internals/to-length":173}],198:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/fails"),a=e("../internals/is-array"),s=e("../internals/is-object"),o=e("../internals/to-object"),l=e("../internals/length-of-array-like"),u=e("../internals/does-not-exceed-safe-integer"),c=e("../internals/create-property"),d=e("../internals/array-species-create"),h=e("../internals/array-method-has-species-support"),f=e("../internals/well-known-symbol"),p=e("../internals/engine-v8-version"),m=f("isConcatSpreadable"),v=p>=51||!r((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),y=h("concat"),g=function(e){if(!s(e))return!1;var t=e[m];return void 0!==t?!!t:a(e)};i({target:"Array",proto:!0,arity:1,forced:!v||!y},{concat:function(e){var t,n,i,r,a,s=o(this),h=d(s,0),f=0;for(t=-1,i=arguments.length;t<i;t++)if(g(a=-1===t?s:arguments[t]))for(r=l(a),u(f+r),n=0;n<r;n++,f++)n in a&&c(h,f,a[n]);else u(f+1),c(h,f++,a);return h.length=f,h}})},{"../internals/array-method-has-species-support":22,"../internals/array-species-create":30,"../internals/create-property":44,"../internals/does-not-exceed-safe-integer":54,"../internals/engine-v8-version":61,"../internals/export":67,"../internals/fails":68,"../internals/is-array":97,"../internals/is-object":104,"../internals/length-of-array-like":114,"../internals/to-object":174,"../internals/well-known-symbol":194}],199:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/array-iteration").every;i({target:"Array",proto:!0,forced:!e("../internals/array-method-is-strict")("every")},{every:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},{"../internals/array-iteration":20,"../internals/array-method-is-strict":23,"../internals/export":67}],200:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/array-fill"),a=e("../internals/add-to-unscopables");i({target:"Array",proto:!0},{fill:r}),a("fill")},{"../internals/add-to-unscopables":5,"../internals/array-fill":14,"../internals/export":67}],201:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/array-iteration").filter;i({target:"Array",proto:!0,forced:!e("../internals/array-method-has-species-support")("filter")},{filter:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},{"../internals/array-iteration":20,"../internals/array-method-has-species-support":22,"../internals/export":67}],202:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/array-iteration").findIndex,a=e("../internals/add-to-unscopables"),s="findIndex",o=!0;s in[]&&Array(1).findIndex((function(){o=!1})),i({target:"Array",proto:!0,forced:o},{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a(s)},{"../internals/add-to-unscopables":5,"../internals/array-iteration":20,"../internals/export":67}],203:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/array-iteration").find,a=e("../internals/add-to-unscopables"),s="find",o=!0;s in[]&&Array(1).find((function(){o=!1})),i({target:"Array",proto:!0,forced:o},{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a(s)},{"../internals/add-to-unscopables":5,"../internals/array-iteration":20,"../internals/export":67}],204:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/flatten-into-array"),a=e("../internals/to-object"),s=e("../internals/length-of-array-like"),o=e("../internals/to-integer-or-infinity"),l=e("../internals/array-species-create");i({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=a(this),n=s(t),i=l(t,0);return i.length=r(i,t,t,n,0,void 0===e?1:o(e)),i}})},{"../internals/array-species-create":30,"../internals/export":67,"../internals/flatten-into-array":70,"../internals/length-of-array-like":114,"../internals/to-integer-or-infinity":172,"../internals/to-object":174}],205:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/array-for-each");i({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},{"../internals/array-for-each":15,"../internals/export":67}],206:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/array-from");i({target:"Array",stat:!0,forced:!e("../internals/check-correctness-of-iteration")((function(e){Array.from(e)}))},{from:r})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":32,"../internals/export":67}],207:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/array-includes").includes,a=e("../internals/fails"),s=e("../internals/add-to-unscopables");i({target:"Array",proto:!0,forced:a((function(){return!Array(1).includes()}))},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),s("includes")},{"../internals/add-to-unscopables":5,"../internals/array-includes":18,"../internals/export":67,"../internals/fails":68}],208:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/function-uncurry-this"),a=e("../internals/array-includes").indexOf,s=e("../internals/array-method-is-strict"),o=r([].indexOf),l=!!o&&1/o([1],1,-0)<0,u=s("indexOf");i({target:"Array",proto:!0,forced:l||!u},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return l?o(this,e,t)||0:a(this,e,t)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":23,"../internals/export":67,"../internals/function-uncurry-this":78}],209:[function(e,t,n){"use strict";e("../internals/export")({target:"Array",stat:!0},{isArray:e("../internals/is-array")})},{"../internals/export":67,"../internals/is-array":97}],210:[function(e,t,n){"use strict";var i=e("../internals/to-indexed-object"),r=e("../internals/add-to-unscopables"),a=e("../internals/iterators"),s=e("../internals/internal-state"),o=e("../internals/object-define-property").f,l=e("../internals/iterator-define"),u=e("../internals/create-iter-result-object"),c=e("../internals/is-pure"),d=e("../internals/descriptors"),h="Array Iterator",f=s.set,p=s.getterFor(h);t.exports=l(Array,"Array",(function(e,t){f(this,{type:h,target:i(e),index:0,kind:t})}),(function(){var e=p(this),t=e.target,n=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,u(void 0,!0)):u("keys"==n?i:"values"==n?t[i]:[i,t[i]],!1)}),"values");var m=a.Arguments=a.Array;if(r("keys"),r("values"),r("entries"),!c&&d&&"values"!==m.name)try{o(m,"name",{value:"values"})}catch(e){}},{"../internals/add-to-unscopables":5,"../internals/create-iter-result-object":41,"../internals/descriptors":51,"../internals/internal-state":95,"../internals/is-pure":105,"../internals/iterator-define":111,"../internals/iterators":113,"../internals/object-define-property":125,"../internals/to-indexed-object":171}],211:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/function-uncurry-this"),a=e("../internals/indexed-object"),s=e("../internals/to-indexed-object"),o=e("../internals/array-method-is-strict"),l=r([].join),u=a!=Object,c=o("join",",");i({target:"Array",proto:!0,forced:u||!c},{join:function(e){return l(s(this),void 0===e?",":e)}})},{"../internals/array-method-is-strict":23,"../internals/export":67,"../internals/function-uncurry-this":78,"../internals/indexed-object":90,"../internals/to-indexed-object":171}],212:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/array-iteration").map;i({target:"Array",proto:!0,forced:!e("../internals/array-method-has-species-support")("map")},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},{"../internals/array-iteration":20,"../internals/array-method-has-species-support":22,"../internals/export":67}],213:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/to-object"),a=e("../internals/length-of-array-like"),s=e("../internals/array-set-length"),o=e("../internals/does-not-exceed-safe-integer"),l=e("../internals/fails")((function(){return 4294967297!==[].push.call({length:4294967296},1)})),u=!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}();i({target:"Array",proto:!0,arity:1,forced:l||u},{push:function(e){var t=r(this),n=a(t),i=arguments.length;o(n+i);for(var l=0;l<i;l++)t[n]=arguments[l],n++;return s(t,n),n}})},{"../internals/array-set-length":25,"../internals/does-not-exceed-safe-integer":54,"../internals/export":67,"../internals/fails":68,"../internals/length-of-array-like":114,"../internals/to-object":174}],214:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/array-reduce").left,a=e("../internals/array-method-is-strict"),s=e("../internals/engine-v8-version"),o=e("../internals/engine-is-node");i({target:"Array",proto:!0,forced:!a("reduce")||!o&&s>79&&s<83},{reduce:function(e){var t=arguments.length;return r(this,e,t,t>1?arguments[1]:void 0)}})},{"../internals/array-method-is-strict":23,"../internals/array-reduce":24,"../internals/engine-is-node":59,"../internals/engine-v8-version":61,"../internals/export":67}],215:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/is-array"),a=e("../internals/is-constructor"),s=e("../internals/is-object"),o=e("../internals/to-absolute-index"),l=e("../internals/length-of-array-like"),u=e("../internals/to-indexed-object"),c=e("../internals/create-property"),d=e("../internals/well-known-symbol"),h=e("../internals/array-method-has-species-support"),f=e("../internals/array-slice"),p=h("slice"),m=d("species"),v=Array,y=Math.max;i({target:"Array",proto:!0,forced:!p},{slice:function(e,t){var n,i,d,h=u(this),p=l(h),g=o(e,p),_=o(void 0===t?p:t,p);if(r(h)&&(n=h.constructor,(a(n)&&(n===v||r(n.prototype))||s(n)&&null===(n=n[m]))&&(n=void 0),n===v||void 0===n))return f(h,g,_);for(i=new(void 0===n?v:n)(y(_-g,0)),d=0;g<_;g++,d++)g in h&&c(i,d,h[g]);return i.length=d,i}})},{"../internals/array-method-has-species-support":22,"../internals/array-slice":27,"../internals/create-property":44,"../internals/export":67,"../internals/is-array":97,"../internals/is-constructor":100,"../internals/is-object":104,"../internals/length-of-array-like":114,"../internals/to-absolute-index":168,"../internals/to-indexed-object":171,"../internals/well-known-symbol":194}],216:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/array-iteration").some;i({target:"Array",proto:!0,forced:!e("../internals/array-method-is-strict")("some")},{some:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},{"../internals/array-iteration":20,"../internals/array-method-is-strict":23,"../internals/export":67}],217:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/function-uncurry-this"),a=e("../internals/a-callable"),s=e("../internals/to-object"),o=e("../internals/length-of-array-like"),l=e("../internals/delete-property-or-throw"),u=e("../internals/to-string"),c=e("../internals/fails"),d=e("../internals/array-sort"),h=e("../internals/array-method-is-strict"),f=e("../internals/engine-ff-version"),p=e("../internals/engine-is-ie-or-edge"),m=e("../internals/engine-v8-version"),v=e("../internals/engine-webkit-version"),y=[],g=r(y.sort),_=r(y.push),b=c((function(){y.sort(void 0)})),j=c((function(){y.sort(null)})),x=h("sort"),w=!c((function(){if(m)return m<70;if(!(f&&f>3)){if(p)return!0;if(v)return v<603;var e,t,n,i,r="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)y.push({k:t+i,v:n})}for(y.sort((function(e,t){return t.v-e.v})),i=0;i<y.length;i++)t=y[i].k.charAt(0),r.charAt(r.length-1)!==t&&(r+=t);return"DGBEFHACIJK"!==r}}));i({target:"Array",proto:!0,forced:b||!j||!x||!w},{sort:function(e){void 0!==e&&a(e);var t=s(this);if(w)return void 0===e?g(t):g(t,e);var n,i,r=[],c=o(t);for(i=0;i<c;i++)i in t&&_(r,t[i]);for(d(r,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:u(t)>u(n)?1:-1}}(e)),n=o(r),i=0;i<n;)t[i]=r[i++];for(;i<c;)l(t,i++);return t}})},{"../internals/a-callable":2,"../internals/array-method-is-strict":23,"../internals/array-sort":28,"../internals/delete-property-or-throw":50,"../internals/engine-ff-version":57,"../internals/engine-is-ie-or-edge":58,"../internals/engine-v8-version":61,"../internals/engine-webkit-version":62,"../internals/export":67,"../internals/fails":68,"../internals/function-uncurry-this":78,"../internals/length-of-array-like":114,"../internals/to-object":174,"../internals/to-string":180}],218:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/to-object"),a=e("../internals/to-absolute-index"),s=e("../internals/to-integer-or-infinity"),o=e("../internals/length-of-array-like"),l=e("../internals/array-set-length"),u=e("../internals/does-not-exceed-safe-integer"),c=e("../internals/array-species-create"),d=e("../internals/create-property"),h=e("../internals/delete-property-or-throw"),f=e("../internals/array-method-has-species-support")("splice"),p=Math.max,m=Math.min;i({target:"Array",proto:!0,forced:!f},{splice:function(e,t){var n,i,f,v,y,g,_=r(this),b=o(_),j=a(e,b),x=arguments.length;for(0===x?n=i=0:1===x?(n=0,i=b-j):(n=x-2,i=m(p(s(t),0),b-j)),u(b+n-i),f=c(_,i),v=0;v<i;v++)(y=j+v)in _&&d(f,v,_[y]);if(f.length=i,n<i){for(v=j;v<b-i;v++)g=v+n,(y=v+i)in _?_[g]=_[y]:h(_,g);for(v=b;v>b-i+n;v--)h(_,v-1)}else if(n>i)for(v=b-i;v>j;v--)g=v+n-1,(y=v+i-1)in _?_[g]=_[y]:h(_,g);for(v=0;v<n;v++)_[v+j]=arguments[v+2];return l(_,b-i+n),f}})},{"../internals/array-method-has-species-support":22,"../internals/array-set-length":25,"../internals/array-species-create":30,"../internals/create-property":44,"../internals/delete-property-or-throw":50,"../internals/does-not-exceed-safe-integer":54,"../internals/export":67,"../internals/length-of-array-like":114,"../internals/to-absolute-index":168,"../internals/to-integer-or-infinity":172,"../internals/to-object":174}],219:[function(e,t,n){e("../internals/add-to-unscopables")("flat")},{"../internals/add-to-unscopables":5}],220:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/to-object"),a=e("../internals/length-of-array-like"),s=e("../internals/array-set-length"),o=e("../internals/delete-property-or-throw"),l=e("../internals/does-not-exceed-safe-integer"),u=1!==[].unshift(0),c=!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}();i({target:"Array",proto:!0,arity:1,forced:u||c},{unshift:function(e){var t=r(this),n=a(t),i=arguments.length;if(i){l(n+i);for(var u=n;u--;){var c=u+i;u in t?t[c]=t[u]:o(t,c)}for(var d=0;d<i;d++)t[d]=arguments[d]}return s(t,n+i)}})},{"../internals/array-set-length":25,"../internals/delete-property-or-throw":50,"../internals/does-not-exceed-safe-integer":54,"../internals/export":67,"../internals/length-of-array-like":114,"../internals/to-object":174}],221:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/function-uncurry-this"),a=Date,s=r(a.prototype.getTime);i({target:"Date",stat:!0},{now:function(){return s(new a)}})},{"../internals/export":67,"../internals/function-uncurry-this":78}],222:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/date-to-iso-string");i({target:"Date",proto:!0,forced:Date.prototype.toISOString!==r},{toISOString:r})},{"../internals/date-to-iso-string":45,"../internals/export":67}],223:[function(e,t,n){var i=e("../internals/function-uncurry-this"),r=e("../internals/define-built-in"),a=Date.prototype,s="Invalid Date",o="toString",l=i(a.toString),u=i(a.getTime);String(new Date(NaN))!=s&&r(a,o,(function(){var e=u(this);return e==e?l(this):s}))},{"../internals/define-built-in":47,"../internals/function-uncurry-this":78}],224:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/global"),a=e("../internals/function-apply"),s=e("../internals/wrap-error-constructor-with-cause"),o="WebAssembly",l=r.WebAssembly,u=7!==Error("e",{cause:7}).cause,c=function(e,t){var n={};n[e]=s(e,t,u),i({global:!0,constructor:!0,arity:1,forced:u},n)},d=function(e,t){if(l&&l[e]){var n={};n[e]=s("WebAssembly."+e,t,u),i({target:o,stat:!0,constructor:!0,arity:1,forced:u},n)}};c("Error",(function(e){return function(t){return a(e,this,arguments)}})),c("EvalError",(function(e){return function(t){return a(e,this,arguments)}})),c("RangeError",(function(e){return function(t){return a(e,this,arguments)}})),c("ReferenceError",(function(e){return function(t){return a(e,this,arguments)}})),c("SyntaxError",(function(e){return function(t){return a(e,this,arguments)}})),c("TypeError",(function(e){return function(t){return a(e,this,arguments)}})),c("URIError",(function(e){return function(t){return a(e,this,arguments)}})),d("CompileError",(function(e){return function(t){return a(e,this,arguments)}})),d("LinkError",(function(e){return function(t){return a(e,this,arguments)}})),d("RuntimeError",(function(e){return function(t){return a(e,this,arguments)}}))},{"../internals/export":67,"../internals/function-apply":72,"../internals/global":84,"../internals/wrap-error-constructor-with-cause":196}],225:[function(e,t,n){var i=e("../internals/define-built-in"),r=e("../internals/error-to-string"),a=Error.prototype;a.toString!==r&&i(a,"toString",r)},{"../internals/define-built-in":47,"../internals/error-to-string":66}],226:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/function-bind");i({target:"Function",proto:!0,forced:Function.bind!==r},{bind:r})},{"../internals/export":67,"../internals/function-bind":75}],227:[function(e,t,n){var i=e("../internals/descriptors"),r=e("../internals/function-name").EXISTS,a=e("../internals/function-uncurry-this"),s=e("../internals/object-define-property").f,o=Function.prototype,l=a(o.toString),u=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,c=a(u.exec);i&&!r&&s(o,"name",{configurable:!0,get:function(){try{return c(u,l(this))[1]}catch(e){return""}}})},{"../internals/descriptors":51,"../internals/function-name":77,"../internals/function-uncurry-this":78,"../internals/object-define-property":125}],228:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/get-built-in"),a=e("../internals/function-apply"),s=e("../internals/function-call"),o=e("../internals/function-uncurry-this"),l=e("../internals/fails"),u=e("../internals/is-array"),c=e("../internals/is-callable"),d=e("../internals/is-object"),h=e("../internals/is-symbol"),f=e("../internals/array-slice"),p=e("../internals/symbol-constructor-detection"),m=r("JSON","stringify"),v=o(/./.exec),y=o("".charAt),g=o("".charCodeAt),_=o("".replace),b=o(1..toString),j=/[\uD800-\uDFFF]/g,x=/^[\uD800-\uDBFF]$/,w=/^[\uDC00-\uDFFF]$/,k=!p||l((function(){var e=r("Symbol")();return"[null]"!=m([e])||"{}"!=m({a:e})||"{}"!=m(Object(e))})),S=l((function(){return'"\\udf06\\ud834"'!==m("\udf06\ud834")||'"\\udead"'!==m("\udead")})),P=function(e,t){var n=f(arguments),i=t;if((d(t)||void 0!==e)&&!h(e))return u(t)||(t=function(e,t){if(c(i)&&(t=s(i,this,e,t)),!h(t))return t}),n[1]=t,a(m,null,n)},M=function(e,t,n){var i=y(n,t-1),r=y(n,t+1);return v(x,e)&&!v(w,r)||v(w,e)&&!v(x,i)?"\\u"+b(g(e,0),16):e};m&&i({target:"JSON",stat:!0,arity:3,forced:k||S},{stringify:function(e,t,n){var i=f(arguments),r=a(k?P:m,null,i);return S&&"string"==typeof r?_(r,j,M):r}})},{"../internals/array-slice":27,"../internals/export":67,"../internals/fails":68,"../internals/function-apply":72,"../internals/function-call":76,"../internals/function-uncurry-this":78,"../internals/get-built-in":79,"../internals/is-array":97,"../internals/is-callable":99,"../internals/is-object":104,"../internals/is-symbol":107,"../internals/symbol-constructor-detection":164}],229:[function(e,t,n){"use strict";e("../internals/collection")("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),e("../internals/collection-strong"))},{"../internals/collection":36,"../internals/collection-strong":35}],230:[function(e,t,n){e("../modules/es.map.constructor")},{"../modules/es.map.constructor":229}],231:[function(e,t,n){"use strict";e("../internals/export")({target:"Math",stat:!0},{fround:e("../internals/math-fround")})},{"../internals/export":67,"../internals/math-fround":116}],232:[function(e,t,n){"use strict";var i=e("../internals/descriptors"),r=e("../internals/global"),a=e("../internals/function-uncurry-this"),s=e("../internals/is-forced"),o=e("../internals/define-built-in"),l=e("../internals/has-own-property"),u=e("../internals/inherit-if-required"),c=e("../internals/object-is-prototype-of"),d=e("../internals/is-symbol"),h=e("../internals/to-primitive"),f=e("../internals/fails"),p=e("../internals/object-get-own-property-names").f,m=e("../internals/object-get-own-property-descriptor").f,v=e("../internals/object-define-property").f,y=e("../internals/this-number-value"),g=e("../internals/string-trim").trim,_="Number",b=r.Number,j=b.prototype,x=r.TypeError,w=a("".slice),k=a("".charCodeAt),S=function(e){var t=h(e,"number");return"bigint"==typeof t?t:P(t)},P=function(e){var t,n,i,r,a,s,o,l,u=h(e,"number");if(d(u))throw x("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2)if(u=g(u),43===(t=k(u,0))||45===t){if(88===(n=k(u,2))||120===n)return NaN}else if(48===t){switch(k(u,1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+u}for(s=(a=w(u,2)).length,o=0;o<s;o++)if((l=k(a,o))<48||l>r)return NaN;return parseInt(a,i)}return+u};if(s(_,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var M,O=function(e){var t=arguments.length<1?0:b(S(e)),n=this;return c(j,n)&&f((function(){y(n)}))?u(Object(t),n,O):t},L=i?p(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),E=0;L.length>E;E++)l(b,M=L[E])&&!l(O,M)&&v(O,M,m(b,M));O.prototype=j,j.constructor=O,o(r,_,O,{constructor:!0})}},{"../internals/define-built-in":47,"../internals/descriptors":51,"../internals/fails":68,"../internals/function-uncurry-this":78,"../internals/global":84,"../internals/has-own-property":85,"../internals/inherit-if-required":91,"../internals/is-forced":101,"../internals/is-symbol":107,"../internals/object-define-property":125,"../internals/object-get-own-property-descriptor":126,"../internals/object-get-own-property-names":128,"../internals/object-is-prototype-of":132,"../internals/string-trim":163,"../internals/this-number-value":167,"../internals/to-primitive":177}],233:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/function-uncurry-this"),a=e("../internals/to-integer-or-infinity"),s=e("../internals/this-number-value"),o=e("../internals/string-repeat"),l=e("../internals/fails"),u=RangeError,c=String,d=Math.floor,h=r(o),f=r("".slice),p=r(1..toFixed),m=function(e,t,n){return 0===t?n:t%2==1?m(e,t-1,n*e):m(e*e,t/2,n)},v=function(e,t,n){for(var i=-1,r=n;++i<6;)r+=t*e[i],e[i]=r%1e7,r=d(r/1e7)},y=function(e,t){for(var n=6,i=0;--n>=0;)i+=e[n],e[n]=d(i/t),i=i%t*1e7},g=function(e){for(var t=6,n="";--t>=0;)if(""!==n||0===t||0!==e[t]){var i=c(e[t]);n=""===n?i:n+h("0",7-i.length)+i}return n};i({target:"Number",proto:!0,forced:l((function(){return"0.000"!==p(8e-5,3)||"1"!==p(.9,0)||"1.25"!==p(1.255,2)||"1000000000000000128"!==p(0xde0b6b3a7640080,0)}))||!l((function(){p({})}))},{toFixed:function(e){var t,n,i,r,o=s(this),l=a(e),d=[0,0,0,0,0,0],p="",_="0";if(l<0||l>20)throw u("Incorrect fraction digits");if(o!=o)return"NaN";if(o<=-1e21||o>=1e21)return c(o);if(o<0&&(p="-",o=-o),o>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(o*m(2,69,1))-69)<0?o*m(2,-t,1):o/m(2,t,1),n*=4503599627370496,(t=52-t)>0){for(v(d,0,n),i=l;i>=7;)v(d,1e7,0),i-=7;for(v(d,m(10,i,1),0),i=t-1;i>=23;)y(d,1<<23),i-=23;y(d,1<<i),v(d,1,1),y(d,2),_=g(d)}else v(d,0,n),v(d,1<<-t,0),_=g(d)+h("0",l);return _=l>0?p+((r=_.length)<=l?"0."+h("0",l-r)+_:f(_,0,r-l)+"."+f(_,r-l)):p+_}})},{"../internals/export":67,"../internals/fails":68,"../internals/function-uncurry-this":78,"../internals/string-repeat":161,"../internals/this-number-value":167,"../internals/to-integer-or-infinity":172}],234:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/object-assign");i({target:"Object",stat:!0,arity:2,forced:Object.assign!==r},{assign:r})},{"../internals/export":67,"../internals/object-assign":122}],235:[function(e,t,n){"use strict";e("../internals/export")({target:"Object",stat:!0,sham:!e("../internals/descriptors")},{create:e("../internals/object-create")})},{"../internals/descriptors":51,"../internals/export":67,"../internals/object-create":123}],236:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/descriptors"),a=e("../internals/object-define-properties").f;i({target:"Object",stat:!0,forced:Object.defineProperties!==a,sham:!r},{defineProperties:a})},{"../internals/descriptors":51,"../internals/export":67,"../internals/object-define-properties":124}],237:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/descriptors"),a=e("../internals/object-define-property").f;i({target:"Object",stat:!0,forced:Object.defineProperty!==a,sham:!r},{defineProperty:a})},{"../internals/descriptors":51,"../internals/export":67,"../internals/object-define-property":125}],238:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/fails"),a=e("../internals/to-indexed-object"),s=e("../internals/object-get-own-property-descriptor").f,o=e("../internals/descriptors"),l=r((function(){s(1)}));i({target:"Object",stat:!0,forced:!o||l,sham:!o},{getOwnPropertyDescriptor:function(e,t){return s(a(e),t)}})},{"../internals/descriptors":51,"../internals/export":67,"../internals/fails":68,"../internals/object-get-own-property-descriptor":126,"../internals/to-indexed-object":171}],239:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/descriptors"),a=e("../internals/own-keys"),s=e("../internals/to-indexed-object"),o=e("../internals/object-get-own-property-descriptor"),l=e("../internals/create-property");i({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(e){for(var t,n,i=s(e),r=o.f,u=a(i),c={},d=0;u.length>d;)void 0!==(n=r(i,t=u[d++]))&&l(c,t,n);return c}})},{"../internals/create-property":44,"../internals/descriptors":51,"../internals/export":67,"../internals/object-get-own-property-descriptor":126,"../internals/own-keys":139,"../internals/to-indexed-object":171}],240:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/symbol-constructor-detection"),a=e("../internals/fails"),s=e("../internals/object-get-own-property-symbols"),o=e("../internals/to-object");i({target:"Object",stat:!0,forced:!r||a((function(){s.f(1)}))},{getOwnPropertySymbols:function(e){var t=s.f;return t?t(o(e)):[]}})},{"../internals/export":67,"../internals/fails":68,"../internals/object-get-own-property-symbols":129,"../internals/symbol-constructor-detection":164,"../internals/to-object":174}],241:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/fails"),a=e("../internals/to-object"),s=e("../internals/object-get-prototype-of"),o=e("../internals/correct-prototype-getter");i({target:"Object",stat:!0,forced:r((function(){s(1)})),sham:!o},{getPrototypeOf:function(e){return s(a(e))}})},{"../internals/correct-prototype-getter":39,"../internals/export":67,"../internals/fails":68,"../internals/object-get-prototype-of":130,"../internals/to-object":174}],242:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/to-object"),a=e("../internals/object-keys");i({target:"Object",stat:!0,forced:e("../internals/fails")((function(){a(1)}))},{keys:function(e){return a(r(e))}})},{"../internals/export":67,"../internals/fails":68,"../internals/object-keys":134,"../internals/to-object":174}],243:[function(e,t,n){"use strict";var i=e("../internals/descriptors"),r=e("../internals/define-built-in-accessor"),a=e("../internals/is-object"),s=e("../internals/to-object"),o=e("../internals/require-object-coercible"),l=Object.getPrototypeOf,u=Object.setPrototypeOf,c=Object.prototype,d="__proto__";if(i&&l&&u&&!(d in c))try{r(c,d,{configurable:!0,get:function(){return l(s(this))},set:function(e){var t=o(this);(a(e)||null===e)&&a(t)&&u(t,e)}})}catch(e){}},{"../internals/define-built-in-accessor":46,"../internals/descriptors":51,"../internals/is-object":104,"../internals/require-object-coercible":149,"../internals/to-object":174}],244:[function(e,t,n){"use strict";e("../internals/export")({target:"Object",stat:!0},{setPrototypeOf:e("../internals/object-set-prototype-of")})},{"../internals/export":67,"../internals/object-set-prototype-of":136}],245:[function(e,t,n){var i=e("../internals/to-string-tag-support"),r=e("../internals/define-built-in"),a=e("../internals/object-to-string");i||r(Object.prototype,"toString",a,{unsafe:!0})},{"../internals/define-built-in":47,"../internals/object-to-string":137,"../internals/to-string-tag-support":179}],246:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/number-parse-int");i({global:!0,forced:parseInt!=r},{parseInt:r})},{"../internals/export":67,"../internals/number-parse-int":121}],247:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/get-built-in"),a=e("../internals/function-apply"),s=e("../internals/function-bind"),o=e("../internals/a-constructor"),l=e("../internals/an-object"),u=e("../internals/is-object"),c=e("../internals/object-create"),d=e("../internals/fails"),h=r("Reflect","construct"),f=Object.prototype,p=[].push,m=d((function(){function e(){}return!(h((function(){}),[],e)instanceof e)})),v=!d((function(){h((function(){}))})),y=m||v;i({target:"Reflect",stat:!0,forced:y,sham:y},{construct:function(e,t){o(e),l(t);var n=arguments.length<3?e:o(arguments[2]);if(v&&!m)return h(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var i=[null];return a(p,i,t),new(a(s,e,i))}var r=n.prototype,d=c(u(r)?r:f),y=a(e,d,t);return u(y)?y:d}})},{"../internals/a-constructor":3,"../internals/an-object":8,"../internals/export":67,"../internals/fails":68,"../internals/function-apply":72,"../internals/function-bind":75,"../internals/get-built-in":79,"../internals/is-object":104,"../internals/object-create":123}],248:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/global"),a=e("../internals/set-to-string-tag");i({global:!0},{Reflect:{}}),a(r.Reflect,"Reflect",!0)},{"../internals/export":67,"../internals/global":84,"../internals/set-to-string-tag":153}],249:[function(e,t,n){var i=e("../internals/descriptors"),r=e("../internals/global"),a=e("../internals/function-uncurry-this"),s=e("../internals/is-forced"),o=e("../internals/inherit-if-required"),l=e("../internals/create-non-enumerable-property"),u=e("../internals/object-get-own-property-names").f,c=e("../internals/object-is-prototype-of"),d=e("../internals/is-regexp"),h=e("../internals/to-string"),f=e("../internals/regexp-get-flags"),p=e("../internals/regexp-sticky-helpers"),m=e("../internals/proxy-accessor"),v=e("../internals/define-built-in"),y=e("../internals/fails"),g=e("../internals/has-own-property"),_=e("../internals/internal-state").enforce,b=e("../internals/set-species"),j=e("../internals/well-known-symbol"),x=e("../internals/regexp-unsupported-dot-all"),w=e("../internals/regexp-unsupported-ncg"),k=j("match"),S=r.RegExp,P=S.prototype,M=r.SyntaxError,O=a(P.exec),L=a("".charAt),E=a("".replace),A=a("".indexOf),C=a("".slice),T=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,D=/a/g,I=/a/g,N=new S(D)!==D,z=p.MISSED_STICKY,q=p.UNSUPPORTED_Y,R=i&&(!N||z||x||w||y((function(){return I[k]=!1,S(D)!=D||S(I)==I||"/a/i"!=S(D,"i")})));if(s("RegExp",R)){for(var B=function(e,t){var n,i,r,a,s,u,p=c(P,this),m=d(e),v=void 0===t,y=[],b=e;if(!p&&m&&v&&e.constructor===B)return e;if((m||c(P,e))&&(e=e.source,v&&(t=f(b))),e=void 0===e?"":h(e),t=void 0===t?"":h(t),b=e,x&&"dotAll"in D&&(i=!!t&&A(t,"s")>-1)&&(t=E(t,/s/g,"")),n=t,z&&"sticky"in D&&(r=!!t&&A(t,"y")>-1)&&q&&(t=E(t,/y/g,"")),w&&(a=function(e){for(var t,n=e.length,i=0,r="",a=[],s={},o=!1,l=!1,u=0,c="";i<=n;i++){if("\\"===(t=L(e,i)))t+=L(e,++i);else if("]"===t)o=!1;else if(!o)switch(!0){case"["===t:o=!0;break;case"("===t:O(T,C(e,i+1))&&(i+=2,l=!0),r+=t,u++;continue;case">"===t&&l:if(""===c||g(s,c))throw new M("Invalid capture group name");s[c]=!0,a[a.length]=[c,u],l=!1,c="";continue}l?c+=t:r+=t}return[r,a]}(e),e=a[0],y=a[1]),s=o(S(e,t),p?this:P,B),(i||r||y.length)&&(u=_(s),i&&(u.dotAll=!0,u.raw=B(function(e){for(var t,n=e.length,i=0,r="",a=!1;i<=n;i++)"\\"!==(t=L(e,i))?a||"."!==t?("["===t?a=!0:"]"===t&&(a=!1),r+=t):r+="[\\s\\S]":r+=t+L(e,++i);return r}(e),n)),r&&(u.sticky=!0),y.length&&(u.groups=y)),e!==b)try{l(s,"source",""===b?"(?:)":b)}catch(e){}return s},F=u(S),H=0;F.length>H;)m(B,S,F[H++]);P.constructor=B,B.prototype=P,v(r,"RegExp",B,{constructor:!0})}b("RegExp")},{"../internals/create-non-enumerable-property":42,"../internals/define-built-in":47,"../internals/descriptors":51,"../internals/fails":68,"../internals/function-uncurry-this":78,"../internals/global":84,"../internals/has-own-property":85,"../internals/inherit-if-required":91,"../internals/internal-state":95,"../internals/is-forced":101,"../internals/is-regexp":106,"../internals/object-get-own-property-names":128,"../internals/object-is-prototype-of":132,"../internals/proxy-accessor":141,"../internals/regexp-get-flags":145,"../internals/regexp-sticky-helpers":146,"../internals/regexp-unsupported-dot-all":147,"../internals/regexp-unsupported-ncg":148,"../internals/set-species":152,"../internals/to-string":180,"../internals/well-known-symbol":194}],250:[function(e,t,n){var i=e("../internals/descriptors"),r=e("../internals/regexp-unsupported-dot-all"),a=e("../internals/classof-raw"),s=e("../internals/define-built-in-accessor"),o=e("../internals/internal-state").get,l=RegExp.prototype,u=TypeError;i&&r&&s(l,"dotAll",{configurable:!0,get:function(){if(this!==l){if("RegExp"===a(this))return!!o(this).dotAll;throw u("Incompatible receiver, RegExp required")}}})},{"../internals/classof-raw":33,"../internals/define-built-in-accessor":46,"../internals/descriptors":51,"../internals/internal-state":95,"../internals/regexp-unsupported-dot-all":147}],251:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/regexp-exec");i({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},{"../internals/export":67,"../internals/regexp-exec":143}],252:[function(e,t,n){var i=e("../internals/global"),r=e("../internals/descriptors"),a=e("../internals/define-built-in-accessor"),s=e("../internals/regexp-flags"),o=e("../internals/fails"),l=i.RegExp,u=l.prototype;r&&o((function(){var e=!0;try{l(".","d")}catch(t){e=!1}var t={},n="",i=e?"dgimsy":"gimsy",r=function(e,i){Object.defineProperty(t,e,{get:function(){return n+=i,!0}})},a={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var s in e&&(a.hasIndices="d"),a)r(s,a[s]);return Object.getOwnPropertyDescriptor(u,"flags").get.call(t)!==i||n!==i}))&&a(u,"flags",{configurable:!0,get:s})},{"../internals/define-built-in-accessor":46,"../internals/descriptors":51,"../internals/fails":68,"../internals/global":84,"../internals/regexp-flags":144}],253:[function(e,t,n){var i=e("../internals/descriptors"),r=e("../internals/regexp-sticky-helpers").MISSED_STICKY,a=e("../internals/classof-raw"),s=e("../internals/define-built-in-accessor"),o=e("../internals/internal-state").get,l=RegExp.prototype,u=TypeError;i&&r&&s(l,"sticky",{configurable:!0,get:function(){if(this!==l){if("RegExp"===a(this))return!!o(this).sticky;throw u("Incompatible receiver, RegExp required")}}})},{"../internals/classof-raw":33,"../internals/define-built-in-accessor":46,"../internals/descriptors":51,"../internals/internal-state":95,"../internals/regexp-sticky-helpers":146}],254:[function(e,t,n){"use strict";e("../modules/es.regexp.exec");var i,r,a=e("../internals/export"),s=e("../internals/function-call"),o=e("../internals/is-callable"),l=e("../internals/an-object"),u=e("../internals/to-string"),c=(i=!1,(r=/[ac]/).exec=function(){return i=!0,/./.exec.apply(this,arguments)},!0===r.test("abc")&&i),d=/./.test;a({target:"RegExp",proto:!0,forced:!c},{test:function(e){var t=l(this),n=u(e),i=t.exec;if(!o(i))return s(d,t,n);var r=s(i,t,n);return null!==r&&(l(r),!0)}})},{"../internals/an-object":8,"../internals/export":67,"../internals/function-call":76,"../internals/is-callable":99,"../internals/to-string":180,"../modules/es.regexp.exec":251}],255:[function(e,t,n){"use strict";var i=e("../internals/function-name").PROPER,r=e("../internals/define-built-in"),a=e("../internals/an-object"),s=e("../internals/to-string"),o=e("../internals/fails"),l=e("../internals/regexp-get-flags"),u="toString",c=RegExp.prototype.toString,d=o((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),h=i&&c.name!=u;(d||h)&&r(RegExp.prototype,u,(function(){var e=a(this);return"/"+s(e.source)+"/"+s(l(e))}),{unsafe:!0})},{"../internals/an-object":8,"../internals/define-built-in":47,"../internals/fails":68,"../internals/function-name":77,"../internals/regexp-get-flags":145,"../internals/to-string":180}],256:[function(e,t,n){"use strict";e("../internals/collection")("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),e("../internals/collection-strong"))},{"../internals/collection":36,"../internals/collection-strong":35}],257:[function(e,t,n){e("../modules/es.set.constructor")},{"../modules/es.set.constructor":256}],258:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/create-html");i({target:"String",proto:!0,forced:e("../internals/string-html-forced")("bold")},{bold:function(){return r(this,"b","","")}})},{"../internals/create-html":40,"../internals/export":67,"../internals/string-html-forced":158}],259:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/function-uncurry-this"),a=e("../internals/not-a-regexp"),s=e("../internals/require-object-coercible"),o=e("../internals/to-string"),l=e("../internals/correct-is-regexp-logic"),u=r("".indexOf);i({target:"String",proto:!0,forced:!l("includes")},{includes:function(e){return!!~u(o(s(this)),o(a(e)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":38,"../internals/export":67,"../internals/function-uncurry-this":78,"../internals/not-a-regexp":120,"../internals/require-object-coercible":149,"../internals/to-string":180}],260:[function(e,t,n){"use strict";var i=e("../internals/string-multibyte").charAt,r=e("../internals/to-string"),a=e("../internals/internal-state"),s=e("../internals/iterator-define"),o=e("../internals/create-iter-result-object"),l="String Iterator",u=a.set,c=a.getterFor(l);s(String,"String",(function(e){u(this,{type:l,string:r(e),index:0})}),(function(){var e,t=c(this),n=t.string,r=t.index;return r>=n.length?o(void 0,!0):(e=i(n,r),t.index+=e.length,o(e,!1))}))},{"../internals/create-iter-result-object":41,"../internals/internal-state":95,"../internals/iterator-define":111,"../internals/string-multibyte":159,"../internals/to-string":180}],261:[function(e,t,n){"use strict";var i=e("../internals/function-call"),r=e("../internals/fix-regexp-well-known-symbol-logic"),a=e("../internals/an-object"),s=e("../internals/is-null-or-undefined"),o=e("../internals/to-length"),l=e("../internals/to-string"),u=e("../internals/require-object-coercible"),c=e("../internals/get-method"),d=e("../internals/advance-string-index"),h=e("../internals/regexp-exec-abstract");r("match",(function(e,t,n){return[function(t){var n=u(this),r=s(t)?void 0:c(t,e);return r?i(r,t,n):new RegExp(t)[e](l(n))},function(e){var i=a(this),r=l(e),s=n(t,i,r);if(s.done)return s.value;if(!i.global)return h(i,r);var u=i.unicode;i.lastIndex=0;for(var c,f=[],p=0;null!==(c=h(i,r));){var m=l(c[0]);f[p]=m,""===m&&(i.lastIndex=d(r,o(i.lastIndex),u)),p++}return 0===p?null:f}]}))},{"../internals/advance-string-index":6,"../internals/an-object":8,"../internals/fix-regexp-well-known-symbol-logic":69,"../internals/function-call":76,"../internals/get-method":82,"../internals/is-null-or-undefined":103,"../internals/regexp-exec-abstract":142,"../internals/require-object-coercible":149,"../internals/to-length":173,"../internals/to-string":180}],262:[function(e,t,n){"use strict";var i=e("../internals/function-apply"),r=e("../internals/function-call"),a=e("../internals/function-uncurry-this"),s=e("../internals/fix-regexp-well-known-symbol-logic"),o=e("../internals/fails"),l=e("../internals/an-object"),u=e("../internals/is-callable"),c=e("../internals/is-null-or-undefined"),d=e("../internals/to-integer-or-infinity"),h=e("../internals/to-length"),f=e("../internals/to-string"),p=e("../internals/require-object-coercible"),m=e("../internals/advance-string-index"),v=e("../internals/get-method"),y=e("../internals/get-substitution"),g=e("../internals/regexp-exec-abstract"),_=e("../internals/well-known-symbol")("replace"),b=Math.max,j=Math.min,x=a([].concat),w=a([].push),k=a("".indexOf),S=a("".slice),P="$0"==="a".replace(/./,"$0"),M=!!/./[_]&&""===/./[_]("a","$0");s("replace",(function(e,t,n){var a=M?"$":"$0";return[function(e,n){var i=p(this),a=c(e)?void 0:v(e,_);return a?r(a,e,i,n):r(t,f(i),e,n)},function(e,r){var s=l(this),o=f(e);if("string"==typeof r&&-1===k(r,a)&&-1===k(r,"$<")){var c=n(t,s,o,r);if(c.done)return c.value}var p=u(r);p||(r=f(r));var v=s.global;if(v){var _=s.unicode;s.lastIndex=0}for(var P=[];;){var M=g(s,o);if(null===M)break;if(w(P,M),!v)break;""===f(M[0])&&(s.lastIndex=m(o,h(s.lastIndex),_))}for(var O,L="",E=0,A=0;A<P.length;A++){for(var C=f((M=P[A])[0]),T=b(j(d(M.index),o.length),0),D=[],I=1;I<M.length;I++)w(D,void 0===(O=M[I])?O:String(O));var N=M.groups;if(p){var z=x([C],D,T,o);void 0!==N&&w(z,N);var q=f(i(r,void 0,z))}else q=y(C,o,T,D,N,r);T>=E&&(L+=S(o,E,T)+q,E=T+C.length)}return L+S(o,E)}]}),!!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!P||M)},{"../internals/advance-string-index":6,"../internals/an-object":8,"../internals/fails":68,"../internals/fix-regexp-well-known-symbol-logic":69,"../internals/function-apply":72,"../internals/function-call":76,"../internals/function-uncurry-this":78,"../internals/get-method":82,"../internals/get-substitution":83,"../internals/is-callable":99,"../internals/is-null-or-undefined":103,"../internals/regexp-exec-abstract":142,"../internals/require-object-coercible":149,"../internals/to-integer-or-infinity":172,"../internals/to-length":173,"../internals/to-string":180,"../internals/well-known-symbol":194}],263:[function(e,t,n){"use strict";var i=e("../internals/function-call"),r=e("../internals/fix-regexp-well-known-symbol-logic"),a=e("../internals/an-object"),s=e("../internals/is-null-or-undefined"),o=e("../internals/require-object-coercible"),l=e("../internals/same-value"),u=e("../internals/to-string"),c=e("../internals/get-method"),d=e("../internals/regexp-exec-abstract");r("search",(function(e,t,n){return[function(t){var n=o(this),r=s(t)?void 0:c(t,e);return r?i(r,t,n):new RegExp(t)[e](u(n))},function(e){var i=a(this),r=u(e),s=n(t,i,r);if(s.done)return s.value;var o=i.lastIndex;l(o,0)||(i.lastIndex=0);var c=d(i,r);return l(i.lastIndex,o)||(i.lastIndex=o),null===c?-1:c.index}]}))},{"../internals/an-object":8,"../internals/fix-regexp-well-known-symbol-logic":69,"../internals/function-call":76,"../internals/get-method":82,"../internals/is-null-or-undefined":103,"../internals/regexp-exec-abstract":142,"../internals/require-object-coercible":149,"../internals/same-value":150,"../internals/to-string":180}],264:[function(e,t,n){"use strict";var i=e("../internals/function-apply"),r=e("../internals/function-call"),a=e("../internals/function-uncurry-this"),s=e("../internals/fix-regexp-well-known-symbol-logic"),o=e("../internals/an-object"),l=e("../internals/is-null-or-undefined"),u=e("../internals/is-regexp"),c=e("../internals/require-object-coercible"),d=e("../internals/species-constructor"),h=e("../internals/advance-string-index"),f=e("../internals/to-length"),p=e("../internals/to-string"),m=e("../internals/get-method"),v=e("../internals/array-slice-simple"),y=e("../internals/regexp-exec-abstract"),g=e("../internals/regexp-exec"),_=e("../internals/regexp-sticky-helpers"),b=e("../internals/fails"),j=_.UNSUPPORTED_Y,x=4294967295,w=Math.min,k=[].push,S=a(/./.exec),P=a(k),M=a("".slice),O=!b((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));s("split",(function(e,t,n){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var a=p(c(this)),s=void 0===n?x:n>>>0;if(0===s)return[];if(void 0===e)return[a];if(!u(e))return r(t,a,e,s);for(var o,l,d,h=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,y=new RegExp(e.source,f+"g");(o=r(g,y,a))&&!((l=y.lastIndex)>m&&(P(h,M(a,m,o.index)),o.length>1&&o.index<a.length&&i(k,h,v(o,1)),d=o[0].length,m=l,h.length>=s));)y.lastIndex===o.index&&y.lastIndex++;return m===a.length?!d&&S(y,"")||P(h,""):P(h,M(a,m)),h.length>s?v(h,0,s):h}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:r(t,this,e,n)}:t,[function(t,n){var i=c(this),s=l(t)?void 0:m(t,e);return s?r(s,t,i,n):r(a,p(i),t,n)},function(e,i){var r=o(this),s=p(e),l=n(a,r,s,i,a!==t);if(l.done)return l.value;var u=d(r,RegExp),c=r.unicode,m=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(j?"g":"y"),v=new u(j?"^(?:"+r.source+")":r,m),g=void 0===i?x:i>>>0;if(0===g)return[];if(0===s.length)return null===y(v,s)?[s]:[];for(var _=0,b=0,k=[];b<s.length;){v.lastIndex=j?0:b;var S,O=y(v,j?M(s,b):s);if(null===O||(S=w(f(v.lastIndex+(j?b:0)),s.length))===_)b=h(s,b,c);else{if(P(k,M(s,_,b)),k.length===g)return k;for(var L=1;L<=O.length-1;L++)if(P(k,O[L]),k.length===g)return k;b=_=S}}return P(k,M(s,_)),k}]}),!O,j)},{"../internals/advance-string-index":6,"../internals/an-object":8,"../internals/array-slice-simple":26,"../internals/fails":68,"../internals/fix-regexp-well-known-symbol-logic":69,"../internals/function-apply":72,"../internals/function-call":76,"../internals/function-uncurry-this":78,"../internals/get-method":82,"../internals/is-null-or-undefined":103,"../internals/is-regexp":106,"../internals/regexp-exec":143,"../internals/regexp-exec-abstract":142,"../internals/regexp-sticky-helpers":146,"../internals/require-object-coercible":149,"../internals/species-constructor":157,"../internals/to-length":173,"../internals/to-string":180}],265:[function(e,t,n){"use strict";var i,r=e("../internals/export"),a=e("../internals/function-uncurry-this"),s=e("../internals/object-get-own-property-descriptor").f,o=e("../internals/to-length"),l=e("../internals/to-string"),u=e("../internals/not-a-regexp"),c=e("../internals/require-object-coercible"),d=e("../internals/correct-is-regexp-logic"),h=e("../internals/is-pure"),f=a("".startsWith),p=a("".slice),m=Math.min,v=d("startsWith");r({target:"String",proto:!0,forced:!!(h||v||(i=s(String.prototype,"startsWith"),!i||i.writable))&&!v},{startsWith:function(e){var t=l(c(this));u(e);var n=o(m(arguments.length>1?arguments[1]:void 0,t.length)),i=l(e);return f?f(t,i,n):p(t,n,n+i.length)===i}})},{"../internals/correct-is-regexp-logic":38,"../internals/export":67,"../internals/function-uncurry-this":78,"../internals/is-pure":105,"../internals/not-a-regexp":120,"../internals/object-get-own-property-descriptor":126,"../internals/require-object-coercible":149,"../internals/to-length":173,"../internals/to-string":180}],266:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/function-uncurry-this"),a=e("../internals/require-object-coercible"),s=e("../internals/to-integer-or-infinity"),o=e("../internals/to-string"),l=r("".slice),u=Math.max,c=Math.min;i({target:"String",proto:!0,forced:!"".substr||"b"!=="ab".substr(-1)},{substr:function(e,t){var n,i,r=o(a(this)),d=r.length,h=s(e);return h===1/0&&(h=0),h<0&&(h=u(d+h,0)),(n=void 0===t?d:s(t))<=0||n===1/0||h>=(i=c(h+n,d))?"":l(r,h,i)}})},{"../internals/export":67,"../internals/function-uncurry-this":78,"../internals/require-object-coercible":149,"../internals/to-integer-or-infinity":172,"../internals/to-string":180}],267:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/string-trim").trim;i({target:"String",proto:!0,forced:e("../internals/string-trim-forced")("trim")},{trim:function(){return r(this)}})},{"../internals/export":67,"../internals/string-trim":163,"../internals/string-trim-forced":162}],268:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/global"),a=e("../internals/function-call"),s=e("../internals/function-uncurry-this"),o=e("../internals/is-pure"),l=e("../internals/descriptors"),u=e("../internals/symbol-constructor-detection"),c=e("../internals/fails"),d=e("../internals/has-own-property"),h=e("../internals/object-is-prototype-of"),f=e("../internals/an-object"),p=e("../internals/to-indexed-object"),m=e("../internals/to-property-key"),v=e("../internals/to-string"),y=e("../internals/create-property-descriptor"),g=e("../internals/object-create"),_=e("../internals/object-keys"),b=e("../internals/object-get-own-property-names"),j=e("../internals/object-get-own-property-names-external"),x=e("../internals/object-get-own-property-symbols"),w=e("../internals/object-get-own-property-descriptor"),k=e("../internals/object-define-property"),S=e("../internals/object-define-properties"),P=e("../internals/object-property-is-enumerable"),M=e("../internals/define-built-in"),O=e("../internals/shared"),L=e("../internals/shared-key"),E=e("../internals/hidden-keys"),A=e("../internals/uid"),C=e("../internals/well-known-symbol"),T=e("../internals/well-known-symbol-wrapped"),D=e("../internals/well-known-symbol-define"),I=e("../internals/symbol-define-to-primitive"),N=e("../internals/set-to-string-tag"),z=e("../internals/internal-state"),q=e("../internals/array-iteration").forEach,R=L("hidden"),B="Symbol",F=z.set,H=z.getterFor(B),W=Object.prototype,Z=r.Symbol,V=Z&&Z.prototype,U=r.TypeError,Y=r.QObject,G=w.f,X=k.f,K=j.f,$=P.f,J=s([].push),Q=O("symbols"),ee=O("op-symbols"),te=O("wks"),ne=!Y||!Y.prototype||!Y.prototype.findChild,ie=l&&c((function(){return 7!=g(X({},"a",{get:function(){return X(this,"a",{value:7}).a}})).a}))?function(e,t,n){var i=G(W,t);i&&delete W[t],X(e,t,n),i&&e!==W&&X(W,t,i)}:X,re=function(e,t){var n=Q[e]=g(V);return F(n,{type:B,tag:e,description:t}),l||(n.description=t),n},ae=function(e,t,n){e===W&&ae(ee,t,n),f(e);var i=m(t);return f(n),d(Q,i)?(n.enumerable?(d(e,R)&&e[R][i]&&(e[R][i]=!1),n=g(n,{enumerable:y(0,!1)})):(d(e,R)||X(e,R,y(1,{})),e[R][i]=!0),ie(e,i,n)):X(e,i,n)},se=function(e,t){f(e);var n=p(t),i=_(n).concat(ce(n));return q(i,(function(t){l&&!a(oe,n,t)||ae(e,t,n[t])})),e},oe=function(e){var t=m(e),n=a($,this,t);return!(this===W&&d(Q,t)&&!d(ee,t))&&(!(n||!d(this,t)||!d(Q,t)||d(this,R)&&this[R][t])||n)},le=function(e,t){var n=p(e),i=m(t);if(n!==W||!d(Q,i)||d(ee,i)){var r=G(n,i);return!r||!d(Q,i)||d(n,R)&&n[R][i]||(r.enumerable=!0),r}},ue=function(e){var t=K(p(e)),n=[];return q(t,(function(e){d(Q,e)||d(E,e)||J(n,e)})),n},ce=function(e){var t=e===W,n=K(t?ee:p(e)),i=[];return q(n,(function(e){!d(Q,e)||t&&!d(W,e)||J(i,Q[e])})),i};u||(Z=function(){if(h(V,this))throw U("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?v(arguments[0]):void 0,t=A(e),n=function(e){this===W&&a(n,ee,e),d(this,R)&&d(this[R],t)&&(this[R][t]=!1),ie(this,t,y(1,e))};return l&&ne&&ie(W,t,{configurable:!0,set:n}),re(t,e)},M(V=Z.prototype,"toString",(function(){return H(this).tag})),M(Z,"withoutSetter",(function(e){return re(A(e),e)})),P.f=oe,k.f=ae,S.f=se,w.f=le,b.f=j.f=ue,x.f=ce,T.f=function(e){return re(C(e),e)},l&&(X(V,"description",{configurable:!0,get:function(){return H(this).description}}),o||M(W,"propertyIsEnumerable",oe,{unsafe:!0}))),i({global:!0,constructor:!0,wrap:!0,forced:!u,sham:!u},{Symbol:Z}),q(_(te),(function(e){D(e)})),i({target:B,stat:!0,forced:!u},{useSetter:function(){ne=!0},useSimple:function(){ne=!1}}),i({target:"Object",stat:!0,forced:!u,sham:!l},{create:function(e,t){return void 0===t?g(e):se(g(e),t)},defineProperty:ae,defineProperties:se,getOwnPropertyDescriptor:le}),i({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:ue}),I(),N(Z,B),E[R]=!0},{"../internals/an-object":8,"../internals/array-iteration":20,"../internals/create-property-descriptor":43,"../internals/define-built-in":47,"../internals/descriptors":51,"../internals/export":67,"../internals/fails":68,"../internals/function-call":76,"../internals/function-uncurry-this":78,"../internals/global":84,"../internals/has-own-property":85,"../internals/hidden-keys":86,"../internals/internal-state":95,"../internals/is-pure":105,"../internals/object-create":123,"../internals/object-define-properties":124,"../internals/object-define-property":125,"../internals/object-get-own-property-descriptor":126,"../internals/object-get-own-property-names":128,"../internals/object-get-own-property-names-external":127,"../internals/object-get-own-property-symbols":129,"../internals/object-is-prototype-of":132,"../internals/object-keys":134,"../internals/object-property-is-enumerable":135,"../internals/set-to-string-tag":153,"../internals/shared":156,"../internals/shared-key":154,"../internals/symbol-constructor-detection":164,"../internals/symbol-define-to-primitive":165,"../internals/to-indexed-object":171,"../internals/to-property-key":178,"../internals/to-string":180,"../internals/uid":187,"../internals/well-known-symbol":194,"../internals/well-known-symbol-define":192,"../internals/well-known-symbol-wrapped":193}],269:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/descriptors"),a=e("../internals/global"),s=e("../internals/function-uncurry-this"),o=e("../internals/has-own-property"),l=e("../internals/is-callable"),u=e("../internals/object-is-prototype-of"),c=e("../internals/to-string"),d=e("../internals/object-define-property").f,h=e("../internals/copy-constructor-properties"),f=a.Symbol,p=f&&f.prototype;if(r&&l(f)&&(!("description"in p)||void 0!==f().description)){var m={},v=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:c(arguments[0]),t=u(p,this)?new f(e):void 0===e?f():f(e);return""===e&&(m[t]=!0),t};h(v,f),v.prototype=p,p.constructor=v;var y="Symbol(test)"==String(f("test")),g=s(p.valueOf),_=s(p.toString),b=/^Symbol\((.*)\)[^)]+$/,j=s("".replace),x=s("".slice);d(p,"description",{configurable:!0,get:function(){var e=g(this);if(o(m,e))return"";var t=_(e),n=y?x(t,7,-1):j(t,b,"$1");return""===n?void 0:n}}),i({global:!0,constructor:!0,forced:!0},{Symbol:v})}},{"../internals/copy-constructor-properties":37,"../internals/descriptors":51,"../internals/export":67,"../internals/function-uncurry-this":78,"../internals/global":84,"../internals/has-own-property":85,"../internals/is-callable":99,"../internals/object-define-property":125,"../internals/object-is-prototype-of":132,"../internals/to-string":180}],270:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/get-built-in"),a=e("../internals/has-own-property"),s=e("../internals/to-string"),o=e("../internals/shared"),l=e("../internals/symbol-registry-detection"),u=o("string-to-symbol-registry"),c=o("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!l},{for:function(e){var t=s(e);if(a(u,t))return u[t];var n=r("Symbol")(t);return u[t]=n,c[n]=t,n}})},{"../internals/export":67,"../internals/get-built-in":79,"../internals/has-own-property":85,"../internals/shared":156,"../internals/symbol-registry-detection":166,"../internals/to-string":180}],271:[function(e,t,n){e("../internals/well-known-symbol-define")("iterator")},{"../internals/well-known-symbol-define":192}],272:[function(e,t,n){e("../modules/es.symbol.constructor"),e("../modules/es.symbol.for"),e("../modules/es.symbol.key-for"),e("../modules/es.json.stringify"),e("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":228,"../modules/es.object.get-own-property-symbols":240,"../modules/es.symbol.constructor":268,"../modules/es.symbol.for":270,"../modules/es.symbol.key-for":273}],273:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/has-own-property"),a=e("../internals/is-symbol"),s=e("../internals/try-to-string"),o=e("../internals/shared"),l=e("../internals/symbol-registry-detection"),u=o("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!l},{keyFor:function(e){if(!a(e))throw TypeError(s(e)+" is not a symbol");if(r(u,e))return u[e]}})},{"../internals/export":67,"../internals/has-own-property":85,"../internals/is-symbol":107,"../internals/shared":156,"../internals/symbol-registry-detection":166,"../internals/try-to-string":181}],274:[function(e,t,n){"use strict";var i=e("../internals/array-buffer-view-core"),r=e("../internals/length-of-array-like"),a=e("../internals/to-integer-or-infinity"),s=i.aTypedArray;(0,i.exportTypedArrayMethod)("at",(function(e){var t=s(this),n=r(t),i=a(e),o=i>=0?i:n+i;return o<0||o>=n?void 0:t[o]}))},{"../internals/array-buffer-view-core":11,"../internals/length-of-array-like":114,"../internals/to-integer-or-infinity":172}],275:[function(e,t,n){"use strict";var i=e("../internals/function-uncurry-this"),r=e("../internals/array-buffer-view-core"),a=i(e("../internals/array-copy-within")),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("copyWithin",(function(e,t){return a(s(this),e,t,arguments.length>2?arguments[2]:void 0)}))},{"../internals/array-buffer-view-core":11,"../internals/array-copy-within":13,"../internals/function-uncurry-this":78}],276:[function(e,t,n){"use strict";var i=e("../internals/array-buffer-view-core"),r=e("../internals/array-iteration").every,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("every",(function(e){return r(a(this),e,arguments.length>1?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":11,"../internals/array-iteration":20}],277:[function(e,t,n){"use strict";var i=e("../internals/array-buffer-view-core"),r=e("../internals/array-fill"),a=e("../internals/to-big-int"),s=e("../internals/classof"),o=e("../internals/function-call"),l=e("../internals/function-uncurry-this"),u=e("../internals/fails"),c=i.aTypedArray,d=i.exportTypedArrayMethod,h=l("".slice);d("fill",(function(e){var t=arguments.length;c(this);var n="Big"===h(s(this),0,3)?a(e):+e;return o(r,this,n,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}),u((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e})))},{"../internals/array-buffer-view-core":11,"../internals/array-fill":14,"../internals/classof":34,"../internals/fails":68,"../internals/function-call":76,"../internals/function-uncurry-this":78,"../internals/to-big-int":169}],278:[function(e,t,n){"use strict";var i=e("../internals/array-buffer-view-core"),r=e("../internals/array-iteration").filter,a=e("../internals/typed-array-from-species-and-list"),s=i.aTypedArray;(0,i.exportTypedArrayMethod)("filter",(function(e){var t=r(s(this),e,arguments.length>1?arguments[1]:void 0);return a(this,t)}))},{"../internals/array-buffer-view-core":11,"../internals/array-iteration":20,"../internals/typed-array-from-species-and-list":184}],279:[function(e,t,n){"use strict";var i=e("../internals/array-buffer-view-core"),r=e("../internals/array-iteration").findIndex,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("findIndex",(function(e){return r(a(this),e,arguments.length>1?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":11,"../internals/array-iteration":20}],280:[function(e,t,n){"use strict";var i=e("../internals/array-buffer-view-core"),r=e("../internals/array-iteration-from-last").findLastIndex,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("findLastIndex",(function(e){return r(a(this),e,arguments.length>1?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":11,"../internals/array-iteration-from-last":19}],281:[function(e,t,n){"use strict";var i=e("../internals/array-buffer-view-core"),r=e("../internals/array-iteration-from-last").findLast,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("findLast",(function(e){return r(a(this),e,arguments.length>1?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":11,"../internals/array-iteration-from-last":19}],282:[function(e,t,n){"use strict";var i=e("../internals/array-buffer-view-core"),r=e("../internals/array-iteration").find,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("find",(function(e){return r(a(this),e,arguments.length>1?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":11,"../internals/array-iteration":20}],283:[function(e,t,n){e("../internals/typed-array-constructor")("Float32",(function(e){return function(t,n,i){return e(this,t,n,i)}}))},{"../internals/typed-array-constructor":182}],284:[function(e,t,n){e("../internals/typed-array-constructor")("Float64",(function(e){return function(t,n,i){return e(this,t,n,i)}}))},{"../internals/typed-array-constructor":182}],285:[function(e,t,n){"use strict";var i=e("../internals/array-buffer-view-core"),r=e("../internals/array-iteration").forEach,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("forEach",(function(e){r(a(this),e,arguments.length>1?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":11,"../internals/array-iteration":20}],286:[function(e,t,n){"use strict";var i=e("../internals/array-buffer-view-core"),r=e("../internals/array-includes").includes,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("includes",(function(e){return r(a(this),e,arguments.length>1?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":11,"../internals/array-includes":18}],287:[function(e,t,n){"use strict";var i=e("../internals/array-buffer-view-core"),r=e("../internals/array-includes").indexOf,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("indexOf",(function(e){return r(a(this),e,arguments.length>1?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":11,"../internals/array-includes":18}],288:[function(e,t,n){"use strict";var i=e("../internals/global"),r=e("../internals/fails"),a=e("../internals/function-uncurry-this"),s=e("../internals/array-buffer-view-core"),o=e("../modules/es.array.iterator"),l=e("../internals/well-known-symbol")("iterator"),u=i.Uint8Array,c=a(o.values),d=a(o.keys),h=a(o.entries),f=s.aTypedArray,p=s.exportTypedArrayMethod,m=u&&u.prototype,v=!r((function(){m[l].call([1])})),y=!!m&&m.values&&m[l]===m.values&&"values"===m.values.name,g=function(){return c(f(this))};p("entries",(function(){return h(f(this))}),v),p("keys",(function(){return d(f(this))}),v),p("values",g,v||!y,{name:"values"}),p(l,g,v||!y,{name:"values"})},{"../internals/array-buffer-view-core":11,"../internals/fails":68,"../internals/function-uncurry-this":78,"../internals/global":84,"../internals/well-known-symbol":194,"../modules/es.array.iterator":210}],289:[function(e,t,n){"use strict";var i=e("../internals/array-buffer-view-core"),r=e("../internals/function-uncurry-this"),a=i.aTypedArray,s=i.exportTypedArrayMethod,o=r([].join);s("join",(function(e){return o(a(this),e)}))},{"../internals/array-buffer-view-core":11,"../internals/function-uncurry-this":78}],290:[function(e,t,n){"use strict";var i=e("../internals/array-buffer-view-core"),r=e("../internals/function-apply"),a=e("../internals/array-last-index-of"),s=i.aTypedArray;(0,i.exportTypedArrayMethod)("lastIndexOf",(function(e){var t=arguments.length;return r(a,s(this),t>1?[e,arguments[1]]:[e])}))},{"../internals/array-buffer-view-core":11,"../internals/array-last-index-of":21,"../internals/function-apply":72}],291:[function(e,t,n){"use strict";var i=e("../internals/array-buffer-view-core"),r=e("../internals/array-iteration").map,a=e("../internals/typed-array-species-constructor"),s=i.aTypedArray;(0,i.exportTypedArrayMethod)("map",(function(e){return r(s(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(a(e))(t)}))}))},{"../internals/array-buffer-view-core":11,"../internals/array-iteration":20,"../internals/typed-array-species-constructor":186}],292:[function(e,t,n){"use strict";var i=e("../internals/array-buffer-view-core"),r=e("../internals/array-reduce").right,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("reduceRight",(function(e){var t=arguments.length;return r(a(this),e,t,t>1?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":11,"../internals/array-reduce":24}],293:[function(e,t,n){"use strict";var i=e("../internals/array-buffer-view-core"),r=e("../internals/array-reduce").left,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("reduce",(function(e){var t=arguments.length;return r(a(this),e,t,t>1?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":11,"../internals/array-reduce":24}],294:[function(e,t,n){"use strict";var i=e("../internals/array-buffer-view-core"),r=i.aTypedArray,a=i.exportTypedArrayMethod,s=Math.floor;a("reverse",(function(){for(var e,t=this,n=r(t).length,i=s(n/2),a=0;a<i;)e=t[a],t[a++]=t[--n],t[n]=e;return t}))},{"../internals/array-buffer-view-core":11}],295:[function(e,t,n){"use strict";var i=e("../internals/global"),r=e("../internals/function-call"),a=e("../internals/array-buffer-view-core"),s=e("../internals/length-of-array-like"),o=e("../internals/to-offset"),l=e("../internals/to-object"),u=e("../internals/fails"),c=i.RangeError,d=i.Int8Array,h=d&&d.prototype,f=h&&h.set,p=a.aTypedArray,m=a.exportTypedArrayMethod,v=!u((function(){var e=new Uint8ClampedArray(2);return r(f,e,{length:1,0:3},1),3!==e[1]})),y=v&&a.NATIVE_ARRAY_BUFFER_VIEWS&&u((function(){var e=new d(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));m("set",(function(e){p(this);var t=o(arguments.length>1?arguments[1]:void 0,1),n=l(e);if(v)return r(f,this,n,t);var i=this.length,a=s(n),u=0;if(a+t>i)throw c("Wrong length");for(;u<a;)this[t+u]=n[u++]}),!v||y)},{"../internals/array-buffer-view-core":11,"../internals/fails":68,"../internals/function-call":76,"../internals/global":84,"../internals/length-of-array-like":114,"../internals/to-object":174,"../internals/to-offset":175}],296:[function(e,t,n){"use strict";var i=e("../internals/array-buffer-view-core"),r=e("../internals/typed-array-species-constructor"),a=e("../internals/fails"),s=e("../internals/array-slice"),o=i.aTypedArray;(0,i.exportTypedArrayMethod)("slice",(function(e,t){for(var n=s(o(this),e,t),i=r(this),a=0,l=n.length,u=new i(l);l>a;)u[a]=n[a++];return u}),a((function(){new Int8Array(1).slice()})))},{"../internals/array-buffer-view-core":11,"../internals/array-slice":27,"../internals/fails":68,"../internals/typed-array-species-constructor":186}],297:[function(e,t,n){"use strict";var i=e("../internals/array-buffer-view-core"),r=e("../internals/array-iteration").some,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("some",(function(e){return r(a(this),e,arguments.length>1?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":11,"../internals/array-iteration":20}],298:[function(e,t,n){"use strict";var i=e("../internals/global"),r=e("../internals/function-uncurry-this"),a=e("../internals/fails"),s=e("../internals/a-callable"),o=e("../internals/array-sort"),l=e("../internals/array-buffer-view-core"),u=e("../internals/engine-ff-version"),c=e("../internals/engine-is-ie-or-edge"),d=e("../internals/engine-v8-version"),h=e("../internals/engine-webkit-version"),f=l.aTypedArray,p=l.exportTypedArrayMethod,m=i.Uint16Array,v=m&&r(m.prototype.sort),y=!(!v||a((function(){v(new m(2),null)}))&&a((function(){v(new m(2),{})}))),g=!!v&&!a((function(){if(d)return d<74;if(u)return u<67;if(c)return!0;if(h)return h<602;var e,t,n=new m(516),i=Array(516);for(e=0;e<516;e++)t=e%4,n[e]=515-e,i[e]=e-2*t+3;for(v(n,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(n[e]!==i[e])return!0}));p("sort",(function(e){return void 0!==e&&s(e),g?v(this,e):o(f(this),function(e){return function(t,n){return void 0!==e?+e(t,n)||0:n!=n?-1:t!=t?1:0===t&&0===n?1/t>0&&1/n<0?1:-1:t>n}}(e))}),!g||y)},{"../internals/a-callable":2,"../internals/array-buffer-view-core":11,"../internals/array-sort":28,"../internals/engine-ff-version":57,"../internals/engine-is-ie-or-edge":58,"../internals/engine-v8-version":61,"../internals/engine-webkit-version":62,"../internals/fails":68,"../internals/function-uncurry-this":78,"../internals/global":84}],299:[function(e,t,n){"use strict";var i=e("../internals/array-buffer-view-core"),r=e("../internals/to-length"),a=e("../internals/to-absolute-index"),s=e("../internals/typed-array-species-constructor"),o=i.aTypedArray;(0,i.exportTypedArrayMethod)("subarray",(function(e,t){var n=o(this),i=n.length,l=a(e,i);return new(s(n))(n.buffer,n.byteOffset+l*n.BYTES_PER_ELEMENT,r((void 0===t?i:a(t,i))-l))}))},{"../internals/array-buffer-view-core":11,"../internals/to-absolute-index":168,"../internals/to-length":173,"../internals/typed-array-species-constructor":186}],300:[function(e,t,n){"use strict";var i=e("../internals/global"),r=e("../internals/function-apply"),a=e("../internals/array-buffer-view-core"),s=e("../internals/fails"),o=e("../internals/array-slice"),l=i.Int8Array,u=a.aTypedArray,c=a.exportTypedArrayMethod,d=[].toLocaleString,h=!!l&&s((function(){d.call(new l(1))}));c("toLocaleString",(function(){return r(d,h?o(u(this)):u(this),o(arguments))}),s((function(){return[1,2].toLocaleString()!=new l([1,2]).toLocaleString()}))||!s((function(){l.prototype.toLocaleString.call([1,2])})))},{"../internals/array-buffer-view-core":11,"../internals/array-slice":27,"../internals/fails":68,"../internals/function-apply":72,"../internals/global":84}],301:[function(e,t,n){"use strict";var i=e("../internals/array-buffer-view-core").exportTypedArrayMethod,r=e("../internals/fails"),a=e("../internals/global"),s=e("../internals/function-uncurry-this"),o=a.Uint8Array,l=o&&o.prototype||{},u=[].toString,c=s([].join);r((function(){u.call({})}))&&(u=function(){return c(this)});var d=l.toString!=u;i("toString",u,d)},{"../internals/array-buffer-view-core":11,"../internals/fails":68,"../internals/function-uncurry-this":78,"../internals/global":84}],302:[function(e,t,n){e("../internals/typed-array-constructor")("Uint16",(function(e){return function(t,n,i){return e(this,t,n,i)}}))},{"../internals/typed-array-constructor":182}],303:[function(e,t,n){e("../internals/typed-array-constructor")("Uint32",(function(e){return function(t,n,i){return e(this,t,n,i)}}))},{"../internals/typed-array-constructor":182}],304:[function(e,t,n){var i=e("../internals/global"),r=e("../internals/dom-iterables"),a=e("../internals/dom-token-list-prototype"),s=e("../internals/array-for-each"),o=e("../internals/create-non-enumerable-property"),l=function(e){if(e&&e.forEach!==s)try{o(e,"forEach",s)}catch(t){e.forEach=s}};for(var u in r)r[u]&&l(i[u]&&i[u].prototype);l(a)},{"../internals/array-for-each":15,"../internals/create-non-enumerable-property":42,"../internals/dom-iterables":55,"../internals/dom-token-list-prototype":56,"../internals/global":84}],305:[function(e,t,n){var i=e("../internals/global"),r=e("../internals/dom-iterables"),a=e("../internals/dom-token-list-prototype"),s=e("../modules/es.array.iterator"),o=e("../internals/create-non-enumerable-property"),l=e("../internals/well-known-symbol"),u=l("iterator"),c=l("toStringTag"),d=s.values,h=function(e,t){if(e){if(e[u]!==d)try{o(e,u,d)}catch(t){e[u]=d}if(e[c]||o(e,c,t),r[t])for(var n in s)if(e[n]!==s[n])try{o(e,n,s[n])}catch(t){e[n]=s[n]}}};for(var f in r)h(i[f]&&i[f].prototype,f);h(a,"DOMTokenList")},{"../internals/create-non-enumerable-property":42,"../internals/dom-iterables":55,"../internals/dom-token-list-prototype":56,"../internals/global":84,"../internals/well-known-symbol":194,"../modules/es.array.iterator":210}],306:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/global"),a=e("../internals/schedulers-fix").setInterval;i({global:!0,bind:!0,forced:r.setInterval!==a},{setInterval:a})},{"../internals/export":67,"../internals/global":84,"../internals/schedulers-fix":151}],307:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/global"),a=e("../internals/schedulers-fix").setTimeout;i({global:!0,bind:!0,forced:r.setTimeout!==a},{setTimeout:a})},{"../internals/export":67,"../internals/global":84,"../internals/schedulers-fix":151}],308:[function(e,t,n){e("../modules/web.set-interval"),e("../modules/web.set-timeout")},{"../modules/web.set-interval":306,"../modules/web.set-timeout":307}],309:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.slice=n.map=void 0;var i=Array.prototype,r=i.slice;n.slice=r;var a=i.map;n.map=a},{}],310:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}},{}],311:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=o.default,t=s.default,n=c.default;function d(i){Array.isArray(i)||(i=Array.from(i));var a,o,c,d=i.length,h=new Array(d);for(a=0;a<d;++a)h[a]=e(i[a],a,i);var f=t(h),p=f[0],m=f[1],v=n(h,p,m);if(!Array.isArray(v)){const e=m,n=+v;if(t===s.default&&([p,m]=(0,l.default)(p,m,n)),(v=(0,u.default)(p,m,n))[0]<=p&&(c=(0,u.tickIncrement)(p,m,n)),v[v.length-1]>=m)if(e>=m&&t===s.default){const e=(0,u.tickIncrement)(p,m,n);isFinite(e)&&(e>0?m=(Math.floor(m/e)+1)*e:e<0&&(m=(Math.ceil(m*-e)+1)/-e))}else v.pop()}for(var y=v.length;v[0]<=p;)v.shift(),--y;for(;v[y-1]>m;)v.pop(),--y;var g,_=new Array(y+1);for(a=0;a<=y;++a)(g=_[a]=[]).x0=a>0?v[a-1]:p,g.x1=a<y?v[a]:m;if(isFinite(c)){if(c>0)for(a=0;a<d;++a)null!=(o=h[a])&&p<=o&&o<=m&&_[Math.min(y,Math.floor((o-p)/c))].push(i[a]);else if(c<0)for(a=0;a<d;++a)if(null!=(o=h[a])&&p<=o&&o<=m){const e=Math.floor((p-o)*c);_[Math.min(y,e+(v[e]<=o))].push(i[a])}}else for(a=0;a<d;++a)null!=(o=h[a])&&p<=o&&o<=m&&_[(0,r.default)(v,o,0,y)].push(i[a]);return _}return d.value=function(t){return arguments.length?(e="function"==typeof t?t:(0,a.default)(t),d):e},d.domain=function(e){return arguments.length?(t="function"==typeof e?e:(0,a.default)([e[0],e[1]]),d):t},d.thresholds=function(e){return arguments.length?(n="function"==typeof e?e:Array.isArray(e)?(0,a.default)(i.slice.call(e)):(0,a.default)(e),d):n},d};var i=e("./array.js"),r=h(e("./bisect.js")),a=h(e("./constant.js")),s=h(e("./extent.js")),o=h(e("./identity.js")),l=h(e("./nice.js")),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=r?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(e("./ticks.js")),c=h(e("./threshold/sturges.js"));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function h(e){return e&&e.__esModule?e:{default:e}}},{"./array.js":309,"./bisect.js":312,"./constant.js":315,"./extent.js":324,"./identity.js":331,"./nice.js":345,"./threshold/sturges.js":364,"./ticks.js":365}],312:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.bisectRight=n.bisectLeft=n.bisectCenter=void 0;var i=s(e("./ascending.js")),r=s(e("./bisector.js")),a=s(e("./number.js"));function s(e){return e&&e.__esModule?e:{default:e}}const o=(0,r.default)(i.default),l=o.right;n.bisectRight=l;const u=o.left;n.bisectLeft=u;const c=(0,r.default)(a.default).center;n.bisectCenter=c;var d=l;n.default=d},{"./ascending.js":310,"./bisector.js":313,"./number.js":346}],313:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){let t,n,a;2!==e.length?(t=i.default,n=(t,n)=>(0,i.default)(e(t),n),a=(t,n)=>e(t)-n):(t=e===i.default||e===r.default?e:s,n=e,a=e);function o(e,i,r=0,a=e.length){if(r<a){if(0!==t(i,i))return a;do{const t=r+a>>>1;n(e[t],i)<0?r=t+1:a=t}while(r<a)}return r}return{left:o,center:function(e,t,n=0,i=e.length){const r=o(e,t,n,i-1);return r>n&&a(e[r-1],t)>-a(e[r],t)?r-1:r},right:function(e,i,r=0,a=e.length){if(r<a){if(0!==t(i,i))return a;do{const t=r+a>>>1;n(e[t],i)<=0?r=t+1:a=t}while(r<a)}return r}}};var i=a(e("./ascending.js")),r=a(e("./descending.js"));function a(e){return e&&e.__esModule?e:{default:e}}function s(){return 0}},{"./ascending.js":310,"./descending.js":319}],314:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.blur=function(e,t){if(!((t=+t)>=0))throw new RangeError("invalid r");let n=e.length;if(!((n=Math.floor(n))>=0))throw new RangeError("invalid length");if(!n||!t)return e;const i=l(t),r=e.slice();return i(e,r,0,n,1),i(r,e,0,n,1),i(e,r,0,n,1),e},n.blurImage=n.blur2=void 0;const i=a(l);n.blur2=i;const r=a((function(e){const t=l(e);return(e,n,i,r,a)=>{t(e,n,(i<<=2)+0,(r<<=2)+0,a<<=2),t(e,n,i+1,r+1,a),t(e,n,i+2,r+2,a),t(e,n,i+3,r+3,a)}}));function a(e){return function(t,n,i=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((i=+i)>=0))throw new RangeError("invalid ry");let{data:r,width:a,height:l}=t;if(!((a=Math.floor(a))>=0))throw new RangeError("invalid width");if(!((l=Math.floor(void 0!==l?l:r.length/a))>=0))throw new RangeError("invalid height");if(!a||!l||!n&&!i)return t;const u=n&&e(n),c=i&&e(i),d=r.slice();return u&&c?(s(u,d,r,a,l),s(u,r,d,a,l),s(u,d,r,a,l),o(c,r,d,a,l),o(c,d,r,a,l),o(c,r,d,a,l)):u?(s(u,r,d,a,l),s(u,d,r,a,l),s(u,r,d,a,l)):c&&(o(c,r,d,a,l),o(c,d,r,a,l),o(c,r,d,a,l)),t}}function s(e,t,n,i,r){for(let a=0,s=i*r;a<s;)e(t,n,a,a+=i,1)}function o(e,t,n,i,r){for(let a=0,s=i*r;a<i;++a)e(t,n,a,a+s,i)}function l(e){const t=Math.floor(e);if(t===e)return function(e){const t=2*e+1;return(n,i,r,a,s)=>{if(!((a-=s)>=r))return;let o=e*i[r];const l=s*e;for(let e=r,t=r+l;e<t;e+=s)o+=i[Math.min(a,e)];for(let e=r,u=a;e<=u;e+=s)o+=i[Math.min(a,e+l)],n[e]=o/t,o-=i[Math.max(r,e-l)]}}(e);const n=e-t,i=2*e+1;return(e,r,a,s,o)=>{if(!((s-=o)>=a))return;let l=t*r[a];const u=o*t,c=u+o;for(let e=a,t=a+u;e<t;e+=o)l+=r[Math.min(s,e)];for(let t=a,d=s;t<=d;t+=o)l+=r[Math.min(s,t+u)],e[t]=(l+n*(r[Math.max(a,t-c)]+r[Math.min(s,t+c)]))/i,l-=r[Math.max(a,t-u)]}}n.blurImage=r},{}],315:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return()=>e}},{}],316:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){let n=0;if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&++n;else{let i=-1;for(let r of e)null!=(r=t(r,++i,e))&&(r=+r)>=r&&++n}return n}},{}],317:[function(e,t,n){"use strict";function i(e){return 0|e.length}function r(e){return!(e>0)}function a(e){return"object"!=typeof e||"length"in e?e:Array.from(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(...e){const t="function"==typeof e[e.length-1]&&function(e){return t=>e(...t)}(e.pop()),n=(e=e.map(a)).map(i),s=e.length-1,o=new Array(s+1).fill(0),l=[];if(s<0||n.some(r))return l;for(;;){l.push(o.map(((t,n)=>e[n][t])));let i=s;for(;++o[i]===n[i];){if(0===i)return t?l.map(t):l;o[i--]=0}}}},{}],318:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){var n=0,i=0;return Float64Array.from(e,void 0===t?e=>n+=+e||0:r=>n+=+t(r,i++,e)||0)}},{}],319:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}},{}],320:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){const n=(0,r.default)(e,t);return n?Math.sqrt(n):n};var i,r=(i=e("./variance.js"))&&i.__esModule?i:{default:i}},{"./variance.js":368}],321:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,...t){e=new i.InternSet(e);for(const n of t)for(const t of n)e.delete(t);return e};var i=e("internmap")},{internmap:873}],322:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){const n=t[Symbol.iterator](),r=new i.InternSet;for(const t of e){if(r.has(t))return!1;let e,i;for(;({value:e,done:i}=n.next())&&!i;){if(Object.is(t,e))return!1;r.add(e)}}return!0};var i=e("internmap")},{internmap:873}],323:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){if("function"!=typeof t)throw new TypeError("test is not a function");let n=-1;for(const i of e)if(!t(i,++n,e))return!1;return!0}},{}],324:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){let n,i;if(void 0===t)for(const t of e)null!=t&&(void 0===n?t>=t&&(n=i=t):(n>t&&(n=t),i<t&&(i=t)));else{let r=-1;for(let a of e)null!=(a=t(a,++r,e))&&(void 0===n?a>=a&&(n=i=a):(n>a&&(n=a),i<a&&(i=a)))}return[n,i]}},{}],325:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){if("function"!=typeof t)throw new TypeError("test is not a function");const n=[];let i=-1;for(const r of e)t(r,++i,e)&&n.push(r);return n}},{}],326:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Adder=void 0,n.fcumsum=function(e,t){const n=new i;let r=-1;return Float64Array.from(e,void 0===t?e=>n.add(+e||0):i=>n.add(+t(i,++r,e)||0))},n.fsum=function(e,t){const n=new i;if(void 0===t)for(let t of e)(t=+t)&&n.add(t);else{let i=-1;for(let r of e)(r=+t(r,++i,e))&&n.add(r)}return+n};class i{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const t=this._partials;let n=0;for(let i=0;i<this._n&&i<32;i++){const r=t[i],a=e+r,s=Math.abs(e)<Math.abs(r)?e-(a-r):r-(a-e);s&&(t[n++]=s),e=a}return t[n]=e,this._n=n+1,this}valueOf(){const e=this._partials;let t,n,i,r=this._n,a=0;if(r>0){for(a=e[--r];r>0&&(t=a,n=e[--r],a=t+n,i=n-(a-t),!i););r>0&&(i<0&&e[r-1]<0||i>0&&e[r-1]>0)&&(n=2*i,t=a+n,n==t-a&&(a=t))}return a}}n.Adder=i},{}],327:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t=r.default){let n,i=!1;if(1===t.length){let a;for(const s of e){const e=t(s);(i?(0,r.default)(e,a)>0:0===(0,r.default)(e,e))&&(n=s,a=e,i=!0)}}else for(const r of e)(i?t(r,n)>0:0===t(r,r))&&(n=r,i=!0);return n};var i,r=(i=e("./ascending.js"))&&i.__esModule?i:{default:i}},{"./ascending.js":310}],328:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t=i.default){if(1===t.length)return(0,r.default)(e,t);let n,a=-1,s=-1;for(const i of e)++s,(a<0?0===t(i,i):t(i,n)>0)&&(n=i,a=s);return a};var i=a(e("./ascending.js")),r=a(e("./maxIndex.js"));function a(e){return e&&e.__esModule?e:{default:e}}},{"./ascending.js":310,"./maxIndex.js":338}],329:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,...t){return c(e,a.default,a.default,t)},n.flatGroup=function(e,...t){return o(s(e,...t),t)},n.flatRollup=function(e,t,...n){return o(l(e,t,...n),n)},n.groups=s,n.index=function(e,...t){return c(e,a.default,u,t)},n.indexes=function(e,...t){return c(e,Array.from,u,t)},n.rollup=function(e,t,...n){return c(e,a.default,t,n)},n.rollups=l;var i,r=e("internmap"),a=(i=e("./identity.js"))&&i.__esModule?i:{default:i};function s(e,...t){return c(e,Array.from,a.default,t)}function o(e,t){for(let n=1,i=t.length;n<i;++n)e=e.flatMap((e=>e.pop().map((([t,n])=>[...e,t,n]))));return e}function l(e,t,...n){return c(e,Array.from,t,n)}function u(e){if(1!==e.length)throw new Error("duplicate key");return e[0]}function c(e,t,n,i){return function e(a,s){if(s>=i.length)return n(a);const o=new r.InternMap,l=i[s++];let u=-1;for(const e of a){const t=l(e,++u,a),n=o.get(t);n?n.push(e):o.set(t,[e])}for(const[t,n]of o)o.set(t,e(n,s));return t(o)}(e,0)}},{"./identity.js":331,internmap:873}],330:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n){return(2!==t.length?(0,a.default)((0,r.rollup)(e,t,n),(([e,t],[n,r])=>(0,i.default)(t,r)||(0,i.default)(e,n))):(0,a.default)((0,r.default)(e,n),(([e,n],[r,a])=>t(n,a)||(0,i.default)(e,r)))).map((([e])=>e))};var i=o(e("./ascending.js")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(e("./group.js")),a=o(e("./sort.js"));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function o(e){return e&&e.__esModule?e:{default:e}}},{"./ascending.js":310,"./group.js":329,"./sort.js":358}],331:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return e}},{}],332:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Adder",{enumerable:!0,get:function(){return f.Adder}}),Object.defineProperty(n,"InternMap",{enumerable:!0,get:function(){return ae.InternMap}}),Object.defineProperty(n,"InternSet",{enumerable:!0,get:function(){return ae.InternSet}}),Object.defineProperty(n,"ascending",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"bin",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(n,"bisect",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"bisectCenter",{enumerable:!0,get:function(){return i.bisectCenter}}),Object.defineProperty(n,"bisectLeft",{enumerable:!0,get:function(){return i.bisectLeft}}),Object.defineProperty(n,"bisectRight",{enumerable:!0,get:function(){return i.bisectRight}}),Object.defineProperty(n,"bisector",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"blur",{enumerable:!0,get:function(){return s.blur}}),Object.defineProperty(n,"blur2",{enumerable:!0,get:function(){return s.blur2}}),Object.defineProperty(n,"blurImage",{enumerable:!0,get:function(){return s.blurImage}}),Object.defineProperty(n,"count",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"cross",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(n,"cumsum",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(n,"descending",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(n,"deviation",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(n,"difference",{enumerable:!0,get:function(){return Q.default}}),Object.defineProperty(n,"disjoint",{enumerable:!0,get:function(){return ee.default}}),Object.defineProperty(n,"every",{enumerable:!0,get:function(){return U.default}}),Object.defineProperty(n,"extent",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(n,"fcumsum",{enumerable:!0,get:function(){return f.fcumsum}}),Object.defineProperty(n,"filter",{enumerable:!0,get:function(){return G.default}}),Object.defineProperty(n,"flatGroup",{enumerable:!0,get:function(){return p.flatGroup}}),Object.defineProperty(n,"flatRollup",{enumerable:!0,get:function(){return p.flatRollup}}),Object.defineProperty(n,"fsum",{enumerable:!0,get:function(){return f.fsum}}),Object.defineProperty(n,"greatest",{enumerable:!0,get:function(){return z.default}}),Object.defineProperty(n,"greatestIndex",{enumerable:!0,get:function(){return q.default}}),Object.defineProperty(n,"group",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(n,"groupSort",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(n,"groups",{enumerable:!0,get:function(){return p.groups}}),Object.defineProperty(n,"histogram",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(n,"index",{enumerable:!0,get:function(){return p.index}}),Object.defineProperty(n,"indexes",{enumerable:!0,get:function(){return p.indexes}}),Object.defineProperty(n,"intersection",{enumerable:!0,get:function(){return te.default}}),Object.defineProperty(n,"least",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(n,"leastIndex",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(n,"map",{enumerable:!0,get:function(){return X.default}}),Object.defineProperty(n,"max",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(n,"maxIndex",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(n,"mean",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(n,"median",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(n,"medianIndex",{enumerable:!0,get:function(){return w.medianIndex}}),Object.defineProperty(n,"merge",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(n,"min",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(n,"minIndex",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(n,"mode",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(n,"nice",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(n,"pairs",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(n,"permute",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(n,"quantile",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(n,"quantileIndex",{enumerable:!0,get:function(){return A.quantileIndex}}),Object.defineProperty(n,"quantileSorted",{enumerable:!0,get:function(){return A.quantileSorted}}),Object.defineProperty(n,"quickselect",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(n,"range",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(n,"rank",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(n,"reduce",{enumerable:!0,get:function(){return K.default}}),Object.defineProperty(n,"reverse",{enumerable:!0,get:function(){return $.default}}),Object.defineProperty(n,"rollup",{enumerable:!0,get:function(){return p.rollup}}),Object.defineProperty(n,"rollups",{enumerable:!0,get:function(){return p.rollups}}),Object.defineProperty(n,"scan",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(n,"shuffle",{enumerable:!0,get:function(){return B.default}}),Object.defineProperty(n,"shuffler",{enumerable:!0,get:function(){return B.shuffler}}),Object.defineProperty(n,"some",{enumerable:!0,get:function(){return Y.default}}),Object.defineProperty(n,"sort",{enumerable:!0,get:function(){return J.default}}),Object.defineProperty(n,"subset",{enumerable:!0,get:function(){return ne.default}}),Object.defineProperty(n,"sum",{enumerable:!0,get:function(){return F.default}}),Object.defineProperty(n,"superset",{enumerable:!0,get:function(){return ie.default}}),Object.defineProperty(n,"thresholdFreedmanDiaconis",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(n,"thresholdScott",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(n,"thresholdSturges",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(n,"tickIncrement",{enumerable:!0,get:function(){return H.tickIncrement}}),Object.defineProperty(n,"tickStep",{enumerable:!0,get:function(){return H.tickStep}}),Object.defineProperty(n,"ticks",{enumerable:!0,get:function(){return H.default}}),Object.defineProperty(n,"transpose",{enumerable:!0,get:function(){return W.default}}),Object.defineProperty(n,"union",{enumerable:!0,get:function(){return re.default}}),Object.defineProperty(n,"variance",{enumerable:!0,get:function(){return Z.default}}),Object.defineProperty(n,"zip",{enumerable:!0,get:function(){return V.default}});var i=le(e("./bisect.js")),r=se(e("./ascending.js")),a=se(e("./bisector.js")),s=e("./blur.js"),o=se(e("./count.js")),l=se(e("./cross.js")),u=se(e("./cumsum.js")),c=se(e("./descending.js")),d=se(e("./deviation.js")),h=se(e("./extent.js")),f=e("./fsum.js"),p=le(e("./group.js")),m=se(e("./groupSort.js")),v=se(e("./bin.js")),y=se(e("./threshold/freedmanDiaconis.js")),g=se(e("./threshold/scott.js")),_=se(e("./threshold/sturges.js")),b=se(e("./max.js")),j=se(e("./maxIndex.js")),x=se(e("./mean.js")),w=le(e("./median.js")),k=se(e("./merge.js")),S=se(e("./min.js")),P=se(e("./minIndex.js")),M=se(e("./mode.js")),O=se(e("./nice.js")),L=se(e("./pairs.js")),E=se(e("./permute.js")),A=le(e("./quantile.js")),C=se(e("./quickselect.js")),T=se(e("./range.js")),D=se(e("./rank.js")),I=se(e("./least.js")),N=se(e("./leastIndex.js")),z=se(e("./greatest.js")),q=se(e("./greatestIndex.js")),R=se(e("./scan.js")),B=le(e("./shuffle.js")),F=se(e("./sum.js")),H=le(e("./ticks.js")),W=se(e("./transpose.js")),Z=se(e("./variance.js")),V=se(e("./zip.js")),U=se(e("./every.js")),Y=se(e("./some.js")),G=se(e("./filter.js")),X=se(e("./map.js")),K=se(e("./reduce.js")),$=se(e("./reverse.js")),J=se(e("./sort.js")),Q=se(e("./difference.js")),ee=se(e("./disjoint.js")),te=se(e("./intersection.js")),ne=se(e("./subset.js")),ie=se(e("./superset.js")),re=se(e("./union.js")),ae=e("internmap");function se(e){return e&&e.__esModule?e:{default:e}}function oe(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(oe=function(e){return e?n:t})(e)}function le(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=oe(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=r?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}},{"./ascending.js":310,"./bin.js":311,"./bisect.js":312,"./bisector.js":313,"./blur.js":314,"./count.js":316,"./cross.js":317,"./cumsum.js":318,"./descending.js":319,"./deviation.js":320,"./difference.js":321,"./disjoint.js":322,"./every.js":323,"./extent.js":324,"./filter.js":325,"./fsum.js":326,"./greatest.js":327,"./greatestIndex.js":328,"./group.js":329,"./groupSort.js":330,"./intersection.js":333,"./least.js":334,"./leastIndex.js":335,"./map.js":336,"./max.js":337,"./maxIndex.js":338,"./mean.js":339,"./median.js":340,"./merge.js":341,"./min.js":342,"./minIndex.js":343,"./mode.js":344,"./nice.js":345,"./pairs.js":347,"./permute.js":348,"./quantile.js":349,"./quickselect.js":350,"./range.js":351,"./rank.js":352,"./reduce.js":353,"./reverse.js":354,"./scan.js":355,"./shuffle.js":356,"./some.js":357,"./sort.js":358,"./subset.js":359,"./sum.js":360,"./superset.js":361,"./threshold/freedmanDiaconis.js":362,"./threshold/scott.js":363,"./threshold/sturges.js":364,"./ticks.js":365,"./transpose.js":366,"./union.js":367,"./variance.js":368,"./zip.js":369,internmap:873}],333:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,...t){e=new i.InternSet(e),t=t.map(r);e:for(const n of e)for(const i of t)if(!i.has(n)){e.delete(n);continue e}return e};var i=e("internmap");function r(e){return e instanceof i.InternSet?e:new i.InternSet(e)}},{internmap:873}],334:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t=r.default){let n,i=!1;if(1===t.length){let a;for(const s of e){const e=t(s);(i?(0,r.default)(e,a)<0:0===(0,r.default)(e,e))&&(n=s,a=e,i=!0)}}else for(const r of e)(i?t(r,n)<0:0===t(r,r))&&(n=r,i=!0);return n};var i,r=(i=e("./ascending.js"))&&i.__esModule?i:{default:i}},{"./ascending.js":310}],335:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t=i.default){if(1===t.length)return(0,r.default)(e,t);let n,a=-1,s=-1;for(const i of e)++s,(a<0?0===t(i,i):t(i,n)<0)&&(n=i,a=s);return a};var i=a(e("./ascending.js")),r=a(e("./minIndex.js"));function a(e){return e&&e.__esModule?e:{default:e}}},{"./ascending.js":310,"./minIndex.js":343}],336:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){if("function"!=typeof e[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!=typeof t)throw new TypeError("mapper is not a function");return Array.from(e,((n,i)=>t(n,i,e)))}},{}],337:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n<t||void 0===n&&t>=t)&&(n=t);else{let i=-1;for(let r of e)null!=(r=t(r,++i,e))&&(n<r||void 0===n&&r>=r)&&(n=r)}return n}},{}],338:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){let n,i=-1,r=-1;if(void 0===t)for(const t of e)++r,null!=t&&(n<t||void 0===n&&t>=t)&&(n=t,i=r);else for(let a of e)null!=(a=t(a,++r,e))&&(n<a||void 0===n&&a>=a)&&(n=a,i=r);return i}},{}],339:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){let n=0,i=0;if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(++n,i+=t);else{let r=-1;for(let a of e)null!=(a=t(a,++r,e))&&(a=+a)>=a&&(++n,i+=a)}if(n)return i/n}},{}],340:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){return(0,i.default)(e,.5,t)},n.medianIndex=function(e,t){return(0,i.quantileIndex)(e,.5,t)};var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=a?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=e[s]}i.default=e,n&&n.set(e,i);return i}(e("./quantile.js"));function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}},{"./quantile.js":349}],341:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return Array.from(function*(e){for(const t of e)yield*t}(e))}},{}],342:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n>t||void 0===n&&t>=t)&&(n=t);else{let i=-1;for(let r of e)null!=(r=t(r,++i,e))&&(n>r||void 0===n&&r>=r)&&(n=r)}return n}},{}],343:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){let n,i=-1,r=-1;if(void 0===t)for(const t of e)++r,null!=t&&(n>t||void 0===n&&t>=t)&&(n=t,i=r);else for(let a of e)null!=(a=t(a,++r,e))&&(n>a||void 0===n&&a>=a)&&(n=a,i=r);return i}},{}],344:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){const n=new i.InternMap;if(void 0===t)for(let t of e)null!=t&&t>=t&&n.set(t,(n.get(t)||0)+1);else{let i=-1;for(let r of e)null!=(r=t(r,++i,e))&&r>=r&&n.set(r,(n.get(r)||0)+1)}let r,a=0;for(const[e,t]of n)t>a&&(a=t,r=e);return r};var i=e("internmap")},{internmap:873}],345:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n){let r;for(;;){const a=(0,i.tickIncrement)(e,t,n);if(a===r||0===a||!isFinite(a))return[e,t];a>0?(e=Math.floor(e/a)*a,t=Math.ceil(t/a)*a):a<0&&(e=Math.ceil(e*a)/a,t=Math.floor(t*a)/a),r=a}};var i=e("./ticks.js")},{"./ticks.js":365}],346:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return null===e?NaN:+e},n.numbers=function*(e,t){if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(yield t);else{let n=-1;for(let i of e)null!=(i=t(i,++n,e))&&(i=+i)>=i&&(yield i)}}},{}],347:[function(e,t,n){"use strict";function i(e,t){return[e,t]}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t=i){const n=[];let r,a=!1;for(const i of e)a&&n.push(t(r,i)),r=i,a=!0;return n},n.pair=i},{}],348:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){return Array.from(t,(t=>e[t]))}},{}],349:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n){if(e=Float64Array.from((0,l.numbers)(e,n)),!(r=e.length))return;if((t=+t)<=0||r<2)return(0,a.default)(e);if(t>=1)return(0,i.default)(e);var r,s=(r-1)*t,u=Math.floor(s),c=(0,i.default)((0,o.default)(e,u).subarray(0,u+1)),d=(0,a.default)(e.subarray(u+1));return c+(d-c)*(s-u)},n.quantileIndex=function(e,t,n){if(e=Float64Array.from((0,l.numbers)(e,n)),!(i=e.length))return;if((t=+t)<=0||i<2)return(0,s.default)(e);if(t>=1)return(0,r.default)(e);var i,a=Math.floor((i-1)*t),d=(0,o.default)(Uint32Array.from(e,((e,t)=>t)),a,0,i-1,((t,n)=>(0,u.ascendingDefined)(e[t],e[n])));return(0,c.default)(d.subarray(0,a+1),(t=>e[t]))},n.quantileSorted=function(e,t,n=l.default){if(!(i=e.length))return;if((t=+t)<=0||i<2)return+n(e[0],0,e);if(t>=1)return+n(e[i-1],i-1,e);var i,r=(i-1)*t,a=Math.floor(r),s=+n(e[a],a,e),o=+n(e[a+1],a+1,e);return s+(o-s)*(r-a)};var i=h(e("./max.js")),r=h(e("./maxIndex.js")),a=h(e("./min.js")),s=h(e("./minIndex.js")),o=h(e("./quickselect.js")),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=r?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(e("./number.js")),u=e("./sort.js"),c=h(e("./greatest.js"));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function h(e){return e&&e.__esModule?e:{default:e}}},{"./greatest.js":327,"./max.js":337,"./maxIndex.js":338,"./min.js":342,"./minIndex.js":343,"./number.js":346,"./quickselect.js":350,"./sort.js":358}],350:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(t,n,a=0,s=t.length-1,o){o=void 0===o?i.ascendingDefined:(0,i.compareDefined)(o);for(;s>a;){if(s-a>600){const i=s-a+1,r=n-a+1,l=Math.log(i),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(i-u)/i)*(r-i/2<0?-1:1),d=Math.max(a,Math.floor(n-r*u/i+c)),h=Math.min(s,Math.floor(n+(i-r)*u/i+c));e(t,n,d,h,o)}const i=t[n];let l=a,u=s;for(r(t,a,n),o(t[s],i)>0&&r(t,a,s);l<u;){for(r(t,l,u),++l,--u;o(t[l],i)<0;)++l;for(;o(t[u],i)>0;)--u}0===o(t[a],i)?r(t,a,u):(++u,r(t,u,s)),u<=n&&(a=u+1),n<=u&&(s=u-1)}return t};var i=e("./sort.js");function r(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}},{"./sort.js":358}],351:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;var i=-1,r=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(r);for(;++i<r;)a[i]=e+i*n;return a}},{}],352:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t=r.default){if("function"!=typeof e[Symbol.iterator])throw new TypeError("values is not iterable");let n=Array.from(e);const i=new Float64Array(n.length);2!==t.length&&(n=n.map(t),t=r.default);const s=(e,i)=>t(n[e],n[i]);let o,l;return Uint32Array.from(n,((e,t)=>t)).sort(t===r.default?(e,t)=>(0,a.ascendingDefined)(n[e],n[t]):(0,a.compareDefined)(s)).forEach(((e,t)=>{const n=s(e,void 0===o?e:o);n>=0?((void 0===o||n>0)&&(o=e,l=t),i[e]=l):i[e]=NaN})),i};var i,r=(i=e("./ascending.js"))&&i.__esModule?i:{default:i},a=e("./sort.js")},{"./ascending.js":310,"./sort.js":358}],353:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n){if("function"!=typeof t)throw new TypeError("reducer is not a function");const i=e[Symbol.iterator]();let r,a,s=-1;if(arguments.length<3){if(({done:r,value:n}=i.next()),r)return;++s}for(;({done:r,value:a}=i.next()),!r;)n=t(n,a,++s,e);return n}},{}],354:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){if("function"!=typeof e[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(e).reverse()}},{}],355:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){const n=(0,r.default)(e,t);return n<0?void 0:n};var i,r=(i=e("./leastIndex.js"))&&i.__esModule?i:{default:i}},{"./leastIndex.js":335}],356:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,n.shuffler=r;var i=r(Math.random);function r(e){return function(t,n=0,i=t.length){let r=i-(n=+n);for(;r;){const i=e()*r--|0,a=t[r+n];t[r+n]=t[i+n],t[i+n]=a}return t}}n.default=i},{}],357:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){if("function"!=typeof t)throw new TypeError("test is not a function");let n=-1;for(const i of e)if(t(i,++n,e))return!0;return!1}},{}],358:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ascendingDefined=o,n.compareDefined=s,n.default=function(e,...t){if("function"!=typeof e[Symbol.iterator])throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&2!==n.length||t.length>1){const i=Uint32Array.from(e,((e,t)=>t));return t.length>1?(t=t.map((t=>e.map(t))),i.sort(((e,n)=>{for(const i of t){const t=o(i[e],i[n]);if(t)return t}}))):(n=e.map(n),i.sort(((e,t)=>o(n[e],n[t])))),(0,r.default)(e,i)}return e.sort(s(n))};var i=a(e("./ascending.js")),r=a(e("./permute.js"));function a(e){return e&&e.__esModule?e:{default:e}}function s(e=i.default){if(e===i.default)return o;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const i=e(t,n);return i||0===i?i:(0===e(n,n))-(0===e(t,t))}}function o(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}},{"./ascending.js":310,"./permute.js":348}],359:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){return(0,r.default)(t,e)};var i,r=(i=e("./superset.js"))&&i.__esModule?i:{default:i}},{"./superset.js":361}],360:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){let n=0;if(void 0===t)for(let t of e)(t=+t)&&(n+=t);else{let i=-1;for(let r of e)(r=+t(r,++i,e))&&(n+=r)}return n}},{}],361:[function(e,t,n){"use strict";function i(e){return null!==e&&"object"==typeof e?e.valueOf():e}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){const n=e[Symbol.iterator](),r=new Set;for(const e of t){const t=i(e);if(r.has(t))continue;let a,s;for(;({value:a,done:s}=n.next());){if(s)return!1;const e=i(a);if(r.add(e),Object.is(t,e))break}}return!0}},{}],362:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n){return Math.ceil((n-t)/(2*((0,r.default)(e,.75)-(0,r.default)(e,.25))*Math.pow((0,i.default)(e),-1/3)))};var i=a(e("../count.js")),r=a(e("../quantile.js"));function a(e){return e&&e.__esModule?e:{default:e}}},{"../count.js":316,"../quantile.js":349}],363:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n){return Math.ceil((n-t)*Math.cbrt((0,i.default)(e))/(3.49*(0,r.default)(e)))};var i=a(e("../count.js")),r=a(e("../deviation.js"));function a(e){return e&&e.__esModule?e:{default:e}}},{"../count.js":316,"../deviation.js":320}],364:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return Math.ceil(Math.log((0,r.default)(e))/Math.LN2)+1};var i,r=(i=e("../count.js"))&&i.__esModule?i:{default:i}},{"../count.js":316}],365:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n){var i,r,a,o,l=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];(i=t<e)&&(r=e,e=t,t=r);if(0===(o=s(e,t,n))||!isFinite(o))return[];if(o>0){let n=Math.round(e/o),i=Math.round(t/o);for(n*o<e&&++n,i*o>t&&--i,a=new Array(r=i-n+1);++l<r;)a[l]=(n+l)*o}else{o=-o;let n=Math.round(e*o),i=Math.round(t*o);for(n/o<e&&++n,i/o>t&&--i,a=new Array(r=i-n+1);++l<r;)a[l]=(n+l)/o}i&&a.reverse();return a},n.tickIncrement=s,n.tickStep=function(e,t,n){var s=Math.abs(t-e)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(s)/Math.LN10)),l=s/o;l>=i?o*=10:l>=r?o*=5:l>=a&&(o*=2);return t<e?-o:o};var i=Math.sqrt(50),r=Math.sqrt(10),a=Math.sqrt(2);function s(e,t,n){var s=(t-e)/Math.max(0,n),o=Math.floor(Math.log(s)/Math.LN10),l=s/Math.pow(10,o);return o>=0?(l>=i?10:l>=r?5:l>=a?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(l>=i?10:l>=r?5:l>=a?2:1)}},{}],366:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){if(!(s=e.length))return[];for(var t=-1,n=(0,r.default)(e,a),i=new Array(n);++t<n;)for(var s,o=-1,l=i[t]=new Array(s);++o<s;)l[o]=e[o][t];return i};var i,r=(i=e("./min.js"))&&i.__esModule?i:{default:i};function a(e){return e.length}},{"./min.js":342}],367:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(...e){const t=new i.InternSet;for(const n of e)for(const e of n)t.add(e);return t};var i=e("internmap")},{internmap:873}],368:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){let n,i=0,r=0,a=0;if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(n=t-r,r+=n/++i,a+=n*(t-r));else{let s=-1;for(let o of e)null!=(o=t(o,++s,e))&&(o=+o)>=o&&(n=o-r,r+=n/++i,a+=n*(o-r))}if(i>1)return a/(i-1)}},{}],369:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return(0,r.default)(arguments)};var i,r=(i=e("./transpose.js"))&&i.__esModule?i:{default:i}},{"./transpose.js":366}],370:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.axisBottom=function(e){return d(3,e)},n.axisLeft=function(e){return d(4,e)},n.axisRight=function(e){return d(2,e)},n.axisTop=function(e){return d(1,e)};var i,r=(i=e("./identity.js"))&&i.__esModule?i:{default:i};var a=1e-6;function s(e){return"translate("+e+",0)"}function o(e){return"translate(0,"+e+")"}function l(e){return t=>+e(t)}function u(e,t){return t=Math.max(0,e.bandwidth()-2*t)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function c(){return!this.__axis}function d(e,t){var n=[],i=null,d=null,h=6,f=6,p=3,m="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,v=1===e||4===e?-1:1,y=4===e||2===e?"x":"y",g=1===e||3===e?s:o;function _(s){var o=null==i?t.ticks?t.ticks.apply(t,n):t.domain():i,_=null==d?t.tickFormat?t.tickFormat.apply(t,n):r.default:d,b=Math.max(h,0)+p,j=t.range(),x=+j[0]+m,w=+j[j.length-1]+m,k=(t.bandwidth?u:l)(t.copy(),m),S=s.selection?s.selection():s,P=S.selectAll(".domain").data([null]),M=S.selectAll(".tick").data(o,t).order(),O=M.exit(),L=M.enter().append("g").attr("class","tick"),E=M.select("line"),A=M.select("text");P=P.merge(P.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),M=M.merge(L),E=E.merge(L.append("line").attr("stroke","currentColor").attr(y+"2",v*h)),A=A.merge(L.append("text").attr("fill","currentColor").attr(y,v*b).attr("dy",1===e?"0em":3===e?"0.71em":"0.32em")),s!==S&&(P=P.transition(s),M=M.transition(s),E=E.transition(s),A=A.transition(s),O=O.transition(s).attr("opacity",a).attr("transform",(function(e){return isFinite(e=k(e))?g(e+m):this.getAttribute("transform")})),L.attr("opacity",a).attr("transform",(function(e){var t=this.parentNode.__axis;return g((t&&isFinite(t=t(e))?t:k(e))+m)}))),O.remove(),P.attr("d",4===e||2===e?f?"M"+v*f+","+x+"H"+m+"V"+w+"H"+v*f:"M"+m+","+x+"V"+w:f?"M"+x+","+v*f+"V"+m+"H"+w+"V"+v*f:"M"+x+","+m+"H"+w),M.attr("opacity",1).attr("transform",(function(e){return g(k(e)+m)})),E.attr(y+"2",v*h),A.attr(y,v*b).text(_),S.filter(c).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===e?"start":4===e?"end":"middle"),S.each((function(){this.__axis=k}))}return _.scale=function(e){return arguments.length?(t=e,_):t},_.ticks=function(){return n=Array.from(arguments),_},_.tickArguments=function(e){return arguments.length?(n=null==e?[]:Array.from(e),_):n.slice()},_.tickValues=function(e){return arguments.length?(i=null==e?null:Array.from(e),_):i&&i.slice()},_.tickFormat=function(e){return arguments.length?(d=e,_):d},_.tickSize=function(e){return arguments.length?(h=f=+e,_):h},_.tickSizeInner=function(e){return arguments.length?(h=+e,_):h},_.tickSizeOuter=function(e){return arguments.length?(f=+e,_):f},_.tickPadding=function(e){return arguments.length?(p=+e,_):p},_.offset=function(e){return arguments.length?(m=+e,_):m},_}},{"./identity.js":371}],371:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return e}},{}],372:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"axisBottom",{enumerable:!0,get:function(){return i.axisBottom}}),Object.defineProperty(n,"axisLeft",{enumerable:!0,get:function(){return i.axisLeft}}),Object.defineProperty(n,"axisRight",{enumerable:!0,get:function(){return i.axisRight}}),Object.defineProperty(n,"axisTop",{enumerable:!0,get:function(){return i.axisTop}});var i=e("./axis.js")},{"./axis.js":370}],373:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.brushSelection=function(e){var t=e.__brush;return t?t.dim.output(t.selection):null},n.brushX=function(){return N(x)},n.brushY=function(){return N(w)},n.default=function(){return N(k)};var i=e("d3-dispatch"),r=e("d3-drag"),a=e("d3-interpolate"),s=e("d3-selection"),o=e("d3-transition"),l=h(e("./constant.js")),u=h(e("./event.js")),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=r?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(e("./noevent.js"));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function h(e){return e&&e.__esModule?e:{default:e}}var f={name:"drag"},p={name:"space"},m={name:"handle"},v={name:"center"};const{abs:y,max:g,min:_}=Math;function b(e){return[+e[0],+e[1]]}function j(e){return[b(e[0]),b(e[1])]}var x={name:"x",handles:["w","e"].map(E),input:function(e,t){return null==e?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},w={name:"y",handles:["n","s"].map(E),input:function(e,t){return null==e?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},k={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(E),input:function(e){return null==e?null:j(e)},output:function(e){return e}},S={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},P={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},M={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},O={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},L={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function E(e){return{type:e}}function A(e){return!e.ctrlKey&&!e.button}function C(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function T(){return navigator.maxTouchPoints||"ontouchstart"in this}function D(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function I(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function N(e){var t,n=C,d=A,h=T,b=!0,k=(0,i.dispatch)("start","brush","end"),N=6;function z(t){var n=t.property("__brush",Z).selectAll(".overlay").data([E("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",S.overlay).merge(n).each((function(){var e=D(this).extent;(0,s.select)(this).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1])})),t.selectAll(".selection").data([E("selection")]).enter().append("rect").attr("class","selection").attr("cursor",S.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var i=t.selectAll(".handle").data(e.handles,(function(e){return e.type}));i.exit().remove(),i.enter().append("rect").attr("class",(function(e){return"handle handle--"+e.type})).attr("cursor",(function(e){return S[e.type]})),t.each(q).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",F).filter(h).on("touchstart.brush",F).on("touchmove.brush",H).on("touchend.brush touchcancel.brush",W).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function q(){var e=(0,s.select)(this),t=D(this).selection;t?(e.selectAll(".selection").style("display",null).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1]),e.selectAll(".handle").style("display",null).attr("x",(function(e){return"e"===e.type[e.type.length-1]?t[1][0]-N/2:t[0][0]-N/2})).attr("y",(function(e){return"s"===e.type[0]?t[1][1]-N/2:t[0][1]-N/2})).attr("width",(function(e){return"n"===e.type||"s"===e.type?t[1][0]-t[0][0]+N:N})).attr("height",(function(e){return"e"===e.type||"w"===e.type?t[1][1]-t[0][1]+N:N}))):e.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function R(e,t,n){var i=e.__brush.emitter;return!i||n&&i.clean?new B(e,t,n):i}function B(e,t,n){this.that=e,this.args=t,this.state=e.__brush,this.active=0,this.clean=n}function F(n){if((!t||n.touches)&&d.apply(this,arguments)){var i,a,l,u,h,j,k,E,A,C,T,N=this,z=n.target.__data__.type,B="selection"===(b&&n.metaKey?z="overlay":z)?f:b&&n.altKey?v:m,F=e===w?null:O[z],H=e===x?null:L[z],W=D(N),Z=W.extent,V=W.selection,U=Z[0][0],Y=Z[0][1],G=Z[1][0],X=Z[1][1],K=0,$=0,J=F&&H&&b&&n.shiftKey,Q=Array.from(n.touches||[n],(e=>{const t=e.identifier;return(e=(0,s.pointer)(e,N)).point0=e.slice(),e.identifier=t,e}));(0,o.interrupt)(N);var ee=R(N,arguments,!0).beforestart();if("overlay"===z){V&&(A=!0);const t=[Q[0],Q[1]||Q[0]];W.selection=V=[[i=e===w?U:_(t[0][0],t[1][0]),l=e===x?Y:_(t[0][1],t[1][1])],[h=e===w?G:g(t[0][0],t[1][0]),k=e===x?X:g(t[0][1],t[1][1])]],Q.length>1&&ae(n)}else i=V[0][0],l=V[0][1],h=V[1][0],k=V[1][1];a=i,u=l,j=h,E=k;var te=(0,s.select)(N).attr("pointer-events","none"),ne=te.selectAll(".overlay").attr("cursor",S[z]);if(n.touches)ee.moved=re,ee.ended=se;else{var ie=(0,s.select)(n.view).on("mousemove.brush",re,!0).on("mouseup.brush",se,!0);b&&ie.on("keydown.brush",oe,!0).on("keyup.brush",le,!0),(0,r.dragDisable)(n.view)}q.call(N),ee.start(n,B.name)}function re(e){for(const t of e.changedTouches||[e])for(const e of Q)e.identifier===t.identifier&&(e.cur=(0,s.pointer)(t,N));if(J&&!C&&!T&&1===Q.length){const e=Q[0];y(e.cur[0]-e[0])>y(e.cur[1]-e[1])?T=!0:C=!0}for(const e of Q)e.cur&&(e[0]=e.cur[0],e[1]=e.cur[1]);A=!0,(0,c.default)(e),ae(e)}function ae(e){const t=Q[0],n=t.point0;var r;switch(K=t[0]-n[0],$=t[1]-n[1],B){case p:case f:F&&(K=g(U-i,_(G-h,K)),a=i+K,j=h+K),H&&($=g(Y-l,_(X-k,$)),u=l+$,E=k+$);break;case m:Q[1]?(F&&(a=g(U,_(G,Q[0][0])),j=g(U,_(G,Q[1][0])),F=1),H&&(u=g(Y,_(X,Q[0][1])),E=g(Y,_(X,Q[1][1])),H=1)):(F<0?(K=g(U-i,_(G-i,K)),a=i+K,j=h):F>0&&(K=g(U-h,_(G-h,K)),a=i,j=h+K),H<0?($=g(Y-l,_(X-l,$)),u=l+$,E=k):H>0&&($=g(Y-k,_(X-k,$)),u=l,E=k+$));break;case v:F&&(a=g(U,_(G,i-K*F)),j=g(U,_(G,h+K*F))),H&&(u=g(Y,_(X,l-$*H)),E=g(Y,_(X,k+$*H)))}j<a&&(F*=-1,r=i,i=h,h=r,r=a,a=j,j=r,z in P&&ne.attr("cursor",S[z=P[z]])),E<u&&(H*=-1,r=l,l=k,k=r,r=u,u=E,E=r,z in M&&ne.attr("cursor",S[z=M[z]])),W.selection&&(V=W.selection),C&&(a=V[0][0],j=V[1][0]),T&&(u=V[0][1],E=V[1][1]),V[0][0]===a&&V[0][1]===u&&V[1][0]===j&&V[1][1]===E||(W.selection=[[a,u],[j,E]],q.call(N),ee.brush(e,B.name))}function se(e){if((0,c.nopropagation)(e),e.touches){if(e.touches.length)return;t&&clearTimeout(t),t=setTimeout((function(){t=null}),500)}else(0,r.dragEnable)(e.view,A),ie.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);te.attr("pointer-events","all"),ne.attr("cursor",S.overlay),W.selection&&(V=W.selection),I(V)&&(W.selection=null,q.call(N)),ee.end(e,B.name)}function oe(e){switch(e.keyCode){case 16:J=F&&H;break;case 18:B===m&&(F&&(h=j-K*F,i=a+K*F),H&&(k=E-$*H,l=u+$*H),B=v,ae(e));break;case 32:B!==m&&B!==v||(F<0?h=j-K:F>0&&(i=a-K),H<0?k=E-$:H>0&&(l=u-$),B=p,ne.attr("cursor",S.selection),ae(e));break;default:return}(0,c.default)(e)}function le(e){switch(e.keyCode){case 16:J&&(C=T=J=!1,ae(e));break;case 18:B===v&&(F<0?h=j:F>0&&(i=a),H<0?k=E:H>0&&(l=u),B=m,ae(e));break;case 32:B===p&&(e.altKey?(F&&(h=j-K*F,i=a+K*F),H&&(k=E-$*H,l=u+$*H),B=v):(F<0?h=j:F>0&&(i=a),H<0?k=E:H>0&&(l=u),B=m),ne.attr("cursor",S[z]),ae(e));break;default:return}(0,c.default)(e)}}function H(e){R(this,arguments).moved(e)}function W(e){R(this,arguments).ended(e)}function Z(){var t=this.__brush||{selection:null};return t.extent=j(n.apply(this,arguments)),t.dim=e,t}return z.move=function(t,n,i){t.tween?t.on("start.brush",(function(e){R(this,arguments).beforestart().start(e)})).on("interrupt.brush end.brush",(function(e){R(this,arguments).end(e)})).tween("brush",(function(){var t=this,i=t.__brush,r=R(t,arguments),s=i.selection,o=e.input("function"==typeof n?n.apply(this,arguments):n,i.extent),l=(0,a.interpolate)(s,o);function u(e){i.selection=1===e&&null===o?null:l(e),q.call(t),r.brush()}return null!==s&&null!==o?u:u(1)})):t.each((function(){var t=this,r=arguments,a=t.__brush,s=e.input("function"==typeof n?n.apply(t,r):n,a.extent),l=R(t,r).beforestart();(0,o.interrupt)(t),a.selection=null===s?null:s,q.call(t),l.start(i).brush(i).end(i)}))},z.clear=function(e,t){z.move(e,null,t)},B.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(e,t){return this.starting?(this.starting=!1,this.emit("start",e,t)):this.emit("brush",e),this},brush:function(e,t){return this.emit("brush",e,t),this},end:function(e,t){return 0==--this.active&&(delete this.state.emitter,this.emit("end",e,t)),this},emit:function(t,n,i){var r=(0,s.select)(this.that).datum();k.call(t,this.that,new u.default(t,{sourceEvent:n,target:z,selection:e.output(this.state.selection),mode:i,dispatch:k}),r)}},z.extent=function(e){return arguments.length?(n="function"==typeof e?e:(0,l.default)(j(e)),z):n},z.filter=function(e){return arguments.length?(d="function"==typeof e?e:(0,l.default)(!!e),z):d},z.touchable=function(e){return arguments.length?(h="function"==typeof e?e:(0,l.default)(!!e),z):h},z.handleSize=function(e){return arguments.length?(N=+e,z):N},z.keyModifiers=function(e){return arguments.length?(b=!!e,z):b},z.on=function(){var e=k.on.apply(k,arguments);return e===k?z:e},z}},{"./constant.js":374,"./event.js":375,"./noevent.js":377,"d3-dispatch":405,"d3-drag":409,"d3-interpolate":568,"d3-selection":700,"d3-transition":836}],374:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default=e=>()=>e},{}],375:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,{sourceEvent:t,target:n,selection:i,mode:r,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:i,enumerable:!0,configurable:!0},mode:{value:r,enumerable:!0,configurable:!0},_:{value:a}})}},{}],376:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"brush",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"brushSelection",{enumerable:!0,get:function(){return i.brushSelection}}),Object.defineProperty(n,"brushX",{enumerable:!0,get:function(){return i.brushX}}),Object.defineProperty(n,"brushY",{enumerable:!0,get:function(){return i.brushY}});var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=a?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=e[s]}i.default=e,n&&n.set(e,i);return i}(e("./brush.js"));function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}},{"./brush.js":373}],377:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){e.preventDefault(),e.stopImmediatePropagation()},n.nopropagation=function(e){e.stopImmediatePropagation()}},{}],378:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.slice=void 0;var i=Array.prototype.slice;n.slice=i},{}],379:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.chordDirected=function(){return s(!0,!1)},n.chordTranspose=function(){return s(!1,!0)},n.default=function(){return s(!1,!1)};var i=e("./math.js");function r(e,t){return Array.from({length:t-e},((t,n)=>e+n))}function a(e){return function(t,n){return e(t.source.value+t.target.value,n.source.value+n.target.value)}}function s(e,t){var n=0,s=null,o=null,l=null;function u(a){var u,c=a.length,d=new Array(c),h=r(0,c),f=new Array(c*c),p=new Array(c),m=0;a=Float64Array.from({length:c*c},t?(e,t)=>a[t%c][t/c|0]:(e,t)=>a[t/c|0][t%c]);for(let t=0;t<c;++t){let n=0;for(let i=0;i<c;++i)n+=a[t*c+i]+e*a[i*c+t];m+=d[t]=n}u=(m=(0,i.max)(0,i.tau-n*c)/m)?n:i.tau/c;{let t=0;s&&h.sort(((e,t)=>s(d[e],d[t])));for(const n of h){const i=t;if(e){const e=r(1+~c,c).filter((e=>e<0?a[~e*c+n]:a[n*c+e]));o&&e.sort(((e,t)=>o(e<0?-a[~e*c+n]:a[n*c+e],t<0?-a[~t*c+n]:a[n*c+t])));for(const i of e)if(i<0){(f[~i*c+n]||(f[~i*c+n]={source:null,target:null})).target={index:n,startAngle:t,endAngle:t+=a[~i*c+n]*m,value:a[~i*c+n]}}else{(f[n*c+i]||(f[n*c+i]={source:null,target:null})).source={index:n,startAngle:t,endAngle:t+=a[n*c+i]*m,value:a[n*c+i]}}p[n]={index:n,startAngle:i,endAngle:t,value:d[n]}}else{const e=r(0,c).filter((e=>a[n*c+e]||a[e*c+n]));o&&e.sort(((e,t)=>o(a[n*c+e],a[n*c+t])));for(const i of e){let e;if(n<i?(e=f[n*c+i]||(f[n*c+i]={source:null,target:null}),e.source={index:n,startAngle:t,endAngle:t+=a[n*c+i]*m,value:a[n*c+i]}):(e=f[i*c+n]||(f[i*c+n]={source:null,target:null}),e.target={index:n,startAngle:t,endAngle:t+=a[n*c+i]*m,value:a[n*c+i]},n===i&&(e.source=e.target)),e.source&&e.target&&e.source.value<e.target.value){const t=e.source;e.source=e.target,e.target=t}}p[n]={index:n,startAngle:i,endAngle:t,value:d[n]}}t+=u}}return(f=Object.values(f)).groups=p,l?f.sort(l):f}return u.padAngle=function(e){return arguments.length?(n=(0,i.max)(0,e),u):n},u.sortGroups=function(e){return arguments.length?(s=e,u):s},u.sortSubgroups=function(e){return arguments.length?(o=e,u):o},u.sortChords=function(e){return arguments.length?(null==e?l=null:(l=a(e))._=e,u):l&&l._},u}},{"./math.js":382}],380:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return function(){return e}}},{}],381:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"chord",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"chordDirected",{enumerable:!0,get:function(){return i.chordDirected}}),Object.defineProperty(n,"chordTranspose",{enumerable:!0,get:function(){return i.chordTranspose}}),Object.defineProperty(n,"ribbon",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"ribbonArrow",{enumerable:!0,get:function(){return r.ribbonArrow}});var i=s(e("./chord.js")),r=s(e("./ribbon.js"));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}},{"./chord.js":379,"./ribbon.js":383}],382:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.tau=n.sin=n.pi=n.max=n.halfPi=n.epsilon=n.cos=n.abs=void 0;var i=Math.abs;n.abs=i;var r=Math.cos;n.cos=r;var a=Math.sin;n.sin=a;var s=Math.PI;n.pi=s;var o=s/2;n.halfPi=o;var l=2*s;n.tau=l;var u=Math.max;n.max=u;n.epsilon=1e-12},{}],383:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return m()},n.ribbonArrow=function(){return m(p)};var i,r=e("d3-path"),a=e("./array.js"),s=(i=e("./constant.js"))&&i.__esModule?i:{default:i},o=e("./math.js");function l(e){return e.source}function u(e){return e.target}function c(e){return e.radius}function d(e){return e.startAngle}function h(e){return e.endAngle}function f(){return 0}function p(){return 10}function m(e){var t=l,n=u,i=c,p=c,m=d,v=h,y=f,g=null;function _(){var s,l=t.apply(this,arguments),u=n.apply(this,arguments),c=y.apply(this,arguments)/2,d=a.slice.call(arguments),h=+i.apply(this,(d[0]=l,d)),f=m.apply(this,d)-o.halfPi,_=v.apply(this,d)-o.halfPi,b=+p.apply(this,(d[0]=u,d)),j=m.apply(this,d)-o.halfPi,x=v.apply(this,d)-o.halfPi;if(g||(g=s=(0,r.path)()),c>o.epsilon&&((0,o.abs)(_-f)>2*c+o.epsilon?_>f?(f+=c,_-=c):(f-=c,_+=c):f=_=(f+_)/2,(0,o.abs)(x-j)>2*c+o.epsilon?x>j?(j+=c,x-=c):(j-=c,x+=c):j=x=(j+x)/2),g.moveTo(h*(0,o.cos)(f),h*(0,o.sin)(f)),g.arc(0,0,h,f,_),f!==j||_!==x)if(e){var w=+e.apply(this,arguments),k=b-w,S=(j+x)/2;g.quadraticCurveTo(0,0,k*(0,o.cos)(j),k*(0,o.sin)(j)),g.lineTo(b*(0,o.cos)(S),b*(0,o.sin)(S)),g.lineTo(k*(0,o.cos)(x),k*(0,o.sin)(x))}else g.quadraticCurveTo(0,0,b*(0,o.cos)(j),b*(0,o.sin)(j)),g.arc(0,0,b,j,x);if(g.quadraticCurveTo(0,0,h*(0,o.cos)(f),h*(0,o.sin)(f)),g.closePath(),s)return g=null,s+""||null}return e&&(_.headRadius=function(t){return arguments.length?(e="function"==typeof t?t:(0,s.default)(+t),_):e}),_.radius=function(e){return arguments.length?(i=p="function"==typeof e?e:(0,s.default)(+e),_):i},_.sourceRadius=function(e){return arguments.length?(i="function"==typeof e?e:(0,s.default)(+e),_):i},_.targetRadius=function(e){return arguments.length?(p="function"==typeof e?e:(0,s.default)(+e),_):p},_.startAngle=function(e){return arguments.length?(m="function"==typeof e?e:(0,s.default)(+e),_):m},_.endAngle=function(e){return arguments.length?(v="function"==typeof e?e:(0,s.default)(+e),_):v},_.padAngle=function(e){return arguments.length?(y="function"==typeof e?e:(0,s.default)(+e),_):y},_.source=function(e){return arguments.length?(t=e,_):t},_.target=function(e){return arguments.length?(n=e,_):n},_.context=function(e){return arguments.length?(g=null==e?null:e,_):g},_}},{"./array.js":378,"./constant.js":380,"./math.js":382,"d3-path":583}],384:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Color=a,n.Rgb=P,n.darker=n.brighter=void 0,n.default=j,n.hsl=D,n.hslConvert=T,n.rgb=S,n.rgbConvert=k;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=a?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=e[s]}i.default=e,n&&n.set(e,i);return i}(e("./define.js"));function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}function a(){}var s=.7;n.darker=s;var o=1/s;n.brighter=o;var l="\\s*([+-]?\\d+)\\s*",u="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",c="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",d=/^#([0-9a-f]{3,8})$/,h=new RegExp(`^rgb\\(${l},${l},${l}\\)$`),f=new RegExp(`^rgb\\(${c},${c},${c}\\)$`),p=new RegExp(`^rgba\\(${l},${l},${l},${u}\\)$`),m=new RegExp(`^rgba\\(${c},${c},${c},${u}\\)$`),v=new RegExp(`^hsl\\(${u},${c},${c}\\)$`),y=new RegExp(`^hsla\\(${u},${c},${c},${u}\\)$`),g={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function _(){return this.rgb().formatHex()}function b(){return this.rgb().formatRgb()}function j(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=d.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?x(t):3===n?new P(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?w(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?w(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=h.exec(e))?new P(t[1],t[2],t[3],1):(t=f.exec(e))?new P(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=p.exec(e))?w(t[1],t[2],t[3],t[4]):(t=m.exec(e))?w(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=v.exec(e))?C(t[1],t[2]/100,t[3]/100,1):(t=y.exec(e))?C(t[1],t[2]/100,t[3]/100,t[4]):g.hasOwnProperty(e)?x(g[e]):"transparent"===e?new P(NaN,NaN,NaN,0):null}function x(e){return new P(e>>16&255,e>>8&255,255&e,1)}function w(e,t,n,i){return i<=0&&(e=t=n=NaN),new P(e,t,n,i)}function k(e){return e instanceof a||(e=j(e)),e?new P((e=e.rgb()).r,e.g,e.b,e.opacity):new P}function S(e,t,n,i){return 1===arguments.length?k(e):new P(e,t,n,null==i?1:i)}function P(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}function M(){return`#${A(this.r)}${A(this.g)}${A(this.b)}`}function O(){const e=L(this.opacity);return`${1===e?"rgb(":"rgba("}${E(this.r)}, ${E(this.g)}, ${E(this.b)}${1===e?")":`, ${e})`}`}function L(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function E(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function A(e){return((e=E(e))<16?"0":"")+e.toString(16)}function C(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new I(e,t,n,i)}function T(e){if(e instanceof I)return new I(e.h,e.s,e.l,e.opacity);if(e instanceof a||(e=j(e)),!e)return new I;if(e instanceof I)return e;var t=(e=e.rgb()).r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),s=Math.max(t,n,i),o=NaN,l=s-r,u=(s+r)/2;return l?(o=t===s?(n-i)/l+6*(n<i):n===s?(i-t)/l+2:(t-n)/l+4,l/=u<.5?s+r:2-s-r,o*=60):l=u>0&&u<1?0:o,new I(o,l,u,e.opacity)}function D(e,t,n,i){return 1===arguments.length?T(e):new I(e,t,n,null==i?1:i)}function I(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}function N(e){return(e=(e||0)%360)<0?e+360:e}function z(e){return Math.max(0,Math.min(1,e||0))}function q(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}(0,i.default)(a,j,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:_,formatHex:_,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return T(this).formatHsl()},formatRgb:b,toString:b}),(0,i.default)(P,S,(0,i.extend)(a,{brighter(e){return e=null==e?o:Math.pow(o,e),new P(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?s:Math.pow(s,e),new P(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new P(E(this.r),E(this.g),E(this.b),L(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:M,formatHex:M,formatHex8:function(){return`#${A(this.r)}${A(this.g)}${A(this.b)}${A(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:O,toString:O})),(0,i.default)(I,D,(0,i.extend)(a,{brighter(e){return e=null==e?o:Math.pow(o,e),new I(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?s:Math.pow(s,e),new I(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new P(q(e>=240?e-240:e+120,r,i),q(e,r,i),q(e<120?e+240:e-120,r,i),this.opacity)},clamp(){return new I(N(this.h),z(this.s),z(this.l),L(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=L(this.opacity);return`${1===e?"hsl(":"hsla("}${N(this.h)}, ${100*z(this.s)}%, ${100*z(this.l)}%${1===e?")":`, ${e})`}`}}))},{"./define.js":386}],385:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Cubehelix=y,n.default=v;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(e("./define.js")),r=e("./color.js"),a=e("./math.js");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}var o=-.14861,l=1.78277,u=-.29227,c=-.90649,d=1.97294,h=d*c,f=d*l,p=l*u-c*o;function m(e){if(e instanceof y)return new y(e.h,e.s,e.l,e.opacity);e instanceof r.Rgb||(e=(0,r.rgbConvert)(e));var t=e.r/255,n=e.g/255,i=e.b/255,s=(p*i+h*t-f*n)/(p+h-f),o=i-s,l=(d*(n-s)-u*o)/c,m=Math.sqrt(l*l+o*o)/(d*s*(1-s)),v=m?Math.atan2(l,o)*a.degrees-120:NaN;return new y(v<0?v+360:v,m,s,e.opacity)}function v(e,t,n,i){return 1===arguments.length?m(e):new y(e,t,n,null==i?1:i)}function y(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}(0,i.default)(y,v,(0,i.extend)(r.Color,{brighter(e){return e=null==e?r.brighter:Math.pow(r.brighter,e),new y(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?r.darker:Math.pow(r.darker,e),new y(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*a.radians,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),i=Math.cos(e),s=Math.sin(e);return new r.Rgb(255*(t+n*(o*i+l*s)),255*(t+n*(u*i+c*s)),255*(t+n*(d*i)),this.opacity)}}))},{"./color.js":384,"./define.js":386,"./math.js":389}],386:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e},n.extend=function(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}},{}],387:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"color",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"cubehelix",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(n,"gray",{enumerable:!0,get:function(){return a.gray}}),Object.defineProperty(n,"hcl",{enumerable:!0,get:function(){return a.hcl}}),Object.defineProperty(n,"hsl",{enumerable:!0,get:function(){return r.hsl}}),Object.defineProperty(n,"lab",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"lch",{enumerable:!0,get:function(){return a.lch}}),Object.defineProperty(n,"rgb",{enumerable:!0,get:function(){return r.rgb}});var i,r=l(e("./color.js")),a=l(e("./lab.js")),s=(i=e("./cubehelix.js"))&&i.__esModule?i:{default:i};function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=r?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}},{"./color.js":384,"./cubehelix.js":385,"./lab.js":388}],388:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Hcl=j,n.Lab=p,n.default=f,n.gray=function(e,t){return new p(e,0,0,null==t?1:t)},n.hcl=b,n.lch=function(e,t,n,i){return 1===arguments.length?_(e):new j(n,t,e,null==i?1:i)};var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(e("./define.js")),r=e("./color.js"),a=e("./math.js");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}const o=.96422,l=.82521,u=4/29,c=6/29,d=3*c*c;function h(e){if(e instanceof p)return new p(e.l,e.a,e.b,e.opacity);if(e instanceof j)return x(e);e instanceof r.Rgb||(e=(0,r.rgbConvert)(e));var t,n,i=g(e.r),a=g(e.g),s=g(e.b),u=m((.2225045*i+.7168786*a+.0606169*s)/1);return i===a&&a===s?t=n=u:(t=m((.4360747*i+.3850649*a+.1430804*s)/o),n=m((.0139322*i+.0971045*a+.7141733*s)/l)),new p(116*u-16,500*(t-u),200*(u-n),e.opacity)}function f(e,t,n,i){return 1===arguments.length?h(e):new p(e,t,n,null==i?1:i)}function p(e,t,n,i){this.l=+e,this.a=+t,this.b=+n,this.opacity=+i}function m(e){return e>.008856451679035631?Math.pow(e,1/3):e/d+u}function v(e){return e>c?e*e*e:d*(e-u)}function y(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function g(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function _(e){if(e instanceof j)return new j(e.h,e.c,e.l,e.opacity);if(e instanceof p||(e=h(e)),0===e.a&&0===e.b)return new j(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*a.degrees;return new j(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function b(e,t,n,i){return 1===arguments.length?_(e):new j(e,t,n,null==i?1:i)}function j(e,t,n,i){this.h=+e,this.c=+t,this.l=+n,this.opacity=+i}function x(e){if(isNaN(e.h))return new p(e.l,0,0,e.opacity);var t=e.h*a.radians;return new p(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}(0,i.default)(p,f,(0,i.extend)(r.Color,{brighter(e){return new p(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker(e){return new p(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=o*v(t),e=1*v(e),n=l*v(n),new r.Rgb(y(3.1338561*t-1.6168667*e-.4906146*n),y(-.9787684*t+1.9161415*e+.033454*n),y(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),(0,i.default)(j,b,(0,i.extend)(r.Color,{brighter(e){return new j(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker(e){return new j(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb(){return x(this).rgb()}}))},{"./color.js":384,"./define.js":386,"./math.js":389}],389:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.radians=n.degrees=void 0;const i=Math.PI/180;n.radians=i;const r=180/Math.PI;n.degrees=r},{}],390:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=0,n=e.length,i=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];for(;++t<n;)i+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return i}},{}],391:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.slice=void 0;var i=Array.prototype.slice;n.slice=i},{}],392:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){return e-t}},{}],393:[function(e,t,n){arguments[4][374][0].apply(n,arguments)},{dup:374}],394:[function(e,t,n){"use strict";function i(e,t){for(var n=t[0],i=t[1],a=-1,s=0,o=e.length,l=o-1;s<o;l=s++){var u=e[s],c=u[0],d=u[1],h=e[l],f=h[0],p=h[1];if(r(u,h,t))return 0;d>i!=p>i&&n<(f-c)*(i-d)/(p-d)+c&&(a=-a)}return a}function r(e,t,n){var i,r,a,s;return function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])==(n[0]-e[0])*(t[1]-e[1])}(e,t,n)&&(r=e[i=+(e[0]===t[0])],a=n[i],s=t[i],r<=a&&a<=s||s<=a&&a<=r)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){var n,r=-1,a=t.length;for(;++r<a;)if(n=i(e,t[r]))return n;return 0}},{}],395:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=1,t=1,n=i.thresholdSturges,c=m;function h(e){var t=n(e);if(Array.isArray(t))t=t.slice().sort(a.default);else{const n=(0,i.extent)(e),r=(0,i.tickStep)(n[0],n[1],t);t=(0,i.ticks)(Math.floor(n[0]/r)*r,Math.floor(n[1]/r-1)*r,t)}return t.map((t=>f(e,t)))}function f(n,i){var r=[],a=[];return function(n,i,r){var a,s,o,l,u,c,h=new Array,f=new Array;a=s=-1,l=n[0]>=i,d[l<<1].forEach(m);for(;++a<e-1;)o=l,l=n[a+1]>=i,d[o|l<<1].forEach(m);d[l<<0].forEach(m);for(;++s<t-1;){for(a=-1,l=n[s*e+e]>=i,u=n[s*e]>=i,d[l<<1|u<<2].forEach(m);++a<e-1;)o=l,l=n[s*e+e+a+1]>=i,c=u,u=n[s*e+a+1]>=i,d[o|l<<1|u<<2|c<<3].forEach(m);d[l|u<<3].forEach(m)}a=-1,u=n[s*e]>=i,d[u<<2].forEach(m);for(;++a<e-1;)c=u,u=n[s*e+a+1]>=i,d[u<<2|c<<3].forEach(m);function m(e){var t,n,i=[e[0][0]+a,e[0][1]+s],o=[e[1][0]+a,e[1][1]+s],l=p(i),u=p(o);(t=f[l])?(n=h[u])?(delete f[t.end],delete h[n.start],t===n?(t.ring.push(o),r(t.ring)):h[t.start]=f[n.end]={start:t.start,end:n.end,ring:t.ring.concat(n.ring)}):(delete f[t.end],t.ring.push(o),f[t.end=u]=t):(t=h[u])?(n=f[l])?(delete h[t.start],delete f[n.end],t===n?(t.ring.push(o),r(t.ring)):h[n.start]=f[t.end]={start:n.start,end:t.end,ring:n.ring.concat(t.ring)}):(delete h[t.start],t.ring.unshift(i),h[t.start=l]=t):h[l]=f[u]={start:l,end:u,ring:[i,o]}}d[u<<3].forEach(m)}(n,i,(function(e){c(e,n,i),(0,s.default)(e)>0?r.push([e]):a.push(e)})),a.forEach((function(e){for(var t,n=0,i=r.length;n<i;++n)if(-1!==(0,l.default)((t=r[n])[0],e))return void t.push(e)})),{type:"MultiPolygon",value:i,coordinates:r}}function p(t){return 2*t[0]+t[1]*(e+1)*4}function m(n,i,r){n.forEach((function(n){var a,s=n[0],o=n[1],l=0|s,u=0|o,c=i[u*e+l];s>0&&s<e&&l===s&&(a=i[u*e+l-1],n[0]=s+(r-a)/(c-a)-.5),o>0&&o<t&&u===o&&(a=i[(u-1)*e+l],n[1]=o+(r-a)/(c-a)-.5)}))}return h.contour=f,h.size=function(n){if(!arguments.length)return[e,t];var i=Math.floor(n[0]),r=Math.floor(n[1]);if(!(i>=0&&r>=0))throw new Error("invalid size");return e=i,t=r,h},h.thresholds=function(e){return arguments.length?(n="function"==typeof e?e:Array.isArray(e)?(0,o.default)(r.slice.call(e)):(0,o.default)(e),h):n},h.smooth=function(e){return arguments.length?(c=e?m:u.default,h):c===m},h};var i=e("d3-array"),r=e("./array.js"),a=c(e("./ascending.js")),s=c(e("./area.js")),o=c(e("./constant.js")),l=c(e("./contains.js")),u=c(e("./noop.js"));function c(e){return e&&e.__esModule?e:{default:e}}var d=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]]},{"./area.js":390,"./array.js":391,"./ascending.js":392,"./constant.js":393,"./contains.js":394,"./noop.js":398,"d3-array":332}],396:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=l,t=u,n=c,o=960,d=500,h=20,f=2,p=3*h,m=o+2*p>>f,v=d+2*p>>f,y=(0,a.default)(20);function g(r){var a=new Float32Array(m*v),s=Math.pow(2,-f),o=-1;for(const i of r){var l=(e(i,++o,r)+p)*s,u=(t(i,o,r)+p)*s,c=+n(i,o,r);if(l>=0&&l<m&&u>=0&&u<v){var d=Math.floor(l),y=Math.floor(u),g=l-d-.5,_=u-y-.5;a[d+y*m]+=(1-g)*(1-_)*c,a[d+1+y*m]+=g*(1-_)*c,a[d+1+(y+1)*m]+=g*_*c,a[d+(y+1)*m]+=(1-g)*_*c}}return(0,i.blur2)({data:a,width:m,height:v},h*s),a}function _(e){var t=g(e),n=y(t),r=Math.pow(2,2*f);return Array.isArray(n)||(n=(0,i.ticks)(Number.MIN_VALUE,(0,i.max)(t)/r,n)),(0,s.default)().size([m,v]).thresholds(n.map((e=>e*r)))(t).map(((e,t)=>(e.value=+n[t],b(e))))}function b(e){return e.coordinates.forEach(j),e}function j(e){e.forEach(x)}function x(e){e.forEach(w)}function w(e){e[0]=e[0]*Math.pow(2,f)-p,e[1]=e[1]*Math.pow(2,f)-p}function k(){return m=o+2*(p=3*h)>>f,v=d+2*p>>f,_}return _.contours=function(e){var t=g(e),n=(0,s.default)().size([m,v]),r=Math.pow(2,2*f),a=e=>{e=+e;var i=b(n.contour(t,e*r));return i.value=e,i};return Object.defineProperty(a,"max",{get:()=>(0,i.max)(t)/r}),a},_.x=function(t){return arguments.length?(e="function"==typeof t?t:(0,a.default)(+t),_):e},_.y=function(e){return arguments.length?(t="function"==typeof e?e:(0,a.default)(+e),_):t},_.weight=function(e){return arguments.length?(n="function"==typeof e?e:(0,a.default)(+e),_):n},_.size=function(e){if(!arguments.length)return[o,d];var t=+e[0],n=+e[1];if(!(t>=0&&n>=0))throw new Error("invalid size");return o=t,d=n,k()},_.cellSize=function(e){if(!arguments.length)return 1<<f;if(!((e=+e)>=1))throw new Error("invalid cell size");return f=Math.floor(Math.log(e)/Math.LN2),k()},_.thresholds=function(e){return arguments.length?(y="function"==typeof e?e:Array.isArray(e)?(0,a.default)(r.slice.call(e)):(0,a.default)(e),_):y},_.bandwidth=function(e){if(!arguments.length)return Math.sqrt(h*(h+1));if(!((e=+e)>=0))throw new Error("invalid bandwidth");return h=(Math.sqrt(4*e*e+1)-1)/2,k()},_};var i=e("d3-array"),r=e("./array.js"),a=o(e("./constant.js")),s=o(e("./contours.js"));function o(e){return e&&e.__esModule?e:{default:e}}function l(e){return e[0]}function u(e){return e[1]}function c(){return 1}},{"./array.js":391,"./constant.js":393,"./contours.js":395,"d3-array":332}],397:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"contourDensity",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"contours",{enumerable:!0,get:function(){return i.default}});var i=a(e("./contours.js")),r=a(e("./density.js"));function a(e){return e&&e.__esModule?e:{default:e}}},{"./contours.js":395,"./density.js":396}],398:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){}},{}],399:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(e("delaunator")),r=o(e("./path.js")),a=o(e("./polygon.js")),s=o(e("./voronoi.js"));function o(e){return e&&e.__esModule?e:{default:e}}const l=2*Math.PI,u=Math.pow;function c(e){return e[0]}function d(e){return e[1]}function h(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class f{static from(e,t=c,n=d,i){return new f("length"in e?function(e,t,n,i){const r=e.length,a=new Float64Array(2*r);for(let s=0;s<r;++s){const r=e[s];a[2*s]=t.call(i,r,s,e),a[2*s+1]=n.call(i,r,s,e)}return a}(e,t,n,i):Float64Array.from(function*(e,t,n,i){let r=0;for(const a of e)yield t.call(i,a,r,e),yield n.call(i,a,r,e),++r}(e,t,n,i)))}constructor(e){this._delaunator=new i.default(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,t=this.points;if(e.hull&&e.hull.length>2&&function(e){const{triangles:t,coords:n}=e;for(let e=0;e<t.length;e+=3){const i=2*t[e],r=2*t[e+1],a=2*t[e+2];if((n[a]-n[i])*(n[r+1]-n[i+1])-(n[r]-n[i])*(n[a+1]-n[i+1])>1e-10)return!1}return!0}(e)){this.collinear=Int32Array.from({length:t.length/2},((e,t)=>t)).sort(((e,n)=>t[2*e]-t[2*n]||t[2*e+1]-t[2*n+1]));const e=this.collinear[0],n=this.collinear[this.collinear.length-1],r=[t[2*e],t[2*e+1],t[2*n],t[2*n+1]],a=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]);for(let e=0,n=t.length/2;e<n;++e){const n=h(t[2*e],t[2*e+1],a);t[2*e]=n[0],t[2*e+1]=n[1]}this._delaunator=new i.default(t)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,a=this.triangles=this._delaunator.triangles,s=this.inedges.fill(-1),o=this._hullIndex.fill(-1);for(let e=0,t=n.length;e<t;++e){const t=a[e%3==2?e-2:e+1];-1!==n[e]&&-1!==s[t]||(s[t]=e)}for(let e=0,t=r.length;e<t;++e)o[r[e]]=e;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],s[r[0]]=1,2===r.length&&(s[r[1]]=0,this.triangles[1]=r[1],this.triangles[2]=r[1]))}voronoi(e){return new s.default(this,e)}*neighbors(e){const{inedges:t,hull:n,_hullIndex:i,halfedges:r,triangles:a,collinear:s}=this;if(s){const t=s.indexOf(e);return t>0&&(yield s[t-1]),void(t<s.length-1&&(yield s[t+1]))}const o=t[e];if(-1===o)return;let l=o,u=-1;do{if(yield u=a[l],l=l%3==2?l-2:l+1,a[l]!==e)return;if(l=r[l],-1===l){const t=n[(i[e]+1)%n.length];return void(t!==u&&(yield t))}}while(l!==o)}find(e,t,n=0){if((e=+e)!=e||(t=+t)!=t)return-1;const i=n;let r;for(;(r=this._step(n,e,t))>=0&&r!==n&&r!==i;)n=r;return r}_step(e,t,n){const{inedges:i,hull:r,_hullIndex:a,halfedges:s,triangles:o,points:l}=this;if(-1===i[e]||!l.length)return(e+1)%(l.length>>1);let c=e,d=u(t-l[2*e],2)+u(n-l[2*e+1],2);const h=i[e];let f=h;do{let i=o[f];const h=u(t-l[2*i],2)+u(n-l[2*i+1],2);if(h<d&&(d=h,c=i),f=f%3==2?f-2:f+1,o[f]!==e)break;if(f=s[f],-1===f){if(f=r[(a[e]+1)%r.length],f!==i&&u(t-l[2*f],2)+u(n-l[2*f+1],2)<d)return f;break}}while(f!==h);return c}render(e){const t=null==e?e=new r.default:void 0,{points:n,halfedges:i,triangles:a}=this;for(let t=0,r=i.length;t<r;++t){const r=i[t];if(r<t)continue;const s=2*a[t],o=2*a[r];e.moveTo(n[s],n[s+1]),e.lineTo(n[o],n[o+1])}return this.renderHull(e),t&&t.value()}renderPoints(e,t){void 0!==t||e&&"function"==typeof e.moveTo||(t=e,e=null),t=null==t?2:+t;const n=null==e?e=new r.default:void 0,{points:i}=this;for(let n=0,r=i.length;n<r;n+=2){const r=i[n],a=i[n+1];e.moveTo(r+t,a),e.arc(r,a,t,0,l)}return n&&n.value()}renderHull(e){const t=null==e?e=new r.default:void 0,{hull:n,points:i}=this,a=2*n[0],s=n.length;e.moveTo(i[a],i[a+1]);for(let t=1;t<s;++t){const r=2*n[t];e.lineTo(i[r],i[r+1])}return e.closePath(),t&&t.value()}hullPolygon(){const e=new a.default;return this.renderHull(e),e.value()}renderTriangle(e,t){const n=null==t?t=new r.default:void 0,{points:i,triangles:a}=this,s=2*a[e*=3],o=2*a[e+1],l=2*a[e+2];return t.moveTo(i[s],i[s+1]),t.lineTo(i[o],i[o+1]),t.lineTo(i[l],i[l+1]),t.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:e}=this;for(let t=0,n=e.length/3;t<n;++t)yield this.trianglePolygon(t)}trianglePolygon(e){const t=new a.default;return this.renderTriangle(e,t),t.value()}}n.default=f},{"./path.js":401,"./polygon.js":402,"./voronoi.js":403,delaunator:871}],400:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Delaunay",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"Voronoi",{enumerable:!0,get:function(){return r.default}});var i=a(e("./delaunay.js")),r=a(e("./voronoi.js"));function a(e){return e&&e.__esModule?e:{default:e}}},{"./delaunay.js":399,"./voronoi.js":403}],401:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;const i=1e-6;n.default=class{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,t){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,t){this._+=`L${this._x1=+e},${this._y1=+t}`}arc(e,t,n){const r=(e=+e)+(n=+n),a=t=+t;if(n<0)throw new Error("negative radius");null===this._x1?this._+=`M${r},${a}`:(Math.abs(this._x1-r)>i||Math.abs(this._y1-a)>i)&&(this._+="L"+r+","+a),n&&(this._+=`A${n},${n},0,1,1,${e-n},${t}A${n},${n},0,1,1,${this._x1=r},${this._y1=a}`)}rect(e,t,n,i){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${+n}v${+i}h${-n}Z`}value(){return this._||null}}},{}],402:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default=class{constructor(){this._=[]}moveTo(e,t){this._.push([e,t])}closePath(){this._.push(this._[0].slice())}lineTo(e,t){this._.push([e,t])}value(){return this._.length?this._:null}}},{}],403:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=a(e("./path.js")),r=a(e("./polygon.js"));function a(e){return e&&e.__esModule?e:{default:e}}n.default=class{constructor(e,[t,n,i,r]=[0,0,960,500]){if(!((i=+i)>=(t=+t)&&(r=+r)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(2*e.points.length),this.vectors=new Float64Array(2*e.points.length),this.xmax=i,this.xmin=t,this.ymax=r,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:t,triangles:n},vectors:i}=this,r=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let t,i,a=0,s=0,o=n.length;a<o;a+=3,s+=2){const o=2*n[a],l=2*n[a+1],u=2*n[a+2],c=e[o],d=e[o+1],h=e[l],f=e[l+1],p=e[u],m=e[u+1],v=h-c,y=f-d,g=p-c,_=m-d,b=2*(v*_-y*g);if(Math.abs(b)<1e-9){let r=1e9;const a=2*n[0];r*=Math.sign((e[a]-c)*_-(e[a+1]-d)*g),t=(c+p)/2-r*_,i=(d+m)/2+r*g}else{const e=1/b,n=v*v+y*y,r=g*g+_*_;t=c+(_*n-y*r)*e,i=d+(v*r-g*n)*e}r[s]=t,r[s+1]=i}let a,s,o,l=t[t.length-1],u=4*l,c=e[2*l],d=e[2*l+1];i.fill(0);for(let n=0;n<t.length;++n)l=t[n],a=u,s=c,o=d,u=4*l,c=e[2*l],d=e[2*l+1],i[a+2]=i[u]=o-d,i[a+3]=i[u+1]=c-s}render(e){const t=null==e?e=new i.default:void 0,{delaunay:{halfedges:n,inedges:r,hull:a},circumcenters:s,vectors:o}=this;if(a.length<=1)return null;for(let t=0,i=n.length;t<i;++t){const i=n[t];if(i<t)continue;const r=2*Math.floor(t/3),a=2*Math.floor(i/3),o=s[r],l=s[r+1],u=s[a],c=s[a+1];this._renderSegment(o,l,u,c,e)}let l,u=a[a.length-1];for(let t=0;t<a.length;++t){l=u,u=a[t];const n=2*Math.floor(r[u]/3),i=s[n],c=s[n+1],d=4*l,h=this._project(i,c,o[d+2],o[d+3]);h&&this._renderSegment(i,c,h[0],h[1],e)}return t&&t.value()}renderBounds(e){const t=null==e?e=new i.default:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}renderCell(e,t){const n=null==t?t=new i.default:void 0,r=this._clip(e);if(null===r||!r.length)return;t.moveTo(r[0],r[1]);let a=r.length;for(;r[0]===r[a-2]&&r[1]===r[a-1]&&a>1;)a-=2;for(let e=2;e<a;e+=2)r[e]===r[e-2]&&r[e+1]===r[e-1]||t.lineTo(r[e],r[e+1]);return t.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let t=0,n=e.length/2;t<n;++t){const e=this.cellPolygon(t);e&&(e.index=t,yield e)}}cellPolygon(e){const t=new r.default;return this.renderCell(e,t),t.value()}_renderSegment(e,t,n,i,r){let a;const s=this._regioncode(e,t),o=this._regioncode(n,i);0===s&&0===o?(r.moveTo(e,t),r.lineTo(n,i)):(a=this._clipSegment(e,t,n,i,s,o))&&(r.moveTo(a[0],a[1]),r.lineTo(a[2],a[3]))}contains(e,t,n){return(t=+t)==t&&(n=+n)==n&&this.delaunay._step(e,t,n)===e}*neighbors(e){const t=this._clip(e);if(t)for(const n of this.delaunay.neighbors(e)){const e=this._clip(n);if(e)e:for(let i=0,r=t.length;i<r;i+=2)for(let a=0,s=e.length;a<s;a+=2)if(t[i]==e[a]&&t[i+1]==e[a+1]&&t[(i+2)%r]==e[(a+s-2)%s]&&t[(i+3)%r]==e[(a+s-1)%s]){yield n;break e}}}_cell(e){const{circumcenters:t,delaunay:{inedges:n,halfedges:i,triangles:r}}=this,a=n[e];if(-1===a)return null;const s=[];let o=a;do{const n=Math.floor(o/3);if(s.push(t[2*n],t[2*n+1]),o=o%3==2?o-2:o+1,r[o]!==e)break;o=i[o]}while(o!==a&&-1!==o);return s}_clip(e){if(0===e&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const t=this._cell(e);if(null===t)return null;const{vectors:n}=this,i=4*e;return n[i]||n[i+1]?this._clipInfinite(e,t,n[i],n[i+1],n[i+2],n[i+3]):this._clipFinite(e,t)}_clipFinite(e,t){const n=t.length;let i,r,a,s,o=null,l=t[n-2],u=t[n-1],c=this._regioncode(l,u),d=0;for(let h=0;h<n;h+=2)if(i=l,r=u,l=t[h],u=t[h+1],a=c,c=this._regioncode(l,u),0===a&&0===c)s=d,d=0,o?o.push(l,u):o=[l,u];else{let t,n,h,f,p;if(0===a){if(null===(t=this._clipSegment(i,r,l,u,a,c)))continue;[n,h,f,p]=t}else{if(null===(t=this._clipSegment(l,u,i,r,c,a)))continue;[f,p,n,h]=t,s=d,d=this._edgecode(n,h),s&&d&&this._edge(e,s,d,o,o.length),o?o.push(n,h):o=[n,h]}s=d,d=this._edgecode(f,p),s&&d&&this._edge(e,s,d,o,o.length),o?o.push(f,p):o=[f,p]}if(o)s=d,d=this._edgecode(o[0],o[1]),s&&d&&this._edge(e,s,d,o,o.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return o}_clipSegment(e,t,n,i,r,a){for(;;){if(0===r&&0===a)return[e,t,n,i];if(r&a)return null;let s,o,l=r||a;8&l?(s=e+(n-e)*(this.ymax-t)/(i-t),o=this.ymax):4&l?(s=e+(n-e)*(this.ymin-t)/(i-t),o=this.ymin):2&l?(o=t+(i-t)*(this.xmax-e)/(n-e),s=this.xmax):(o=t+(i-t)*(this.xmin-e)/(n-e),s=this.xmin),r?(e=s,t=o,r=this._regioncode(e,t)):(n=s,i=o,a=this._regioncode(n,i))}}_clipInfinite(e,t,n,i,r,a){let s,o=Array.from(t);if((s=this._project(o[0],o[1],n,i))&&o.unshift(s[0],s[1]),(s=this._project(o[o.length-2],o[o.length-1],r,a))&&o.push(s[0],s[1]),o=this._clipFinite(e,o))for(let t,n=0,i=o.length,r=this._edgecode(o[i-2],o[i-1]);n<i;n+=2)t=r,r=this._edgecode(o[n],o[n+1]),t&&r&&(n=this._edge(e,t,r,o,n),i=o.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(o=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return o}_edge(e,t,n,i,r){for(;t!==n;){let n,a;switch(t){case 5:t=4;continue;case 4:t=6,n=this.xmax,a=this.ymin;break;case 6:t=2;continue;case 2:t=10,n=this.xmax,a=this.ymax;break;case 10:t=8;continue;case 8:t=9,n=this.xmin,a=this.ymax;break;case 9:t=1;continue;case 1:t=5,n=this.xmin,a=this.ymin}i[r]===n&&i[r+1]===a||!this.contains(e,n,a)||(i.splice(r,0,n,a),r+=2)}if(i.length>4)for(let e=0;e<i.length;e+=2){const t=(e+2)%i.length,n=(e+4)%i.length;(i[e]===i[t]&&i[t]===i[n]||i[e+1]===i[t+1]&&i[t+1]===i[n+1])&&(i.splice(t,2),e-=2)}return r}_project(e,t,n,i){let r,a,s,o=1/0;if(i<0){if(t<=this.ymin)return null;(r=(this.ymin-t)/i)<o&&(s=this.ymin,a=e+(o=r)*n)}else if(i>0){if(t>=this.ymax)return null;(r=(this.ymax-t)/i)<o&&(s=this.ymax,a=e+(o=r)*n)}if(n>0){if(e>=this.xmax)return null;(r=(this.xmax-e)/n)<o&&(a=this.xmax,s=t+(o=r)*i)}else if(n<0){if(e<=this.xmin)return null;(r=(this.xmin-e)/n)<o&&(a=this.xmin,s=t+(o=r)*i)}return[a,s]}_edgecode(e,t){return(e===this.xmin?1:e===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}_regioncode(e,t){return(e<this.xmin?1:e>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}}},{"./path.js":401,"./polygon.js":402}],404:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i={value:()=>{}};function r(){for(var e,t=0,n=arguments.length,i={};t<n;++t){if(!(e=arguments[t]+"")||e in i||/[\s.]/.test(e))throw new Error("illegal type: "+e);i[e]=[]}return new a(i)}function a(e){this._=e}function s(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",i=e.indexOf(".");if(i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function o(e,t){for(var n,i=0,r=e.length;i<r;++i)if((n=e[i]).name===t)return n.value}function l(e,t,n){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=i,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}a.prototype=r.prototype={constructor:a,on:function(e,t){var n,i=this._,r=s(e+"",i),a=-1,u=r.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++a<u;)if(n=(e=r[a]).type)i[n]=l(i[n],e.name,t);else if(null==t)for(n in i)i[n]=l(i[n],e.name,null);return this}for(;++a<u;)if((n=(e=r[a]).type)&&(n=o(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new a(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),a=0;a<n;++a)r[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=0,n=(i=this._[e]).length;a<n;++a)i[a].value.apply(t,r)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],r=0,a=i.length;r<a;++r)i[r].value.apply(t,n)}};var u=r;n.default=u},{}],405:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"dispatch",{enumerable:!0,get:function(){return r.default}});var i,r=(i=e("./dispatch.js"))&&i.__esModule?i:{default:i}},{"./dispatch.js":404}],406:[function(e,t,n){arguments[4][374][0].apply(n,arguments)},{dup:374}],407:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e,t,n,u,c=h,d=f,v=p,y=m,g={},_=(0,i.dispatch)("start","drag","end"),b=0,j=0;function x(e){e.on("mousedown.drag",w).filter(y).on("touchstart.drag",P).on("touchmove.drag",M,s.nonpassive).on("touchend.drag touchcancel.drag",O).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function w(i,o){if(!u&&c.call(this,i,o)){var l=L(this,d.call(this,i,o),i,o,"mouse");l&&((0,r.select)(i.view).on("mousemove.drag",k,s.nonpassivecapture).on("mouseup.drag",S,s.nonpassivecapture),(0,a.default)(i.view),(0,s.nopropagation)(i),n=!1,e=i.clientX,t=i.clientY,l("start",i))}}function k(i){if((0,s.default)(i),!n){var r=i.clientX-e,a=i.clientY-t;n=r*r+a*a>j}g.mouse("drag",i)}function S(e){(0,r.select)(e.view).on("mousemove.drag mouseup.drag",null),(0,a.yesdrag)(e.view,n),(0,s.default)(e),g.mouse("end",e)}function P(e,t){if(c.call(this,e,t)){var n,i,r=e.changedTouches,a=d.call(this,e,t),o=r.length;for(n=0;n<o;++n)(i=L(this,a,e,t,r[n].identifier,r[n]))&&((0,s.nopropagation)(e),i("start",e,r[n]))}}function M(e){var t,n,i=e.changedTouches,r=i.length;for(t=0;t<r;++t)(n=g[i[t].identifier])&&((0,s.default)(e),n("drag",e,i[t]))}function O(e){var t,n,i=e.changedTouches,r=i.length;for(u&&clearTimeout(u),u=setTimeout((function(){u=null}),500),t=0;t<r;++t)(n=g[i[t].identifier])&&((0,s.nopropagation)(e),n("end",e,i[t]))}function L(e,t,n,i,a,s){var o,u,c,d=_.copy(),h=(0,r.pointer)(s||n,t);if(null!=(c=v.call(e,new l.default("beforestart",{sourceEvent:n,target:x,identifier:a,active:b,x:h[0],y:h[1],dx:0,dy:0,dispatch:d}),i)))return o=c.x-h[0]||0,u=c.y-h[1]||0,function n(s,f,p){var m,v=h;switch(s){case"start":g[a]=n,m=b++;break;case"end":delete g[a],--b;case"drag":h=(0,r.pointer)(p||f,t),m=b}d.call(s,e,new l.default(s,{sourceEvent:f,subject:c,target:x,identifier:a,active:m,x:h[0]+o,y:h[1]+u,dx:h[0]-v[0],dy:h[1]-v[1],dispatch:d}),i)}}return x.filter=function(e){return arguments.length?(c="function"==typeof e?e:(0,o.default)(!!e),x):c},x.container=function(e){return arguments.length?(d="function"==typeof e?e:(0,o.default)(e),x):d},x.subject=function(e){return arguments.length?(v="function"==typeof e?e:(0,o.default)(e),x):v},x.touchable=function(e){return arguments.length?(y="function"==typeof e?e:(0,o.default)(!!e),x):y},x.on=function(){var e=_.on.apply(_,arguments);return e===_?x:e},x.clickDistance=function(e){return arguments.length?(j=(e=+e)*e,x):Math.sqrt(j)},x};var i=e("d3-dispatch"),r=e("d3-selection"),a=d(e("./nodrag.js")),s=d(e("./noevent.js")),o=u(e("./constant.js")),l=u(e("./event.js"));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=r?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}function h(e){return!e.ctrlKey&&!e.button}function f(){return this.parentNode}function p(e,t){return null==t?{x:e.x,y:e.y}:t}function m(){return navigator.maxTouchPoints||"ontouchstart"in this}},{"./constant.js":406,"./event.js":408,"./nodrag.js":410,"./noevent.js":411,"d3-dispatch":405,"d3-selection":700}],408:[function(e,t,n){"use strict";function i(e,{sourceEvent:t,subject:n,target:i,identifier:r,active:a,x:s,y:o,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:o,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}Object.defineProperty(n,"__esModule",{value:!0}),n.default=i,i.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e}},{}],409:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"drag",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"dragDisable",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"dragEnable",{enumerable:!0,get:function(){return a.yesdrag}});var i,r=(i=e("./drag.js"))&&i.__esModule?i:{default:i},a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(e("./nodrag.js"));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}},{"./drag.js":407,"./nodrag.js":410}],410:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=e.document.documentElement,n=(0,i.select)(e).on("dragstart.drag",r.default,r.nonpassivecapture);"onselectstart"in t?n.on("selectstart.drag",r.default,r.nonpassivecapture):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")},n.yesdrag=function(e,t){var n=e.document.documentElement,a=(0,i.select)(e).on("dragstart.drag",null);t&&(a.on("click.drag",r.default,r.nonpassivecapture),setTimeout((function(){a.on("click.drag",null)}),0));"onselectstart"in n?a.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)};var i=e("d3-selection"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=e[s]}i.default=e,n&&n.set(e,i);return i}(e("./noevent.js"));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}},{"./noevent.js":411,"d3-selection":700}],411:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){e.preventDefault(),e.stopImmediatePropagation()},n.nonpassivecapture=n.nonpassive=void 0,n.nopropagation=function(e){e.stopImmediatePropagation()};n.nonpassive={passive:!1};n.nonpassivecapture={capture:!0,passive:!1}},{}],412:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){for(var t in e){var n,r,a=e[t].trim();if(a)if("true"===a)a=!0;else if("false"===a)a=!1;else if("NaN"===a)a=NaN;else if(isNaN(n=+a)){if(!(r=a.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;i&&r[4]&&!r[7]&&(a=a.replace(/-/g,"/").replace(/T/," ")),a=new Date(a)}else a=n;else a=null;e[t]=a}return e};const i=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours()},{}],413:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.csvParseRows=n.csvParse=n.csvFormatValue=n.csvFormatRows=n.csvFormatRow=n.csvFormatBody=n.csvFormat=void 0;var r=(0,((i=e("./dsv.js"))&&i.__esModule?i:{default:i}).default)(","),a=r.parse;n.csvParse=a;var s=r.parseRows;n.csvParseRows=s;var o=r.format;n.csvFormat=o;var l=r.formatBody;n.csvFormatBody=l;var u=r.formatRows;n.csvFormatRows=u;var c=r.formatRow;n.csvFormatRow=c;var d=r.formatValue;n.csvFormatValue=d},{"./dsv.js":414}],414:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function l(e,t){var a,s=[],o=e.length,l=0,u=0,c=o<=0,d=!1;function h(){if(c)return r;if(d)return d=!1,i;var t,a,s=l;if(34===e.charCodeAt(s)){for(;l++<o&&34!==e.charCodeAt(l)||34===e.charCodeAt(++l););return(t=l)>=o?c=!0:10===(a=e.charCodeAt(l++))?d=!0:13===a&&(d=!0,10===e.charCodeAt(l)&&++l),e.slice(s+1,t-1).replace(/""/g,'"')}for(;l<o;){if(10===(a=e.charCodeAt(t=l++)))d=!0;else if(13===a)d=!0,10===e.charCodeAt(l)&&++l;else if(a!==n)continue;return e.slice(s,t)}return c=!0,e.slice(s,o)}for(10===e.charCodeAt(o-1)&&--o,13===e.charCodeAt(o-1)&&--o;(a=h())!==r;){for(var f=[];a!==i&&a!==r;)f.push(a),a=h();t&&null==(f=t(f,u++))||s.push(f)}return s}function u(t,n){return t.map((function(t){return n.map((function(e){return d(t[e])})).join(e)}))}function c(t){return t.map(d).join(e)}function d(e){return null==e?"":e instanceof Date?(i=(n=e).getUTCHours(),r=n.getUTCMinutes(),a=n.getUTCSeconds(),s=n.getUTCMilliseconds(),isNaN(n)?"Invalid Date":((l=n.getUTCFullYear())<0?"-"+o(-l,6):l>9999?"+"+o(l,6):o(l,4))+"-"+o(n.getUTCMonth()+1,2)+"-"+o(n.getUTCDate(),2)+(s?"T"+o(i,2)+":"+o(r,2)+":"+o(a,2)+"."+o(s,3)+"Z":a?"T"+o(i,2)+":"+o(r,2)+":"+o(a,2)+"Z":r||i?"T"+o(i,2)+":"+o(r,2)+"Z":"")):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e;var n,i,r,a,s,l}return{parse:function(e,t){var n,i,r=l(e,(function(e,r){if(n)return n(e,r-1);i=e,n=t?function(e,t){var n=a(e);return function(i,r){return t(n(i),r,e)}}(e,t):a(e)}));return r.columns=i||[],r},parseRows:l,format:function(t,n){return null==n&&(n=s(t)),[n.map(d).join(e)].concat(u(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=s(e)),u(e,t).join("\n")},formatRows:function(e){return e.map(c).join("\n")},formatRow:c,formatValue:d}};var i={},r={};function a(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function s(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var i in e)i in t||n.push(t[i]=i)})),n}function o(e,t){var n=e+"",i=n.length;return i<t?new Array(t-i+1).join(0)+n:n}},{}],415:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"autoType",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(n,"csvFormat",{enumerable:!0,get:function(){return r.csvFormat}}),Object.defineProperty(n,"csvFormatBody",{enumerable:!0,get:function(){return r.csvFormatBody}}),Object.defineProperty(n,"csvFormatRow",{enumerable:!0,get:function(){return r.csvFormatRow}}),Object.defineProperty(n,"csvFormatRows",{enumerable:!0,get:function(){return r.csvFormatRows}}),Object.defineProperty(n,"csvFormatValue",{enumerable:!0,get:function(){return r.csvFormatValue}}),Object.defineProperty(n,"csvParse",{enumerable:!0,get:function(){return r.csvParse}}),Object.defineProperty(n,"csvParseRows",{enumerable:!0,get:function(){return r.csvParseRows}}),Object.defineProperty(n,"dsvFormat",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"tsvFormat",{enumerable:!0,get:function(){return a.tsvFormat}}),Object.defineProperty(n,"tsvFormatBody",{enumerable:!0,get:function(){return a.tsvFormatBody}}),Object.defineProperty(n,"tsvFormatRow",{enumerable:!0,get:function(){return a.tsvFormatRow}}),Object.defineProperty(n,"tsvFormatRows",{enumerable:!0,get:function(){return a.tsvFormatRows}}),Object.defineProperty(n,"tsvFormatValue",{enumerable:!0,get:function(){return a.tsvFormatValue}}),Object.defineProperty(n,"tsvParse",{enumerable:!0,get:function(){return a.tsvParse}}),Object.defineProperty(n,"tsvParseRows",{enumerable:!0,get:function(){return a.tsvParseRows}});var i=o(e("./dsv.js")),r=e("./csv.js"),a=e("./tsv.js"),s=o(e("./autoType.js"));function o(e){return e&&e.__esModule?e:{default:e}}},{"./autoType.js":412,"./csv.js":413,"./dsv.js":414,"./tsv.js":416}],416:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.tsvParseRows=n.tsvParse=n.tsvFormatValue=n.tsvFormatRows=n.tsvFormatRow=n.tsvFormatBody=n.tsvFormat=void 0;var r=(0,((i=e("./dsv.js"))&&i.__esModule?i:{default:i}).default)("\t"),a=r.parse;n.tsvParse=a;var s=r.parseRows;n.tsvParseRows=s;var o=r.format;n.tsvFormat=o;var l=r.formatBody;n.tsvFormatBody=l;var u=r.formatRows;n.tsvFormatRows=u;var c=r.formatRow;n.tsvFormatRow=c;var d=r.formatValue;n.tsvFormatValue=d},{"./dsv.js":414}],417:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.backOut=n.backInOut=n.backIn=void 0;var i=1.70158,r=function e(t){function n(e){return(e=+e)*e*(t*(e-1)+e)}return t=+t,n.overshoot=e,n}(i);n.backIn=r;var a=function e(t){function n(e){return--e*e*((e+1)*t+e)+1}return t=+t,n.overshoot=e,n}(i);n.backOut=a;var s=function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}(i);n.backInOut=s},{}],418:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.bounceIn=function(e){return 1-a(1-e)},n.bounceInOut=function(e){return((e*=2)<=1?1-a(1-e):a(e-1)+1)/2},n.bounceOut=a;var i=4/11,r=7.5625;function a(e){return(e=+e)<i?r*e*e:e<.7272727272727273?r*(e-=.5454545454545454)*e+.75:e<.9090909090909091?r*(e-=.8181818181818182)*e+.9375:r*(e-=.9545454545454546)*e+.984375}},{}],419:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.circleIn=function(e){return 1-Math.sqrt(1-e*e)},n.circleInOut=function(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2},n.circleOut=function(e){return Math.sqrt(1- --e*e)}},{}],420:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.cubicIn=function(e){return e*e*e},n.cubicInOut=function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2},n.cubicOut=function(e){return--e*e*e+1}},{}],421:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.elasticOut=n.elasticInOut=n.elasticIn=void 0;var i=e("./math.js"),r=2*Math.PI,a=function e(t,n){var a=Math.asin(1/(t=Math.max(1,t)))*(n/=r);function s(e){return t*(0,i.tpmt)(- --e)*Math.sin((a-e)/n)}return s.amplitude=function(t){return e(t,n*r)},s.period=function(n){return e(t,n)},s}(1,.3);n.elasticIn=a;var s=function e(t,n){var a=Math.asin(1/(t=Math.max(1,t)))*(n/=r);function s(e){return 1-t*(0,i.tpmt)(e=+e)*Math.sin((e+a)/n)}return s.amplitude=function(t){return e(t,n*r)},s.period=function(n){return e(t,n)},s}(1,.3);n.elasticOut=s;var o=function e(t,n){var a=Math.asin(1/(t=Math.max(1,t)))*(n/=r);function s(e){return((e=2*e-1)<0?t*(0,i.tpmt)(-e)*Math.sin((a-e)/n):2-t*(0,i.tpmt)(e)*Math.sin((a+e)/n))/2}return s.amplitude=function(t){return e(t,n*r)},s.period=function(n){return e(t,n)},s}(1,.3);n.elasticInOut=o},{"./math.js":425}],422:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.expIn=function(e){return(0,i.tpmt)(1-+e)},n.expInOut=function(e){return((e*=2)<=1?(0,i.tpmt)(1-e):2-(0,i.tpmt)(e-1))/2},n.expOut=function(e){return 1-(0,i.tpmt)(e)};var i=e("./math.js")},{"./math.js":425}],423:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"easeBack",{enumerable:!0,get:function(){return d.backInOut}}),Object.defineProperty(n,"easeBackIn",{enumerable:!0,get:function(){return d.backIn}}),Object.defineProperty(n,"easeBackInOut",{enumerable:!0,get:function(){return d.backInOut}}),Object.defineProperty(n,"easeBackOut",{enumerable:!0,get:function(){return d.backOut}}),Object.defineProperty(n,"easeBounce",{enumerable:!0,get:function(){return c.bounceOut}}),Object.defineProperty(n,"easeBounceIn",{enumerable:!0,get:function(){return c.bounceIn}}),Object.defineProperty(n,"easeBounceInOut",{enumerable:!0,get:function(){return c.bounceInOut}}),Object.defineProperty(n,"easeBounceOut",{enumerable:!0,get:function(){return c.bounceOut}}),Object.defineProperty(n,"easeCircle",{enumerable:!0,get:function(){return u.circleInOut}}),Object.defineProperty(n,"easeCircleIn",{enumerable:!0,get:function(){return u.circleIn}}),Object.defineProperty(n,"easeCircleInOut",{enumerable:!0,get:function(){return u.circleInOut}}),Object.defineProperty(n,"easeCircleOut",{enumerable:!0,get:function(){return u.circleOut}}),Object.defineProperty(n,"easeCubic",{enumerable:!0,get:function(){return a.cubicInOut}}),Object.defineProperty(n,"easeCubicIn",{enumerable:!0,get:function(){return a.cubicIn}}),Object.defineProperty(n,"easeCubicInOut",{enumerable:!0,get:function(){return a.cubicInOut}}),Object.defineProperty(n,"easeCubicOut",{enumerable:!0,get:function(){return a.cubicOut}}),Object.defineProperty(n,"easeElastic",{enumerable:!0,get:function(){return h.elasticOut}}),Object.defineProperty(n,"easeElasticIn",{enumerable:!0,get:function(){return h.elasticIn}}),Object.defineProperty(n,"easeElasticInOut",{enumerable:!0,get:function(){return h.elasticInOut}}),Object.defineProperty(n,"easeElasticOut",{enumerable:!0,get:function(){return h.elasticOut}}),Object.defineProperty(n,"easeExp",{enumerable:!0,get:function(){return l.expInOut}}),Object.defineProperty(n,"easeExpIn",{enumerable:!0,get:function(){return l.expIn}}),Object.defineProperty(n,"easeExpInOut",{enumerable:!0,get:function(){return l.expInOut}}),Object.defineProperty(n,"easeExpOut",{enumerable:!0,get:function(){return l.expOut}}),Object.defineProperty(n,"easeLinear",{enumerable:!0,get:function(){return i.linear}}),Object.defineProperty(n,"easePoly",{enumerable:!0,get:function(){return s.polyInOut}}),Object.defineProperty(n,"easePolyIn",{enumerable:!0,get:function(){return s.polyIn}}),Object.defineProperty(n,"easePolyInOut",{enumerable:!0,get:function(){return s.polyInOut}}),Object.defineProperty(n,"easePolyOut",{enumerable:!0,get:function(){return s.polyOut}}),Object.defineProperty(n,"easeQuad",{enumerable:!0,get:function(){return r.quadInOut}}),Object.defineProperty(n,"easeQuadIn",{enumerable:!0,get:function(){return r.quadIn}}),Object.defineProperty(n,"easeQuadInOut",{enumerable:!0,get:function(){return r.quadInOut}}),Object.defineProperty(n,"easeQuadOut",{enumerable:!0,get:function(){return r.quadOut}}),Object.defineProperty(n,"easeSin",{enumerable:!0,get:function(){return o.sinInOut}}),Object.defineProperty(n,"easeSinIn",{enumerable:!0,get:function(){return o.sinIn}}),Object.defineProperty(n,"easeSinInOut",{enumerable:!0,get:function(){return o.sinInOut}}),Object.defineProperty(n,"easeSinOut",{enumerable:!0,get:function(){return o.sinOut}});var i=e("./linear.js"),r=e("./quad.js"),a=e("./cubic.js"),s=e("./poly.js"),o=e("./sin.js"),l=e("./exp.js"),u=e("./circle.js"),c=e("./bounce.js"),d=e("./back.js"),h=e("./elastic.js")},{"./back.js":417,"./bounce.js":418,"./circle.js":419,"./cubic.js":420,"./elastic.js":421,"./exp.js":422,"./linear.js":424,"./poly.js":426,"./quad.js":427,"./sin.js":428}],424:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.linear=void 0;n.linear=e=>+e},{}],425:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.tpmt=function(e){return 1.0009775171065494*(Math.pow(2,-10*e)-.0009765625)}},{}],426:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.polyOut=n.polyInOut=n.polyIn=void 0;var i=function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n}(3);n.polyIn=i;var r=function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(3);n.polyOut=r;var a=function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(3);n.polyInOut=a},{}],427:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.quadIn=function(e){return e*e},n.quadInOut=function(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2},n.quadOut=function(e){return e*(2-e)}},{}],428:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.sinIn=function(e){return 1==+e?1:1-Math.cos(e*r)},n.sinInOut=function(e){return(1-Math.cos(i*e))/2},n.sinOut=function(e){return Math.sin(e*r)};var i=Math.PI,r=i/2},{}],429:[function(e,t,n){"use strict";function i(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.blob()}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){return fetch(e,t).then(i)}},{}],430:[function(e,t,n){"use strict";function i(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.arrayBuffer()}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){return fetch(e,t).then(i)}},{}],431:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.csv=void 0,n.default=function(e,t,n,i){3===arguments.length&&"function"==typeof n&&(i=n,n=void 0);var s=(0,r.dsvFormat)(e);return(0,a.default)(t,n).then((function(e){return s.parse(e,i)}))},n.tsv=void 0;var i,r=e("d3-dsv"),a=(i=e("./text.js"))&&i.__esModule?i:{default:i};function s(e){return function(t,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=void 0),(0,a.default)(t,n).then((function(t){return e(t,i)}))}}var o=s(r.csvParse);n.csv=o;var l=s(r.tsvParse);n.tsv=l},{"./text.js":435,"d3-dsv":415}],432:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){return new Promise((function(n,i){var r=new Image;for(var a in t)r[a]=t[a];r.onerror=i,r.onload=function(){n(r)},r.src=e}))}},{}],433:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"blob",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"buffer",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"csv",{enumerable:!0,get:function(){return a.csv}}),Object.defineProperty(n,"dsv",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"html",{enumerable:!0,get:function(){return u.html}}),Object.defineProperty(n,"image",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(n,"json",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"svg",{enumerable:!0,get:function(){return u.svg}}),Object.defineProperty(n,"text",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(n,"tsv",{enumerable:!0,get:function(){return a.tsv}}),Object.defineProperty(n,"xml",{enumerable:!0,get:function(){return u.default}});var i=h(e("./blob.js")),r=h(e("./buffer.js")),a=d(e("./dsv.js")),s=h(e("./image.js")),o=h(e("./json.js")),l=h(e("./text.js")),u=d(e("./xml.js"));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=r?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}function h(e){return e&&e.__esModule?e:{default:e}}},{"./blob.js":429,"./buffer.js":430,"./dsv.js":431,"./image.js":432,"./json.js":434,"./text.js":435,"./xml.js":436}],434:[function(e,t,n){"use strict";function i(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(204!==e.status&&205!==e.status)return e.json()}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){return fetch(e,t).then(i)}},{}],435:[function(e,t,n){"use strict";function i(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){return fetch(e,t).then(i)}},{}],436:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.svg=n.html=n.default=void 0;var i,r=(i=e("./text.js"))&&i.__esModule?i:{default:i};function a(e){return(t,n)=>(0,r.default)(t,n).then((t=>(new DOMParser).parseFromString(t,e)))}var s=a("application/xml");n.default=s;var o=a("text/html");n.html=o;var l=a("image/svg+xml");n.svg=l},{"./text.js":435}],437:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){var n,i=1;null==e&&(e=0);null==t&&(t=0);function r(){var r,a,s=n.length,o=0,l=0;for(r=0;r<s;++r)o+=(a=n[r]).x,l+=a.y;for(o=(o/s-e)*i,l=(l/s-t)*i,r=0;r<s;++r)(a=n[r]).x-=o,a.y-=l}return r.initialize=function(e){n=e},r.x=function(t){return arguments.length?(e=+t,r):e},r.y=function(e){return arguments.length?(t=+e,r):t},r.strength=function(e){return arguments.length?(i=+e,r):i},r}},{}],438:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t,n,s,u=1,c=1;"function"!=typeof e&&(e=(0,r.default)(null==e?1:+e));function d(){for(var e,r,d,f,p,m,v,y=t.length,g=0;g<c;++g)for(r=(0,i.quadtree)(t,o,l).visitAfter(h),e=0;e<y;++e)d=t[e],m=n[d.index],v=m*m,f=d.x+d.vx,p=d.y+d.vy,r.visit(_);function _(e,t,n,i,r){var o=e.data,l=e.r,c=m+l;if(!o)return t>f+c||i<f-c||n>p+c||r<p-c;if(o.index>d.index){var h=f-o.x-o.vx,y=p-o.y-o.vy,g=h*h+y*y;g<c*c&&(0===h&&(g+=(h=(0,a.default)(s))*h),0===y&&(g+=(y=(0,a.default)(s))*y),g=(c-(g=Math.sqrt(g)))/g*u,d.vx+=(h*=g)*(c=(l*=l)/(v+l)),d.vy+=(y*=g)*c,o.vx-=h*(c=1-c),o.vy-=y*c)}}}function h(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function f(){if(t){var i,r,a=t.length;for(n=new Array(a),i=0;i<a;++i)r=t[i],n[r.index]=+e(r,i,t)}}return d.initialize=function(e,n){t=e,s=n,f()},d.iterations=function(e){return arguments.length?(c=+e,d):c},d.strength=function(e){return arguments.length?(u=+e,d):u},d.radius=function(t){return arguments.length?(e="function"==typeof t?t:(0,r.default)(+t),f(),d):e},d};var i=e("d3-quadtree"),r=s(e("./constant.js")),a=s(e("./jiggle.js"));function s(e){return e&&e.__esModule?e:{default:e}}function o(e){return e.x+e.vx}function l(e){return e.y+e.vy}},{"./constant.js":439,"./jiggle.js":441,"d3-quadtree":597}],439:[function(e,t,n){arguments[4][380][0].apply(n,arguments)},{dup:380}],440:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"forceCenter",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"forceCollide",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"forceLink",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"forceManyBody",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(n,"forceRadial",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"forceSimulation",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(n,"forceX",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(n,"forceY",{enumerable:!0,get:function(){return c.default}});var i=d(e("./center.js")),r=d(e("./collide.js")),a=d(e("./link.js")),s=d(e("./manyBody.js")),o=d(e("./radial.js")),l=d(e("./simulation.js")),u=d(e("./x.js")),c=d(e("./y.js"));function d(e){return e&&e.__esModule?e:{default:e}}},{"./center.js":437,"./collide.js":438,"./link.js":443,"./manyBody.js":444,"./radial.js":445,"./simulation.js":446,"./x.js":447,"./y.js":448}],441:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return 1e-6*(e()-.5)}},{}],442:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){let e=1;return()=>(e=(1664525*e+1013904223)%i)/i};const i=4294967296},{}],443:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t,n,a,l,u,c,d=s,h=function(e){return 1/Math.min(l[e.source.index],l[e.target.index])},f=(0,i.default)(30),p=1;null==e&&(e=[]);function m(i){for(var a=0,s=e.length;a<p;++a)for(var o,l,d,h,f,m,v,y=0;y<s;++y)l=(o=e[y]).source,h=(d=o.target).x+d.vx-l.x-l.vx||(0,r.default)(c),f=d.y+d.vy-l.y-l.vy||(0,r.default)(c),h*=m=((m=Math.sqrt(h*h+f*f))-n[y])/m*i*t[y],f*=m,d.vx-=h*(v=u[y]),d.vy-=f*v,l.vx+=h*(v=1-v),l.vy+=f*v}function v(){if(a){var i,r,s=a.length,c=e.length,h=new Map(a.map(((e,t)=>[d(e,t,a),e])));for(i=0,l=new Array(s);i<c;++i)(r=e[i]).index=i,"object"!=typeof r.source&&(r.source=o(h,r.source)),"object"!=typeof r.target&&(r.target=o(h,r.target)),l[r.source.index]=(l[r.source.index]||0)+1,l[r.target.index]=(l[r.target.index]||0)+1;for(i=0,u=new Array(c);i<c;++i)r=e[i],u[i]=l[r.source.index]/(l[r.source.index]+l[r.target.index]);t=new Array(c),y(),n=new Array(c),g()}}function y(){if(a)for(var n=0,i=e.length;n<i;++n)t[n]=+h(e[n],n,e)}function g(){if(a)for(var t=0,i=e.length;t<i;++t)n[t]=+f(e[t],t,e)}return m.initialize=function(e,t){a=e,c=t,v()},m.links=function(t){return arguments.length?(e=t,v(),m):e},m.id=function(e){return arguments.length?(d=e,m):d},m.iterations=function(e){return arguments.length?(p=+e,m):p},m.strength=function(e){return arguments.length?(h="function"==typeof e?e:(0,i.default)(+e),y(),m):h},m.distance=function(e){return arguments.length?(f="function"==typeof e?e:(0,i.default)(+e),g(),m):f},m};var i=a(e("./constant.js")),r=a(e("./jiggle.js"));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){return e.index}function o(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}},{"./constant.js":439,"./jiggle.js":441}],444:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e,t,n,o,l,u=(0,r.default)(-30),c=1,d=1/0,h=.81;function f(n){var r,a=e.length,l=(0,i.quadtree)(e,s.x,s.y).visitAfter(m);for(o=n,r=0;r<a;++r)t=e[r],l.visit(v)}function p(){if(e){var t,n,i=e.length;for(l=new Array(i),t=0;t<i;++t)n=e[t],l[n.index]=+u(n,t,e)}}function m(e){var t,n,i,r,a,s=0,o=0;if(e.length){for(i=r=a=0;a<4;++a)(t=e[a])&&(n=Math.abs(t.value))&&(s+=t.value,o+=n,i+=n*t.x,r+=n*t.y);e.x=i/o,e.y=r/o}else{(t=e).x=t.data.x,t.y=t.data.y;do{s+=l[t.data.index]}while(t=t.next)}e.value=s}function v(e,i,r,s){if(!e.value)return!0;var u=e.x-t.x,f=e.y-t.y,p=s-i,m=u*u+f*f;if(p*p/h<m)return m<d&&(0===u&&(m+=(u=(0,a.default)(n))*u),0===f&&(m+=(f=(0,a.default)(n))*f),m<c&&(m=Math.sqrt(c*m)),t.vx+=u*e.value*o/m,t.vy+=f*e.value*o/m),!0;if(!(e.length||m>=d)){(e.data!==t||e.next)&&(0===u&&(m+=(u=(0,a.default)(n))*u),0===f&&(m+=(f=(0,a.default)(n))*f),m<c&&(m=Math.sqrt(c*m)));do{e.data!==t&&(p=l[e.data.index]*o/m,t.vx+=u*p,t.vy+=f*p)}while(e=e.next)}}return f.initialize=function(t,i){e=t,n=i,p()},f.strength=function(e){return arguments.length?(u="function"==typeof e?e:(0,r.default)(+e),p(),f):u},f.distanceMin=function(e){return arguments.length?(c=e*e,f):Math.sqrt(c)},f.distanceMax=function(e){return arguments.length?(d=e*e,f):Math.sqrt(d)},f.theta=function(e){return arguments.length?(h=e*e,f):Math.sqrt(h)},f};var i=e("d3-quadtree"),r=o(e("./constant.js")),a=o(e("./jiggle.js")),s=e("./simulation.js");function o(e){return e&&e.__esModule?e:{default:e}}},{"./constant.js":439,"./jiggle.js":441,"./simulation.js":446,"d3-quadtree":597}],445:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n){var i,a,s,o=(0,r.default)(.1);"function"!=typeof e&&(e=(0,r.default)(+e));null==t&&(t=0);null==n&&(n=0);function l(e){for(var r=0,o=i.length;r<o;++r){var l=i[r],u=l.x-t||1e-6,c=l.y-n||1e-6,d=Math.sqrt(u*u+c*c),h=(s[r]-d)*a[r]*e/d;l.vx+=u*h,l.vy+=c*h}}function u(){if(i){var t,n=i.length;for(a=new Array(n),s=new Array(n),t=0;t<n;++t)s[t]=+e(i[t],t,i),a[t]=isNaN(s[t])?0:+o(i[t],t,i)}}return l.initialize=function(e){i=e,u()},l.strength=function(e){return arguments.length?(o="function"==typeof e?e:(0,r.default)(+e),u(),l):o},l.radius=function(t){return arguments.length?(e="function"==typeof t?t:(0,r.default)(+t),u(),l):e},l.x=function(e){return arguments.length?(t=+e,l):t},l.y=function(e){return arguments.length?(n=+e,l):n},l};var i,r=(i=e("./constant.js"))&&i.__esModule?i:{default:i}},{"./constant.js":439}],446:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t,n=1,i=.001,l=1-Math.pow(i,1/300),u=0,c=.6,d=new Map,h=(0,a.timer)(m),f=(0,r.dispatch)("tick","end"),p=(0,s.default)();null==e&&(e=[]);function m(){v(),f.call("tick",t),n<i&&(h.stop(),f.call("end",t))}function v(i){var r,a,s=e.length;void 0===i&&(i=1);for(var o=0;o<i;++o)for(n+=(u-n)*l,d.forEach((function(e){e(n)})),r=0;r<s;++r)null==(a=e[r]).fx?a.x+=a.vx*=c:(a.x=a.fx,a.vx=0),null==a.fy?a.y+=a.vy*=c:(a.y=a.fy,a.vy=0);return t}function y(){for(var t,n=0,i=e.length;n<i;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var r=10*Math.sqrt(.5+n),a=n*o;t.x=r*Math.cos(a),t.y=r*Math.sin(a)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function g(t){return t.initialize&&t.initialize(e,p),t}return y(),t={tick:v,restart:function(){return h.restart(m),t},stop:function(){return h.stop(),t},nodes:function(n){return arguments.length?(e=n,y(),d.forEach(g),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(i=+e,t):i},alphaDecay:function(e){return arguments.length?(l=+e,t):+l},alphaTarget:function(e){return arguments.length?(u=+e,t):u},velocityDecay:function(e){return arguments.length?(c=1-e,t):1-c},randomSource:function(e){return arguments.length?(p=e,d.forEach(g),t):p},force:function(e,n){return arguments.length>1?(null==n?d.delete(e):d.set(e,g(n)),t):d.get(e)},find:function(t,n,i){var r,a,s,o,l,u=0,c=e.length;for(null==i?i=1/0:i*=i,u=0;u<c;++u)(s=(r=t-(o=e[u]).x)*r+(a=n-o.y)*a)<i&&(l=o,i=s);return l},on:function(e,n){return arguments.length>1?(f.on(e,n),t):f.on(e)}}},n.x=function(e){return e.x},n.y=function(e){return e.y};var i,r=e("d3-dispatch"),a=e("d3-timer"),s=(i=e("./lcg.js"))&&i.__esModule?i:{default:i};var o=Math.PI*(3-Math.sqrt(5))},{"./lcg.js":442,"d3-dispatch":405,"d3-timer":831}],447:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t,n,i,a=(0,r.default)(.1);"function"!=typeof e&&(e=(0,r.default)(null==e?0:+e));function s(e){for(var r,a=0,s=t.length;a<s;++a)(r=t[a]).vx+=(i[a]-r.x)*n[a]*e}function o(){if(t){var r,s=t.length;for(n=new Array(s),i=new Array(s),r=0;r<s;++r)n[r]=isNaN(i[r]=+e(t[r],r,t))?0:+a(t[r],r,t)}}return s.initialize=function(e){t=e,o()},s.strength=function(e){return arguments.length?(a="function"==typeof e?e:(0,r.default)(+e),o(),s):a},s.x=function(t){return arguments.length?(e="function"==typeof t?t:(0,r.default)(+t),o(),s):e},s};var i,r=(i=e("./constant.js"))&&i.__esModule?i:{default:i}},{"./constant.js":439}],448:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t,n,i,a=(0,r.default)(.1);"function"!=typeof e&&(e=(0,r.default)(null==e?0:+e));function s(e){for(var r,a=0,s=t.length;a<s;++a)(r=t[a]).vy+=(i[a]-r.y)*n[a]*e}function o(){if(t){var r,s=t.length;for(n=new Array(s),i=new Array(s),r=0;r<s;++r)n[r]=isNaN(i[r]=+e(t[r],r,t))?0:+a(t[r],r,t)}}return s.initialize=function(e){t=e,o()},s.strength=function(e){return arguments.length?(a="function"==typeof e?e:(0,r.default)(+e),o(),s):a},s.y=function(t){return arguments.length?(e="function"==typeof t?t:(0,r.default)(+t),o(),s):e},s};var i,r=(i=e("./constant.js"))&&i.__esModule?i:{default:i}},{"./constant.js":439}],449:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=l,n.formatPrefix=n.format=void 0;var i,r,a,s,o=(i=e("./locale.js"))&&i.__esModule?i:{default:i};function l(e){return r=(0,o.default)(e),n.format=a=r.format,n.formatPrefix=s=r.formatPrefix,r}n.format=a,n.formatPrefix=s,l({thousands:",",grouping:[3],currency:["$",""]})},{"./locale.js":461}],450:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return(e=(0,i.formatDecimalParts)(Math.abs(e)))?e[1]:NaN};var i=e("./formatDecimal.js")},{"./formatDecimal.js":451}],451:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},n.formatDecimalParts=function(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}},{}],452:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){return function(n,i){for(var r=n.length,a=[],s=0,o=e[0],l=0;r>0&&o>0&&(l+o+1>i&&(o=Math.max(1,i-l)),a.push(n.substring(r-=o,r+o)),!((l+=o+1)>i));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}},{}],453:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}},{}],454:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){var a=(0,r.formatDecimalParts)(e,t);if(!a)return e+"";var s=a[0],o=a[1],l=o-(n.prefixExponent=i=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,u=s.length;return l===u?s:l>u?s+new Array(l-u+1).join("0"):l>0?s.slice(0,l)+"."+s.slice(l):"0."+new Array(1-l).join("0")+(0,r.formatDecimalParts)(e,Math.max(0,t+l-1))[0]},n.prefixExponent=void 0;var i,r=e("./formatDecimal.js");n.prefixExponent=i},{"./formatDecimal.js":451}],455:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){var n=(0,i.formatDecimalParts)(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")};var i=e("./formatDecimal.js")},{"./formatDecimal.js":451}],456:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.FormatSpecifier=a,n.default=r;var i=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function r(e){if(!(t=i.exec(e)))throw new Error("invalid format: "+e);var t;return new a({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function a(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}r.prototype=a.prototype,a.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type}},{}],457:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){e:for(var t,n=e.length,i=1,r=-1;i<n;++i)switch(e[i]){case".":r=t=i;break;case"0":0===r&&(r=i),t=i;break;default:if(!+e[i])break e;r>0&&(r=0)}return r>0?e.slice(0,r)+e.slice(t+1):e}},{}],458:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=s(e("./formatDecimal.js")),r=s(e("./formatPrefixAuto.js")),a=s(e("./formatRounded.js"));function s(e){return e&&e.__esModule?e:{default:e}}var o={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:i.default,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>(0,a.default)(100*e,t),r:a.default,s:r.default,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};n.default=o},{"./formatDecimal.js":451,"./formatPrefixAuto.js":454,"./formatRounded.js":455}],459:[function(e,t,n){arguments[4][371][0].apply(n,arguments)},{dup:371}],460:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"FormatSpecifier",{enumerable:!0,get:function(){return a.FormatSpecifier}}),Object.defineProperty(n,"format",{enumerable:!0,get:function(){return i.format}}),Object.defineProperty(n,"formatDefaultLocale",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"formatLocale",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"formatPrefix",{enumerable:!0,get:function(){return i.formatPrefix}}),Object.defineProperty(n,"formatSpecifier",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"precisionFixed",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(n,"precisionPrefix",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"precisionRound",{enumerable:!0,get:function(){return l.default}});var i=d(e("./defaultLocale.js")),r=u(e("./locale.js")),a=d(e("./formatSpecifier.js")),s=u(e("./precisionFixed.js")),o=u(e("./precisionPrefix.js")),l=u(e("./precisionRound.js"));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=r?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}},{"./defaultLocale.js":449,"./formatSpecifier.js":456,"./locale.js":461,"./precisionFixed.js":462,"./precisionPrefix.js":463,"./precisionRound.js":464}],461:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=void 0===e.grouping||void 0===e.thousands?c.default:(0,r.default)(h.call(e.grouping,Number),e.thousands+""),n=void 0===e.currency?"":e.currency[0]+"",d=void 0===e.currency?"":e.currency[1]+"",p=void 0===e.decimal?".":e.decimal+"",m=void 0===e.numerals?c.default:(0,a.default)(h.call(e.numerals,String)),v=void 0===e.percent?"%":e.percent+"",y=void 0===e.minus?"−":e.minus+"",g=void 0===e.nan?"NaN":e.nan+"";function _(e){var i=(e=(0,s.default)(e)).fill,r=e.align,a=e.sign,c=e.symbol,h=e.zero,_=e.width,b=e.comma,j=e.precision,x=e.trim,w=e.type;"n"===w?(b=!0,w="g"):l.default[w]||(void 0===j&&(j=12),x=!0,w="g"),(h||"0"===i&&"="===r)&&(h=!0,i="0",r="=");var k="$"===c?n:"#"===c&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",S="$"===c?d:/[%p]/.test(w)?v:"",P=l.default[w],M=/[defgprs%]/.test(w);function O(e){var n,s,l,c=k,d=S;if("c"===w)d=P(e)+d,e="";else{var v=(e=+e)<0||1/e<0;if(e=isNaN(e)?g:P(Math.abs(e),j),x&&(e=(0,o.default)(e)),v&&0==+e&&"+"!==a&&(v=!1),c=(v?"("===a?a:y:"-"===a||"("===a?"":a)+c,d=("s"===w?f[8+u.prefixExponent/3]:"")+d+(v&&"("===a?")":""),M)for(n=-1,s=e.length;++n<s;)if(48>(l=e.charCodeAt(n))||l>57){d=(46===l?p+e.slice(n+1):e.slice(n))+d,e=e.slice(0,n);break}}b&&!h&&(e=t(e,1/0));var O=c.length+e.length+d.length,L=O<_?new Array(_-O+1).join(i):"";switch(b&&h&&(e=t(L+e,L.length?_-d.length:1/0),L=""),r){case"<":e=c+e+d+L;break;case"=":e=c+L+e+d;break;case"^":e=L.slice(0,O=L.length>>1)+c+e+d+L.slice(O);break;default:e=L+c+e+d}return m(e)}return j=void 0===j?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j)),O.toString=function(){return e+""},O}return{format:_,formatPrefix:function(e,t){var n=_(((e=(0,s.default)(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor((0,i.default)(t)/3))),a=Math.pow(10,-r),o=f[8+r/3];return function(e){return n(a*e)+o}}}};var i=d(e("./exponent.js")),r=d(e("./formatGroup.js")),a=d(e("./formatNumerals.js")),s=d(e("./formatSpecifier.js")),o=d(e("./formatTrim.js")),l=d(e("./formatTypes.js")),u=e("./formatPrefixAuto.js"),c=d(e("./identity.js"));function d(e){return e&&e.__esModule?e:{default:e}}var h=Array.prototype.map,f=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"]},{"./exponent.js":450,"./formatGroup.js":452,"./formatNumerals.js":453,"./formatPrefixAuto.js":454,"./formatSpecifier.js":456,"./formatTrim.js":457,"./formatTypes.js":458,"./identity.js":459}],462:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return Math.max(0,-(0,r.default)(Math.abs(e)))};var i,r=(i=e("./exponent.js"))&&i.__esModule?i:{default:i}},{"./exponent.js":450}],463:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor((0,r.default)(t)/3)))-(0,r.default)(Math.abs(e)))};var i,r=(i=e("./exponent.js"))&&i.__esModule?i:{default:i}},{"./exponent.js":450}],464:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,(0,r.default)(t)-(0,r.default)(e))+1};var i,r=(i=e("./exponent.js"))&&i.__esModule?i:{default:i}},{"./exponent.js":450}],465:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.areaStream=n.areaRingSum=void 0,n.default=function(e){return p=new i.Adder,(0,s.default)(e,m),2*p};var i=e("d3-array"),r=e("./math.js"),a=o(e("./noop.js")),s=o(e("./stream.js"));function o(e){return e&&e.__esModule?e:{default:e}}var l=new i.Adder;n.areaRingSum=l;var u,c,d,h,f,p=new i.Adder,m={point:a.default,lineStart:a.default,lineEnd:a.default,polygonStart:function(){n.areaRingSum=l=new i.Adder,m.lineStart=v,m.lineEnd=y},polygonEnd:function(){var e=+l;p.add(e<0?r.tau+e:e),this.lineStart=this.lineEnd=this.point=a.default},sphere:function(){p.add(r.tau)}};function v(){m.point=g}function y(){_(u,c)}function g(e,t){m.point=_,u=e,c=t,e*=r.radians,t*=r.radians,d=e,h=(0,r.cos)(t=t/2+r.quarterPi),f=(0,r.sin)(t)}function _(e,t){e*=r.radians,t=(t*=r.radians)/2+r.quarterPi;var n=e-d,i=n>=0?1:-1,a=i*n,s=(0,r.cos)(t),o=(0,r.sin)(t),u=f*o,c=h*s+u*(0,r.cos)(a),p=u*i*(0,r.sin)(a);l.add((0,r.atan2)(p,c)),d=e,h=s,f=o}n.areaStream=m},{"./math.js":487,"./noop.js":488,"./stream.js":521,"d3-array":332}],466:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t,n,i,l,u,c,d;if(o=s=-(r=a=1/0),f=[],(0,_.default)(e,b),n=f.length){for(f.sort(L),t=1,i=f[0],u=[i];t<n;++t)l=f[t],E(i,l[0])||E(i,l[1])?(O(i[0],l[1])>O(i[0],i[1])&&(i[1]=l[1]),O(l[0],i[1])>O(i[0],i[1])&&(i[0]=l[0])):u.push(i=l);for(c=-1/0,n=u.length-1,t=0,i=u[n];t<=n;i=l,++t)l=u[t],(d=O(i[1],l[0]))>c&&(c=d,r=l[0],s=i[1])}return f=p=null,r===1/0||a===1/0?[[NaN,NaN],[NaN,NaN]]:[[r,a],[s,o]]};var i,r,a,s,o,l,u,c,d,h,f,p,m=e("d3-array"),v=e("./area.js"),y=e("./cartesian.js"),g=e("./math.js"),_=(i=e("./stream.js"))&&i.__esModule?i:{default:i};var b={point:j,lineStart:w,lineEnd:k,polygonStart:function(){b.point=S,b.lineStart=P,b.lineEnd=M,h=new m.Adder,v.areaStream.polygonStart()},polygonEnd:function(){v.areaStream.polygonEnd(),b.point=j,b.lineStart=w,b.lineEnd=k,v.areaRingSum<0?(r=-(s=180),a=-(o=90)):h>g.epsilon?o=90:h<-g.epsilon&&(a=-90),p[0]=r,p[1]=s},sphere:function(){r=-(s=180),a=-(o=90)}};function j(e,t){f.push(p=[r=e,s=e]),t<a&&(a=t),t>o&&(o=t)}function x(e,t){var n=(0,y.cartesian)([e*g.radians,t*g.radians]);if(d){var i=(0,y.cartesianCross)(d,n),u=[i[1],-i[0],0],c=(0,y.cartesianCross)(u,i);(0,y.cartesianNormalizeInPlace)(c),c=(0,y.spherical)(c);var h,m=e-l,v=m>0?1:-1,_=c[0]*g.degrees*v,b=(0,g.abs)(m)>180;b^(v*l<_&&_<v*e)?(h=c[1]*g.degrees)>o&&(o=h):b^(v*l<(_=(_+360)%360-180)&&_<v*e)?(h=-c[1]*g.degrees)<a&&(a=h):(t<a&&(a=t),t>o&&(o=t)),b?e<l?O(r,e)>O(r,s)&&(s=e):O(e,s)>O(r,s)&&(r=e):s>=r?(e<r&&(r=e),e>s&&(s=e)):e>l?O(r,e)>O(r,s)&&(s=e):O(e,s)>O(r,s)&&(r=e)}else f.push(p=[r=e,s=e]);t<a&&(a=t),t>o&&(o=t),d=n,l=e}function w(){b.point=x}function k(){p[0]=r,p[1]=s,b.point=j,d=null}function S(e,t){if(d){var n=e-l;h.add((0,g.abs)(n)>180?n+(n>0?360:-360):n)}else u=e,c=t;v.areaStream.point(e,t),x(e,t)}function P(){v.areaStream.lineStart()}function M(){S(u,c),v.areaStream.lineEnd(),(0,g.abs)(h)>g.epsilon&&(r=-(s=180)),p[0]=r,p[1]=s,d=null}function O(e,t){return(t-=e)<0?t+360:t}function L(e,t){return e[0]-t[0]}function E(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}},{"./area.js":465,"./cartesian.js":467,"./math.js":487,"./stream.js":521,"d3-array":332}],467:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.cartesian=function(e){var t=e[0],n=e[1],r=(0,i.cos)(n);return[r*(0,i.cos)(t),r*(0,i.sin)(t),(0,i.sin)(n)]},n.cartesianAddInPlace=function(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]},n.cartesianCross=function(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]},n.cartesianDot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},n.cartesianNormalizeInPlace=function(e){var t=(0,i.sqrt)(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t},n.cartesianScale=function(e,t){return[e[0]*t,e[1]*t,e[2]*t]},n.spherical=function(e){return[(0,i.atan2)(e[1],e[0]),(0,i.asin)(e[2])]};var i=e("./math.js")},{"./math.js":487}],468:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){i=r=a=s=o=l=u=c=0,d=new _.Adder,h=new _.Adder,f=new _.Adder,(0,x.default)(e,k);var t=+d,n=+h,p=+f,m=(0,b.hypot)(t,n,p);if(m<b.epsilon2&&(t=l,n=u,p=c,r<b.epsilon&&(t=a,n=s,p=o),(m=(0,b.hypot)(t,n,p))<b.epsilon2))return[NaN,NaN];return[(0,b.atan2)(n,t)*b.degrees,(0,b.asin)(p/m)*b.degrees]};var i,r,a,s,o,l,u,c,d,h,f,p,m,v,y,g,_=e("d3-array"),b=e("./math.js"),j=w(e("./noop.js")),x=w(e("./stream.js"));function w(e){return e&&e.__esModule?e:{default:e}}var k={sphere:j.default,point:S,lineStart:M,lineEnd:E,polygonStart:function(){k.lineStart=A,k.lineEnd=C},polygonEnd:function(){k.lineStart=M,k.lineEnd=E}};function S(e,t){e*=b.radians,t*=b.radians;var n=(0,b.cos)(t);P(n*(0,b.cos)(e),n*(0,b.sin)(e),(0,b.sin)(t))}function P(e,t,n){++i,a+=(e-a)/i,s+=(t-s)/i,o+=(n-o)/i}function M(){k.point=O}function O(e,t){e*=b.radians,t*=b.radians;var n=(0,b.cos)(t);v=n*(0,b.cos)(e),y=n*(0,b.sin)(e),g=(0,b.sin)(t),k.point=L,P(v,y,g)}function L(e,t){e*=b.radians,t*=b.radians;var n=(0,b.cos)(t),i=n*(0,b.cos)(e),a=n*(0,b.sin)(e),s=(0,b.sin)(t),o=(0,b.atan2)((0,b.sqrt)((o=y*s-g*a)*o+(o=g*i-v*s)*o+(o=v*a-y*i)*o),v*i+y*a+g*s);r+=o,l+=o*(v+(v=i)),u+=o*(y+(y=a)),c+=o*(g+(g=s)),P(v,y,g)}function E(){k.point=S}function A(){k.point=T}function C(){D(p,m),k.point=S}function T(e,t){p=e,m=t,e*=b.radians,t*=b.radians,k.point=D;var n=(0,b.cos)(t);v=n*(0,b.cos)(e),y=n*(0,b.sin)(e),g=(0,b.sin)(t),P(v,y,g)}function D(e,t){e*=b.radians,t*=b.radians;var n=(0,b.cos)(t),i=n*(0,b.cos)(e),a=n*(0,b.sin)(e),s=(0,b.sin)(t),o=y*s-g*a,p=g*i-v*s,m=v*a-y*i,_=(0,b.hypot)(o,p,m),j=(0,b.asin)(_),x=_&&-j/_;d.add(x*o),h.add(x*p),f.add(x*m),r+=j,l+=j*(v+(v=i)),u+=j*(y+(y=a)),c+=j*(g+(g=s)),P(v,y,g)}},{"./math.js":487,"./noop.js":488,"./stream.js":521,"d3-array":332}],469:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.circleStream=l,n.default=function(){var e,t,n=(0,a.default)([0,0]),i=(0,a.default)(90),r=(0,a.default)(6),u={point:function(n,i){e.push(n=t(n,i)),n[0]*=s.degrees,n[1]*=s.degrees}};function c(){var a=n.apply(this,arguments),c=i.apply(this,arguments)*s.radians,d=r.apply(this,arguments)*s.radians;return e=[],t=(0,o.rotateRadians)(-a[0]*s.radians,-a[1]*s.radians,0).invert,l(u,c,d,1),a={type:"Polygon",coordinates:[e]},e=t=null,a}return c.center=function(e){return arguments.length?(n="function"==typeof e?e:(0,a.default)([+e[0],+e[1]]),c):n},c.radius=function(e){return arguments.length?(i="function"==typeof e?e:(0,a.default)(+e),c):i},c.precision=function(e){return arguments.length?(r="function"==typeof e?e:(0,a.default)(+e),c):r},c};var i,r=e("./cartesian.js"),a=(i=e("./constant.js"))&&i.__esModule?i:{default:i},s=e("./math.js"),o=e("./rotation.js");function l(e,t,n,i,a,o){if(n){var l=(0,s.cos)(t),c=(0,s.sin)(t),d=i*n;null==a?(a=t+i*s.tau,o=t-d/2):(a=u(l,a),o=u(l,o),(i>0?a<o:a>o)&&(a+=i*s.tau));for(var h,f=a;i>0?f>o:f<o;f-=d)h=(0,r.spherical)([l,-c*(0,s.cos)(f),-c*(0,s.sin)(f)]),e.point(h[0],h[1])}}function u(e,t){(t=(0,r.cartesian)(t))[0]-=e,(0,r.cartesianNormalizeInPlace)(t);var n=(0,s.acos)(-t[1]);return((-t[2]<0?-n:n)+s.tau-s.epsilon)%s.tau}},{"./cartesian.js":467,"./constant.js":479,"./math.js":487,"./rotation.js":520}],470:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r=(i=e("./index.js"))&&i.__esModule?i:{default:i},a=e("../math.js");var s=(0,r.default)((function(){return!0}),(function(e){var t,n=NaN,i=NaN,r=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(s,o){var l=s>0?a.pi:-a.pi,u=(0,a.abs)(s-n);(0,a.abs)(u-a.pi)<a.epsilon?(e.point(n,i=(i+o)/2>0?a.halfPi:-a.halfPi),e.point(r,i),e.lineEnd(),e.lineStart(),e.point(l,i),e.point(s,i),t=0):r!==l&&u>=a.pi&&((0,a.abs)(n-r)<a.epsilon&&(n-=r*a.epsilon),(0,a.abs)(s-l)<a.epsilon&&(s-=l*a.epsilon),i=function(e,t,n,i){var r,s,o=(0,a.sin)(e-n);return(0,a.abs)(o)>a.epsilon?(0,a.atan)(((0,a.sin)(t)*(s=(0,a.cos)(i))*(0,a.sin)(n)-(0,a.sin)(i)*(r=(0,a.cos)(t))*(0,a.sin)(e))/(r*s*o)):(t+i)/2}(n,i,s,o),e.point(r,i),e.lineEnd(),e.lineStart(),e.point(l,i),t=0),e.point(n=s,i=o),r=l},lineEnd:function(){e.lineEnd(),n=i=NaN},clean:function(){return 2-t}}}),(function(e,t,n,i){var r;if(null==e)r=n*a.halfPi,i.point(-a.pi,r),i.point(0,r),i.point(a.pi,r),i.point(a.pi,0),i.point(a.pi,-r),i.point(0,-r),i.point(-a.pi,-r),i.point(-a.pi,0),i.point(-a.pi,r);else if((0,a.abs)(e[0]-t[0])>a.epsilon){var s=e[0]<t[0]?a.pi:-a.pi;r=n*s/2,i.point(-s,r),i.point(0,r),i.point(s,r)}else i.point(t[0],t[1])}),[-a.pi,-a.halfPi]);n.default=s},{"../math.js":487,"./index.js":474}],471:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e,t=[];return{point:function(t,n,i){e.push([t,n,i])},lineStart:function(){t.push(e=[])},lineEnd:r.default,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}};var i,r=(i=e("../noop.js"))&&i.__esModule?i:{default:i}},{"../noop.js":488}],472:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=(0,a.cos)(e),n=6*a.radians,l=t>0,u=(0,a.abs)(t)>a.epsilon;function c(e,n){return(0,a.cos)(e)*(0,a.cos)(n)>t}function d(e,n,r){var s=(0,i.cartesian)(e),o=(0,i.cartesian)(n),l=[1,0,0],u=(0,i.cartesianCross)(s,o),c=(0,i.cartesianDot)(u,u),d=u[0],h=c-d*d;if(!h)return!r&&e;var f=t*c/h,p=-t*d/h,m=(0,i.cartesianCross)(l,u),v=(0,i.cartesianScale)(l,f),y=(0,i.cartesianScale)(u,p);(0,i.cartesianAddInPlace)(v,y);var g=m,_=(0,i.cartesianDot)(v,g),b=(0,i.cartesianDot)(g,g),j=_*_-b*((0,i.cartesianDot)(v,v)-1);if(!(j<0)){var x=(0,a.sqrt)(j),w=(0,i.cartesianScale)(g,(-_-x)/b);if((0,i.cartesianAddInPlace)(w,v),w=(0,i.spherical)(w),!r)return w;var k,S=e[0],P=n[0],M=e[1],O=n[1];P<S&&(k=S,S=P,P=k);var L=P-S,E=(0,a.abs)(L-a.pi)<a.epsilon;if(!E&&O<M&&(k=M,M=O,O=k),E||L<a.epsilon?E?M+O>0^w[1]<((0,a.abs)(w[0]-S)<a.epsilon?M:O):M<=w[1]&&w[1]<=O:L>a.pi^(S<=w[0]&&w[0]<=P)){var A=(0,i.cartesianScale)(g,(-_+x)/b);return(0,i.cartesianAddInPlace)(A,v),[w,(0,i.spherical)(A)]}}}function h(t,n){var i=l?e:a.pi-e,r=0;return t<-i?r|=1:t>i&&(r|=2),n<-i?r|=4:n>i&&(r|=8),r}return(0,o.default)(c,(function(e){var t,n,i,r,o;return{lineStart:function(){r=i=!1,o=1},point:function(f,p){var m,v=[f,p],y=c(f,p),g=l?y?0:h(f,p):y?h(f+(f<0?a.pi:-a.pi),p):0;if(!t&&(r=i=y)&&e.lineStart(),y!==i&&(!(m=d(t,v))||(0,s.default)(t,m)||(0,s.default)(v,m))&&(v[2]=1),y!==i)o=0,y?(e.lineStart(),m=d(v,t),e.point(m[0],m[1])):(m=d(t,v),e.point(m[0],m[1],2),e.lineEnd()),t=m;else if(u&&t&&l^y){var _;g&n||!(_=d(v,t,!0))||(o=0,l?(e.lineStart(),e.point(_[0][0],_[0][1]),e.point(_[1][0],_[1][1]),e.lineEnd()):(e.point(_[1][0],_[1][1]),e.lineEnd(),e.lineStart(),e.point(_[0][0],_[0][1],3)))}!y||t&&(0,s.default)(t,v)||e.point(v[0],v[1]),t=v,i=y,n=g},lineEnd:function(){i&&e.lineEnd(),t=null},clean:function(){return o|(r&&i)<<1}}}),(function(t,i,a,s){(0,r.circleStream)(s,e,n,a,t,i)}),l?[0,-e]:[-a.pi,e-a.pi])};var i=e("../cartesian.js"),r=e("../circle.js"),a=e("../math.js"),s=l(e("../pointEqual.js")),o=l(e("./index.js"));function l(e){return e&&e.__esModule?e:{default:e}}},{"../cartesian.js":467,"../circle.js":469,"../math.js":487,"../pointEqual.js":496,"./index.js":474}],473:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e,t,n,i=0,a=0,s=960,o=500;return n={stream:function(n){return e&&t===n?e:e=(0,r.default)(i,a,s,o)(t=n)},extent:function(r){return arguments.length?(i=+r[0][0],a=+r[0][1],s=+r[1][0],o=+r[1][1],e=t=null,n):[[i,a],[s,o]]}}};var i,r=(i=e("./rectangle.js"))&&i.__esModule?i:{default:i}},{"./rectangle.js":476}],474:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n,a){return function(l){var d,h,f,p=t(l),m=(0,i.default)(),v=t(m),y=!1,g={point:_,lineStart:j,lineEnd:x,polygonStart:function(){g.point=w,g.lineStart=k,g.lineEnd=S,h=[],d=[]},polygonEnd:function(){g.point=_,g.lineStart=j,g.lineEnd=x,h=(0,o.merge)(h);var e=(0,s.default)(d,a);h.length?(y||(l.polygonStart(),y=!0),(0,r.default)(h,c,e,n,l)):e&&(y||(l.polygonStart(),y=!0),l.lineStart(),n(null,null,1,l),l.lineEnd()),y&&(l.polygonEnd(),y=!1),h=d=null},sphere:function(){l.polygonStart(),l.lineStart(),n(null,null,1,l),l.lineEnd(),l.polygonEnd()}};function _(t,n){e(t,n)&&l.point(t,n)}function b(e,t){p.point(e,t)}function j(){g.point=b,p.lineStart()}function x(){g.point=_,p.lineEnd()}function w(e,t){f.push([e,t]),v.point(e,t)}function k(){v.lineStart(),f=[]}function S(){w(f[0][0],f[0][1]),v.lineEnd();var e,t,n,i,r=v.clean(),a=m.result(),s=a.length;if(f.pop(),d.push(f),f=null,s)if(1&r){if((t=(n=a[0]).length-1)>0){for(y||(l.polygonStart(),y=!0),l.lineStart(),e=0;e<t;++e)l.point((i=n[e])[0],i[1]);l.lineEnd()}}else s>1&&2&r&&a.push(a.pop().concat(a.shift())),h.push(a.filter(u))}return g}};var i=l(e("./buffer.js")),r=l(e("./rejoin.js")),a=e("../math.js"),s=l(e("../polygonContains.js")),o=e("d3-array");function l(e){return e&&e.__esModule?e:{default:e}}function u(e){return e.length>1}function c(e,t){return((e=e.x)[0]<0?e[1]-a.halfPi-a.epsilon:a.halfPi-e[1])-((t=t.x)[0]<0?t[1]-a.halfPi-a.epsilon:a.halfPi-t[1])}},{"../math.js":487,"../polygonContains.js":497,"./buffer.js":471,"./rejoin.js":477,"d3-array":332}],475:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n,i,r,a){var s,o=e[0],l=e[1],u=t[0],c=t[1],d=0,h=1,f=u-o,p=c-l;if(s=n-o,!f&&s>0)return;if(s/=f,f<0){if(s<d)return;s<h&&(h=s)}else if(f>0){if(s>h)return;s>d&&(d=s)}if(s=r-o,!f&&s<0)return;if(s/=f,f<0){if(s>h)return;s>d&&(d=s)}else if(f>0){if(s<d)return;s<h&&(h=s)}if(s=i-l,!p&&s>0)return;if(s/=p,p<0){if(s<d)return;s<h&&(h=s)}else if(p>0){if(s>h)return;s>d&&(d=s)}if(s=a-l,!p&&s<0)return;if(s/=p,p<0){if(s>h)return;s>d&&(d=s)}else if(p>0){if(s<d)return;s<h&&(h=s)}d>0&&(e[0]=o+d*f,e[1]=l+d*p);h<1&&(t[0]=o+h*f,t[1]=l+h*p);return!0}},{}],476:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n,l){function d(i,r){return e<=i&&i<=n&&t<=r&&r<=l}function h(i,r,a,s){var o=0,u=0;if(null==i||(o=f(i,a))!==(u=f(r,a))||m(i,r)<0^a>0)do{s.point(0===o||3===o?e:n,o>1?l:t)}while((o=(o+a+4)%4)!==u);else s.point(r[0],r[1])}function f(r,a){return(0,i.abs)(r[0]-e)<i.epsilon?a>0?0:3:(0,i.abs)(r[0]-n)<i.epsilon?a>0?2:1:(0,i.abs)(r[1]-t)<i.epsilon?a>0?1:0:a>0?3:2}function p(e,t){return m(e.x,t.x)}function m(e,t){var n=f(e,1),i=f(t,1);return n!==i?n-i:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(i){var f,m,v,y,g,_,b,j,x,w,k,S=i,P=(0,r.default)(),M={point:O,lineStart:function(){M.point=L,m&&m.push(v=[]);w=!0,x=!1,b=j=NaN},lineEnd:function(){f&&(L(y,g),_&&x&&P.rejoin(),f.push(P.result()));M.point=O,x&&S.lineEnd()},polygonStart:function(){S=P,f=[],m=[],k=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,i=m.length;n<i;++n)for(var r,a,s=m[n],o=1,u=s.length,c=s[0],d=c[0],h=c[1];o<u;++o)r=d,a=h,d=(c=s[o])[0],h=c[1],a<=l?h>l&&(d-r)*(l-a)>(h-a)*(e-r)&&++t:h<=l&&(d-r)*(l-a)<(h-a)*(e-r)&&--t;return t}(),n=k&&t,r=(f=(0,o.merge)(f)).length;(n||r)&&(i.polygonStart(),n&&(i.lineStart(),h(null,null,1,i),i.lineEnd()),r&&(0,s.default)(f,p,t,h,i),i.polygonEnd());S=i,f=m=v=null}};function O(e,t){d(e,t)&&S.point(e,t)}function L(i,r){var s=d(i,r);if(m&&v.push([i,r]),w)y=i,g=r,_=s,w=!1,s&&(S.lineStart(),S.point(i,r));else if(s&&x)S.point(i,r);else{var o=[b=Math.max(c,Math.min(u,b)),j=Math.max(c,Math.min(u,j))],h=[i=Math.max(c,Math.min(u,i)),r=Math.max(c,Math.min(u,r))];(0,a.default)(o,h,e,t,n,l)?(x||(S.lineStart(),S.point(o[0],o[1])),S.point(h[0],h[1]),s||S.lineEnd(),k=!1):s&&(S.lineStart(),S.point(i,r),k=!1)}b=i,j=r,x=s}return M}};var i=e("../math.js"),r=l(e("./buffer.js")),a=l(e("./line.js")),s=l(e("./rejoin.js")),o=e("d3-array");function l(e){return e&&e.__esModule?e:{default:e}}var u=1e9,c=-u},{"../math.js":487,"./buffer.js":471,"./line.js":475,"./rejoin.js":477,"d3-array":332}],477:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n,i,l){var u,c,d=[],h=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,i=e[0],o=e[t];if((0,r.default)(i,o)){if(!i[2]&&!o[2]){for(l.lineStart(),u=0;u<t;++u)l.point((i=e[u])[0],i[1]);return void l.lineEnd()}o[0]+=2*a.epsilon}d.push(n=new s(i,e,null,!0)),h.push(n.o=new s(i,null,n,!1)),d.push(n=new s(o,e,null,!1)),h.push(n.o=new s(o,null,n,!0))}})),!d.length)return;for(h.sort(t),o(d),o(h),u=0,c=h.length;u<c;++u)h[u].e=n=!n;var f,p,m=d[0];for(;;){for(var v=m,y=!0;v.v;)if((v=v.n)===m)return;f=v.z,l.lineStart();do{if(v.v=v.o.v=!0,v.e){if(y)for(u=0,c=f.length;u<c;++u)l.point((p=f[u])[0],p[1]);else i(v.x,v.n.x,1,l);v=v.n}else{if(y)for(f=v.p.z,u=f.length-1;u>=0;--u)l.point((p=f[u])[0],p[1]);else i(v.x,v.p.x,-1,l);v=v.p}v=v.o,f=v.z,y=!y}while(!v.v);l.lineEnd()}};var i,r=(i=e("../pointEqual.js"))&&i.__esModule?i:{default:i},a=e("../math.js");function s(e,t,n,i){this.x=e,this.z=t,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function o(e){if(t=e.length){for(var t,n,i=0,r=e[0];++i<t;)r.n=n=e[i],n.p=r,r=n;r.n=n=e[0],n.p=r}}},{"../math.js":487,"../pointEqual.js":496}],478:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){function n(n,i){return n=e(n,i),t(n[0],n[1])}e.invert&&t.invert&&(n.invert=function(n,i){return(n=t.invert(n,i))&&e.invert(n[0],n[1])});return n}},{}],479:[function(e,t,n){arguments[4][380][0].apply(n,arguments)},{dup:380}],480:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){return(e&&o.hasOwnProperty(e.type)?o[e.type]:u)(e,t)};var i=s(e("./polygonContains.js")),r=s(e("./distance.js")),a=e("./math.js");function s(e){return e&&e.__esModule?e:{default:e}}var o={Feature:function(e,t){return u(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,r=n.length;++i<r;)if(u(n[i].geometry,t))return!0;return!1}},l={Sphere:function(){return!0},Point:function(e,t){return c(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)if(c(n[i],t))return!0;return!1},LineString:function(e,t){return d(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)if(d(n[i],t))return!0;return!1},Polygon:function(e,t){return h(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)if(h(n[i],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,r=n.length;++i<r;)if(u(n[i],t))return!0;return!1}};function u(e,t){return!(!e||!l.hasOwnProperty(e.type))&&l[e.type](e,t)}function c(e,t){return 0===(0,r.default)(e,t)}function d(e,t){for(var n,i,s,o=0,l=e.length;o<l;o++){if(0===(i=(0,r.default)(e[o],t)))return!0;if(o>0&&(s=(0,r.default)(e[o],e[o-1]))>0&&n<=s&&i<=s&&(n+i-s)*(1-Math.pow((n-i)/s,2))<a.epsilon2*s)return!0;n=i}return!1}function h(e,t){return!!(0,i.default)(e.map(f),p(t))}function f(e){return(e=e.map(p)).pop(),e}function p(e){return[e[0]*a.radians,e[1]*a.radians]}},{"./distance.js":481,"./math.js":487,"./polygonContains.js":497}],481:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){return a[0]=e,a[1]=t,(0,r.default)(s)};var i,r=(i=e("./length.js"))&&i.__esModule?i:{default:i};var a=[null,null],s={type:"LineString",coordinates:a}},{"./length.js":486}],482:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o,n.graticule10=function(){return o()()};var i=e("d3-array"),r=e("./math.js");function a(e,t,n){var a=(0,i.range)(e,t-r.epsilon,n).concat(t);return function(e){return a.map((function(t){return[e,t]}))}}function s(e,t,n){var a=(0,i.range)(e,t-r.epsilon,n).concat(t);return function(e){return a.map((function(t){return[t,e]}))}}function o(){var e,t,n,o,l,u,c,d,h,f,p,m,v=10,y=v,g=90,_=360,b=2.5;function j(){return{type:"MultiLineString",coordinates:x()}}function x(){return(0,i.range)((0,r.ceil)(o/g)*g,n,g).map(p).concat((0,i.range)((0,r.ceil)(d/_)*_,c,_).map(m)).concat((0,i.range)((0,r.ceil)(t/v)*v,e,v).filter((function(e){return(0,r.abs)(e%g)>r.epsilon})).map(h)).concat((0,i.range)((0,r.ceil)(u/y)*y,l,y).filter((function(e){return(0,r.abs)(e%_)>r.epsilon})).map(f))}return j.lines=function(){return x().map((function(e){return{type:"LineString",coordinates:e}}))},j.outline=function(){return{type:"Polygon",coordinates:[p(o).concat(m(c).slice(1),p(n).reverse().slice(1),m(d).reverse().slice(1))]}},j.extent=function(e){return arguments.length?j.extentMajor(e).extentMinor(e):j.extentMinor()},j.extentMajor=function(e){return arguments.length?(o=+e[0][0],n=+e[1][0],d=+e[0][1],c=+e[1][1],o>n&&(e=o,o=n,n=e),d>c&&(e=d,d=c,c=e),j.precision(b)):[[o,d],[n,c]]},j.extentMinor=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],u=+n[0][1],l=+n[1][1],t>e&&(n=t,t=e,e=n),u>l&&(n=u,u=l,l=n),j.precision(b)):[[t,u],[e,l]]},j.step=function(e){return arguments.length?j.stepMajor(e).stepMinor(e):j.stepMinor()},j.stepMajor=function(e){return arguments.length?(g=+e[0],_=+e[1],j):[g,_]},j.stepMinor=function(e){return arguments.length?(v=+e[0],y=+e[1],j):[v,y]},j.precision=function(i){return arguments.length?(b=+i,h=a(u,l,90),f=s(t,e,b),p=a(d,c,90),m=s(o,n,b),j):b},j.extentMajor([[-180,-90+r.epsilon],[180,90-r.epsilon]]).extentMinor([[-180,-80-r.epsilon],[180,80+r.epsilon]])}},{"./math.js":487,"d3-array":332}],483:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default=e=>e},{}],484:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"geoAlbers",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(n,"geoAlbersUsa",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(n,"geoArea",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"geoAzimuthalEqualArea",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(n,"geoAzimuthalEqualAreaRaw",{enumerable:!0,get:function(){return _.azimuthalEqualAreaRaw}}),Object.defineProperty(n,"geoAzimuthalEquidistant",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(n,"geoAzimuthalEquidistantRaw",{enumerable:!0,get:function(){return b.azimuthalEquidistantRaw}}),Object.defineProperty(n,"geoBounds",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"geoCentroid",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"geoCircle",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(n,"geoClipAntimeridian",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"geoClipCircle",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(n,"geoClipExtent",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(n,"geoClipRectangle",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(n,"geoConicConformal",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(n,"geoConicConformalRaw",{enumerable:!0,get:function(){return j.conicConformalRaw}}),Object.defineProperty(n,"geoConicEqualArea",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(n,"geoConicEqualAreaRaw",{enumerable:!0,get:function(){return x.conicEqualAreaRaw}}),Object.defineProperty(n,"geoConicEquidistant",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(n,"geoConicEquidistantRaw",{enumerable:!0,get:function(){return w.conicEquidistantRaw}}),Object.defineProperty(n,"geoContains",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(n,"geoDistance",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(n,"geoEqualEarth",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(n,"geoEqualEarthRaw",{enumerable:!0,get:function(){return k.equalEarthRaw}}),Object.defineProperty(n,"geoEquirectangular",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(n,"geoEquirectangularRaw",{enumerable:!0,get:function(){return S.equirectangularRaw}}),Object.defineProperty(n,"geoGnomonic",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(n,"geoGnomonicRaw",{enumerable:!0,get:function(){return P.gnomonicRaw}}),Object.defineProperty(n,"geoGraticule",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(n,"geoGraticule10",{enumerable:!0,get:function(){return f.graticule10}}),Object.defineProperty(n,"geoIdentity",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(n,"geoInterpolate",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(n,"geoLength",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(n,"geoMercator",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(n,"geoMercatorRaw",{enumerable:!0,get:function(){return L.mercatorRaw}}),Object.defineProperty(n,"geoNaturalEarth1",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(n,"geoNaturalEarth1Raw",{enumerable:!0,get:function(){return E.naturalEarth1Raw}}),Object.defineProperty(n,"geoOrthographic",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(n,"geoOrthographicRaw",{enumerable:!0,get:function(){return A.orthographicRaw}}),Object.defineProperty(n,"geoPath",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(n,"geoProjection",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(n,"geoProjectionMutator",{enumerable:!0,get:function(){return O.projectionMutator}}),Object.defineProperty(n,"geoRotation",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(n,"geoStereographic",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(n,"geoStereographicRaw",{enumerable:!0,get:function(){return C.stereographicRaw}}),Object.defineProperty(n,"geoStream",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(n,"geoTransform",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(n,"geoTransverseMercator",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(n,"geoTransverseMercatorRaw",{enumerable:!0,get:function(){return T.transverseMercatorRaw}});var i=R(e("./area.js")),r=R(e("./bounds.js")),a=R(e("./centroid.js")),s=R(e("./circle.js")),o=R(e("./clip/antimeridian.js")),l=R(e("./clip/circle.js")),u=R(e("./clip/extent.js")),c=R(e("./clip/rectangle.js")),d=R(e("./contains.js")),h=R(e("./distance.js")),f=q(e("./graticule.js")),p=R(e("./interpolate.js")),m=R(e("./length.js")),v=R(e("./path/index.js")),y=R(e("./projection/albers.js")),g=R(e("./projection/albersUsa.js")),_=q(e("./projection/azimuthalEqualArea.js")),b=q(e("./projection/azimuthalEquidistant.js")),j=q(e("./projection/conicConformal.js")),x=q(e("./projection/conicEqualArea.js")),w=q(e("./projection/conicEquidistant.js")),k=q(e("./projection/equalEarth.js")),S=q(e("./projection/equirectangular.js")),P=q(e("./projection/gnomonic.js")),M=R(e("./projection/identity.js")),O=q(e("./projection/index.js")),L=q(e("./projection/mercator.js")),E=q(e("./projection/naturalEarth1.js")),A=q(e("./projection/orthographic.js")),C=q(e("./projection/stereographic.js")),T=q(e("./projection/transverseMercator.js")),D=R(e("./rotation.js")),I=R(e("./stream.js")),N=R(e("./transform.js"));function z(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(z=function(e){return e?n:t})(e)}function q(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=z(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=r?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}function R(e){return e&&e.__esModule?e:{default:e}}},{"./area.js":465,"./bounds.js":466,"./centroid.js":468,"./circle.js":469,"./clip/antimeridian.js":470,"./clip/circle.js":472,"./clip/extent.js":473,"./clip/rectangle.js":476,"./contains.js":480,"./distance.js":481,"./graticule.js":482,"./interpolate.js":485,"./length.js":486,"./path/index.js":493,"./projection/albers.js":498,"./projection/albersUsa.js":499,"./projection/azimuthalEqualArea.js":501,"./projection/azimuthalEquidistant.js":502,"./projection/conicConformal.js":504,"./projection/conicEqualArea.js":505,"./projection/conicEquidistant.js":506,"./projection/equalEarth.js":508,"./projection/equirectangular.js":509,"./projection/gnomonic.js":511,"./projection/identity.js":512,"./projection/index.js":513,"./projection/mercator.js":514,"./projection/naturalEarth1.js":515,"./projection/orthographic.js":516,"./projection/stereographic.js":518,"./projection/transverseMercator.js":519,"./rotation.js":520,"./stream.js":521,"./transform.js":522}],485:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){var n=e[0]*i.radians,r=e[1]*i.radians,a=t[0]*i.radians,s=t[1]*i.radians,o=(0,i.cos)(r),l=(0,i.sin)(r),u=(0,i.cos)(s),c=(0,i.sin)(s),d=o*(0,i.cos)(n),h=o*(0,i.sin)(n),f=u*(0,i.cos)(a),p=u*(0,i.sin)(a),m=2*(0,i.asin)((0,i.sqrt)((0,i.haversin)(s-r)+o*u*(0,i.haversin)(a-n))),v=(0,i.sin)(m),y=m?function(e){var t=(0,i.sin)(e*=m)/v,n=(0,i.sin)(m-e)/v,r=n*d+t*f,a=n*h+t*p,s=n*l+t*c;return[(0,i.atan2)(a,r)*i.degrees,(0,i.atan2)(s,(0,i.sqrt)(r*r+a*a))*i.degrees]}:function(){return[n*i.degrees,r*i.degrees]};return y.distance=m,y};var i=e("./math.js")},{"./math.js":487}],486:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return i=new o.Adder,(0,c.default)(e,h),+i};var i,r,a,s,o=e("d3-array"),l=e("./math.js"),u=d(e("./noop.js")),c=d(e("./stream.js"));function d(e){return e&&e.__esModule?e:{default:e}}var h={sphere:u.default,point:u.default,lineStart:function(){h.point=p,h.lineEnd=f},lineEnd:u.default,polygonStart:u.default,polygonEnd:u.default};function f(){h.point=h.lineEnd=u.default}function p(e,t){e*=l.radians,t*=l.radians,r=e,a=(0,l.sin)(t),s=(0,l.cos)(t),h.point=m}function m(e,t){e*=l.radians,t*=l.radians;var n=(0,l.sin)(t),o=(0,l.cos)(t),u=(0,l.abs)(e-r),c=(0,l.cos)(u),d=o*(0,l.sin)(u),h=s*n-a*o*c,f=a*n+s*o*c;i.add((0,l.atan2)((0,l.sqrt)(d*d+h*h),f)),r=e,a=n,s=o}},{"./math.js":487,"./noop.js":488,"./stream.js":521,"d3-array":332}],487:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.abs=void 0,n.acos=function(e){return e>1?0:e<-1?i:Math.acos(e)},n.asin=function(e){return e>1?r:e<-1?-r:Math.asin(e)},n.halfPi=n.floor=n.exp=n.epsilon2=n.epsilon=n.degrees=n.cos=n.ceil=n.atan2=n.atan=void 0,n.haversin=function(e){return(e=_(e/2))*e},n.tau=n.tan=n.sqrt=n.sin=n.sign=n.radians=n.quarterPi=n.pow=n.pi=n.log=n.hypot=void 0;n.epsilon=1e-6;n.epsilon2=1e-12;var i=Math.PI;n.pi=i;var r=i/2;n.halfPi=r;var a=i/4;n.quarterPi=a;var s=2*i;n.tau=s;var o=180/i;n.degrees=o;var l=i/180;n.radians=l;var u=Math.abs;n.abs=u;var c=Math.atan;n.atan=c;var d=Math.atan2;n.atan2=d;var h=Math.cos;n.cos=h;var f=Math.ceil;n.ceil=f;var p=Math.exp;n.exp=p;var m=Math.floor;n.floor=m;var v=Math.hypot;n.hypot=v;var y=Math.log;n.log=y;var g=Math.pow;n.pow=g;var _=Math.sin;n.sin=_;var b=Math.sign||function(e){return e>0?1:e<0?-1:0};n.sign=b;var j=Math.sqrt;n.sqrt=j;var x=Math.tan;n.tan=x},{}],488:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){}},{}],489:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r=e("d3-array"),a=e("../math.js"),s=(i=e("../noop.js"))&&i.__esModule?i:{default:i};var o,l,u,c,d=new r.Adder,h=new r.Adder,f={point:s.default,lineStart:s.default,lineEnd:s.default,polygonStart:function(){f.lineStart=p,f.lineEnd=y},polygonEnd:function(){f.lineStart=f.lineEnd=f.point=s.default,d.add((0,a.abs)(h)),h=new r.Adder},result:function(){var e=d/2;return d=new r.Adder,e}};function p(){f.point=m}function m(e,t){f.point=v,o=u=e,l=c=t}function v(e,t){h.add(c*e-u*t),u=e,c=t}function y(){v(o,l)}var g=f;n.default=g},{"../math.js":487,"../noop.js":488,"d3-array":332}],490:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r=(i=e("../noop.js"))&&i.__esModule?i:{default:i};var a=1/0,s=a,o=-a,l=o;var u={point:function(e,t){e<a&&(a=e);e>o&&(o=e);t<s&&(s=t);t>l&&(l=t)},lineStart:r.default,lineEnd:r.default,polygonStart:r.default,polygonEnd:r.default,result:function(){var e=[[a,s],[o,l]];return o=l=-(s=a=1/0),e}};n.default=u},{"../noop.js":488}],491:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r,a,s,o=e("../math.js"),l=0,u=0,c=0,d=0,h=0,f=0,p=0,m=0,v=0,y={point:g,lineStart:_,lineEnd:x,polygonStart:function(){y.lineStart=w,y.lineEnd=k},polygonEnd:function(){y.point=g,y.lineStart=_,y.lineEnd=x},result:function(){var e=v?[p/v,m/v]:f?[d/f,h/f]:c?[l/c,u/c]:[NaN,NaN];return l=u=c=d=h=f=p=m=v=0,e}};function g(e,t){l+=e,u+=t,++c}function _(){y.point=b}function b(e,t){y.point=j,g(a=e,s=t)}function j(e,t){var n=e-a,i=t-s,r=(0,o.sqrt)(n*n+i*i);d+=r*(a+e)/2,h+=r*(s+t)/2,f+=r,g(a=e,s=t)}function x(){y.point=g}function w(){y.point=S}function k(){P(i,r)}function S(e,t){y.point=P,g(i=a=e,r=s=t)}function P(e,t){var n=e-a,i=t-s,r=(0,o.sqrt)(n*n+i*i);d+=r*(a+e)/2,h+=r*(s+t)/2,f+=r,p+=(r=s*e-a*t)*(a+e),m+=r*(s+t),v+=3*r,g(a=e,s=t)}var M=y;n.default=M},{"../math.js":487}],492:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=s;var i,r=e("../math.js"),a=(i=e("../noop.js"))&&i.__esModule?i:{default:i};function s(e){this._context=e}s.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,r.tau)}},result:a.default}},{"../math.js":487,"../noop.js":488}],493:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){var n,d,h=4.5;function f(e){return e&&("function"==typeof h&&d.pointRadius(+h.apply(this,arguments)),(0,r.default)(e,n(d))),d.result()}return f.area=function(e){return(0,r.default)(e,n(a.default)),a.default.result()},f.measure=function(e){return(0,r.default)(e,n(u.default)),u.default.result()},f.bounds=function(e){return(0,r.default)(e,n(s.default)),s.default.result()},f.centroid=function(e){return(0,r.default)(e,n(o.default)),o.default.result()},f.projection=function(t){return arguments.length?(n=null==t?(e=null,i.default):(e=t).stream,f):e},f.context=function(e){return arguments.length?(d=null==e?(t=null,new c.default):new l.default(t=e),"function"!=typeof h&&d.pointRadius(h),f):t},f.pointRadius=function(e){return arguments.length?(h="function"==typeof e?e:(d.pointRadius(+e),+e),f):h},f.projection(e).context(t)};var i=d(e("../identity.js")),r=d(e("../stream.js")),a=d(e("./area.js")),s=d(e("./bounds.js")),o=d(e("./centroid.js")),l=d(e("./context.js")),u=d(e("./measure.js")),c=d(e("./string.js"));function d(e){return e&&e.__esModule?e:{default:e}}},{"../identity.js":483,"../stream.js":521,"./area.js":489,"./bounds.js":490,"./centroid.js":491,"./context.js":492,"./measure.js":494,"./string.js":495}],494:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r=e("d3-array"),a=e("../math.js"),s=(i=e("../noop.js"))&&i.__esModule?i:{default:i};var o,l,u,c,d,h=new r.Adder,f={point:s.default,lineStart:function(){f.point=p},lineEnd:function(){o&&m(l,u),f.point=s.default},polygonStart:function(){o=!0},polygonEnd:function(){o=null},result:function(){var e=+h;return h=new r.Adder,e}};function p(e,t){f.point=m,l=c=e,u=d=t}function m(e,t){c-=e,d-=t,h.add((0,a.sqrt)(c*c+d*d)),c=e,d=t}var v=f;n.default=v},{"../math.js":487,"../noop.js":488,"d3-array":332}],495:[function(e,t,n){"use strict";function i(){this._string=[]}function r(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}Object.defineProperty(n,"__esModule",{value:!0}),n.default=i,i.prototype={_radius:4.5,_circle:r(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=r(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}}},{}],496:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){return(0,i.abs)(e[0]-t[0])<i.epsilon&&(0,i.abs)(e[1]-t[1])<i.epsilon};var i=e("./math.js")},{"./math.js":487}],497:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){var n=s(t),o=t[1],l=(0,a.sin)(o),u=[(0,a.sin)(n),-(0,a.cos)(n),0],c=0,d=0,h=new i.Adder;1===l?o=a.halfPi+a.epsilon:-1===l&&(o=-a.halfPi-a.epsilon);for(var f=0,p=e.length;f<p;++f)if(v=(m=e[f]).length)for(var m,v,y=m[v-1],g=s(y),_=y[1]/2+a.quarterPi,b=(0,a.sin)(_),j=(0,a.cos)(_),x=0;x<v;++x,g=k,b=P,j=M,y=w){var w=m[x],k=s(w),S=w[1]/2+a.quarterPi,P=(0,a.sin)(S),M=(0,a.cos)(S),O=k-g,L=O>=0?1:-1,E=L*O,A=E>a.pi,C=b*P;if(h.add((0,a.atan2)(C*L*(0,a.sin)(E),j*M+C*(0,a.cos)(E))),c+=A?O+L*a.tau:O,A^g>=n^k>=n){var T=(0,r.cartesianCross)((0,r.cartesian)(y),(0,r.cartesian)(w));(0,r.cartesianNormalizeInPlace)(T);var D=(0,r.cartesianCross)(u,T);(0,r.cartesianNormalizeInPlace)(D);var I=(A^O>=0?-1:1)*(0,a.asin)(D[2]);(o>I||o===I&&(T[0]||T[1]))&&(d+=A^O>=0?1:-1)}}return(c<-a.epsilon||c<a.epsilon&&h<-a.epsilon2)^1&d};var i=e("d3-array"),r=e("./cartesian.js"),a=e("./math.js");function s(e){return(0,a.abs)(e[0])<=a.pi?e[0]:(0,a.sign)(e[0])*(((0,a.abs)(e[0])+a.pi)%a.tau-a.pi)}},{"./cartesian.js":467,"./math.js":487,"d3-array":332}],498:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return(0,r.default)().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};var i,r=(i=e("./conicEqualArea.js"))&&i.__esModule?i:{default:i}},{"./conicEqualArea.js":505}],499:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e,t,n,o,l,u,c=(0,r.default)(),d=(0,a.default)().rotate([154,0]).center([-2,58.5]).parallels([55,65]),h=(0,a.default)().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f={point:function(e,t){u=[e,t]}};function p(e){var t=e[0],i=e[1];return u=null,n.point(t,i),u||(o.point(t,i),u)||(l.point(t,i),u)}function m(){return e=t=null,p}return p.invert=function(e){var t=c.scale(),n=c.translate(),i=(e[0]-n[0])/t,r=(e[1]-n[1])/t;return(r>=.12&&r<.234&&i>=-.425&&i<-.214?d:r>=.166&&r<.234&&i>=-.214&&i<-.115?h:c).invert(e)},p.stream=function(n){return e&&t===n?e:(i=[c.stream(t=n),d.stream(n),h.stream(n)],r=i.length,e={point:function(e,t){for(var n=-1;++n<r;)i[n].point(e,t)},sphere:function(){for(var e=-1;++e<r;)i[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)i[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)i[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)i[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)i[e].polygonEnd()}});var i,r},p.precision=function(e){return arguments.length?(c.precision(e),d.precision(e),h.precision(e),m()):c.precision()},p.scale=function(e){return arguments.length?(c.scale(e),d.scale(.35*e),h.scale(e),p.translate(c.translate())):c.scale()},p.translate=function(e){if(!arguments.length)return c.translate();var t=c.scale(),r=+e[0],a=+e[1];return n=c.translate(e).clipExtent([[r-.455*t,a-.238*t],[r+.455*t,a+.238*t]]).stream(f),o=d.translate([r-.307*t,a+.201*t]).clipExtent([[r-.425*t+i.epsilon,a+.12*t+i.epsilon],[r-.214*t-i.epsilon,a+.234*t-i.epsilon]]).stream(f),l=h.translate([r-.205*t,a+.212*t]).clipExtent([[r-.214*t+i.epsilon,a+.166*t+i.epsilon],[r-.115*t-i.epsilon,a+.234*t-i.epsilon]]).stream(f),m()},p.fitExtent=function(e,t){return(0,s.fitExtent)(p,e,t)},p.fitSize=function(e,t){return(0,s.fitSize)(p,e,t)},p.fitWidth=function(e,t){return(0,s.fitWidth)(p,e,t)},p.fitHeight=function(e,t){return(0,s.fitHeight)(p,e,t)},p.scale(1070)};var i=e("../math.js"),r=o(e("./albers.js")),a=o(e("./conicEqualArea.js")),s=e("./fit.js");function o(e){return e&&e.__esModule?e:{default:e}}},{"../math.js":487,"./albers.js":498,"./conicEqualArea.js":505,"./fit.js":510}],500:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.azimuthalInvert=function(e){return function(t,n){var r=(0,i.sqrt)(t*t+n*n),a=e(r),s=(0,i.sin)(a),o=(0,i.cos)(a);return[(0,i.atan2)(t*s,r*o),(0,i.asin)(r&&n*s/r)]}},n.azimuthalRaw=function(e){return function(t,n){var r=(0,i.cos)(t),a=(0,i.cos)(n),s=e(r*a);return s===1/0?[2,0]:[s*a*(0,i.sin)(t),s*(0,i.sin)(n)]}};var i=e("../math.js")},{"../math.js":487}],501:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.azimuthalEqualAreaRaw=void 0,n.default=function(){return(0,s.default)(o).scale(124.75).clipAngle(179.999)};var i,r=e("../math.js"),a=e("./azimuthal.js"),s=(i=e("./index.js"))&&i.__esModule?i:{default:i};var o=(0,a.azimuthalRaw)((function(e){return(0,r.sqrt)(2/(1+e))}));n.azimuthalEqualAreaRaw=o,o.invert=(0,a.azimuthalInvert)((function(e){return 2*(0,r.asin)(e/2)}))},{"../math.js":487,"./azimuthal.js":500,"./index.js":513}],502:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.azimuthalEquidistantRaw=void 0,n.default=function(){return(0,s.default)(o).scale(79.4188).clipAngle(179.999)};var i,r=e("../math.js"),a=e("./azimuthal.js"),s=(i=e("./index.js"))&&i.__esModule?i:{default:i};var o=(0,a.azimuthalRaw)((function(e){return(e=(0,r.acos)(e))&&e/(0,r.sin)(e)}));n.azimuthalEquidistantRaw=o,o.invert=(0,a.azimuthalInvert)((function(e){return e}))},{"../math.js":487,"./azimuthal.js":500,"./index.js":513}],503:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.conicProjection=function(e){var t=0,n=i.pi/3,a=(0,r.projectionMutator)(e),s=a(t,n);return s.parallels=function(e){return arguments.length?a(t=e[0]*i.radians,n=e[1]*i.radians):[t*i.degrees,n*i.degrees]},s};var i=e("../math.js"),r=e("./index.js")},{"../math.js":487,"./index.js":513}],504:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.conicConformalRaw=o,n.default=function(){return(0,r.conicProjection)(o).scale(109.5).parallels([30,30])};var i=e("../math.js"),r=e("./conic.js"),a=e("./mercator.js");function s(e){return(0,i.tan)((i.halfPi+e)/2)}function o(e,t){var n=(0,i.cos)(e),r=e===t?(0,i.sin)(e):(0,i.log)(n/(0,i.cos)(t))/(0,i.log)(s(t)/s(e)),o=n*(0,i.pow)(s(e),r)/r;if(!r)return a.mercatorRaw;function l(e,t){o>0?t<-i.halfPi+i.epsilon&&(t=-i.halfPi+i.epsilon):t>i.halfPi-i.epsilon&&(t=i.halfPi-i.epsilon);var n=o/(0,i.pow)(s(t),r);return[n*(0,i.sin)(r*e),o-n*(0,i.cos)(r*e)]}return l.invert=function(e,t){var n=o-t,a=(0,i.sign)(r)*(0,i.sqrt)(e*e+n*n),s=(0,i.atan2)(e,(0,i.abs)(n))*(0,i.sign)(n);return n*r<0&&(s-=i.pi*(0,i.sign)(e)*(0,i.sign)(n)),[s/r,2*(0,i.atan)((0,i.pow)(o/a,1/r))-i.halfPi]},l}},{"../math.js":487,"./conic.js":503,"./mercator.js":514}],505:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.conicEqualAreaRaw=s,n.default=function(){return(0,r.conicProjection)(s).scale(155.424).center([0,33.6442])};var i=e("../math.js"),r=e("./conic.js"),a=e("./cylindricalEqualArea.js");function s(e,t){var n=(0,i.sin)(e),r=(n+(0,i.sin)(t))/2;if((0,i.abs)(r)<i.epsilon)return(0,a.cylindricalEqualAreaRaw)(e);var s=1+n*(2*r-n),o=(0,i.sqrt)(s)/r;function l(e,t){var n=(0,i.sqrt)(s-2*r*(0,i.sin)(t))/r;return[n*(0,i.sin)(e*=r),o-n*(0,i.cos)(e)]}return l.invert=function(e,t){var n=o-t,a=(0,i.atan2)(e,(0,i.abs)(n))*(0,i.sign)(n);return n*r<0&&(a-=i.pi*(0,i.sign)(e)*(0,i.sign)(n)),[a/r,(0,i.asin)((s-(e*e+n*n)*r*r)/(2*r))]},l}},{"../math.js":487,"./conic.js":503,"./cylindricalEqualArea.js":507}],506:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.conicEquidistantRaw=s,n.default=function(){return(0,r.conicProjection)(s).scale(131.154).center([0,13.9389])};var i=e("../math.js"),r=e("./conic.js"),a=e("./equirectangular.js");function s(e,t){var n=(0,i.cos)(e),r=e===t?(0,i.sin)(e):(n-(0,i.cos)(t))/(t-e),s=n/r+e;if((0,i.abs)(r)<i.epsilon)return a.equirectangularRaw;function o(e,t){var n=s-t,a=r*e;return[n*(0,i.sin)(a),s-n*(0,i.cos)(a)]}return o.invert=function(e,t){var n=s-t,a=(0,i.atan2)(e,(0,i.abs)(n))*(0,i.sign)(n);return n*r<0&&(a-=i.pi*(0,i.sign)(e)*(0,i.sign)(n)),[a/r,s-(0,i.sign)(r)*(0,i.sqrt)(e*e+n*n)]},o}},{"../math.js":487,"./conic.js":503,"./equirectangular.js":509}],507:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.cylindricalEqualAreaRaw=function(e){var t=(0,i.cos)(e);function n(e,n){return[e*t,(0,i.sin)(n)/t]}return n.invert=function(e,n){return[e/t,(0,i.asin)(n*t)]},n};var i=e("../math.js")},{"../math.js":487}],508:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return(0,r.default)(d).scale(177.158)},n.equalEarthRaw=d;var i,r=(i=e("./index.js"))&&i.__esModule?i:{default:i},a=e("../math.js");var s=1.340264,o=-.081106,l=893e-6,u=.003796,c=(0,a.sqrt)(3)/2;function d(e,t){var n=(0,a.asin)(c*(0,a.sin)(t)),i=n*n,r=i*i*i;return[e*(0,a.cos)(n)/(c*(s+3*o*i+r*(7*l+9*u*i))),n*(s+o*i+r*(l+u*i))]}d.invert=function(e,t){for(var n,i=t,r=i*i,d=r*r*r,h=0;h<12&&(d=(r=(i-=n=(i*(s+o*r+d*(l+u*r))-t)/(s+3*o*r+d*(7*l+9*u*r)))*i)*r*r,!((0,a.abs)(n)<a.epsilon2));++h);return[c*e*(s+3*o*r+d*(7*l+9*u*r))/(0,a.cos)(i),(0,a.asin)((0,a.sin)(i)/c)]}},{"../math.js":487,"./index.js":513}],509:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return(0,r.default)(a).scale(152.63)},n.equirectangularRaw=a;var i,r=(i=e("./index.js"))&&i.__esModule?i:{default:i};function a(e,t){return[e,t]}a.invert=a},{"./index.js":513}],510:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.fitExtent=o,n.fitHeight=function(e,t,n){return s(e,(function(n){var i=+t,r=i/(n[1][1]-n[0][1]),a=-r*n[0][0],s=(i-r*(n[1][1]+n[0][1]))/2;e.scale(150*r).translate([a,s])}),n)},n.fitSize=function(e,t,n){return o(e,[[0,0],t],n)},n.fitWidth=function(e,t,n){return s(e,(function(n){var i=+t,r=i/(n[1][0]-n[0][0]),a=(i-r*(n[1][0]+n[0][0]))/2,s=-r*n[0][1];e.scale(150*r).translate([a,s])}),n)};var i=a(e("../stream.js")),r=a(e("../path/bounds.js"));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n){var a=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=a&&e.clipExtent(null),(0,i.default)(n,e.stream(r.default)),t(r.default.result()),null!=a&&e.clipExtent(a),e}function o(e,t,n){return s(e,(function(n){var i=t[1][0]-t[0][0],r=t[1][1]-t[0][1],a=Math.min(i/(n[1][0]-n[0][0]),r/(n[1][1]-n[0][1])),s=+t[0][0]+(i-a*(n[1][0]+n[0][0]))/2,o=+t[0][1]+(r-a*(n[1][1]+n[0][1]))/2;e.scale(150*a).translate([s,o])}),n)}},{"../path/bounds.js":490,"../stream.js":521}],511:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return(0,s.default)(o).scale(144.049).clipAngle(60)},n.gnomonicRaw=o;var i,r=e("../math.js"),a=e("./azimuthal.js"),s=(i=e("./index.js"))&&i.__esModule?i:{default:i};function o(e,t){var n=(0,r.cos)(t),i=(0,r.cos)(e)*n;return[n*(0,r.sin)(e)/i,(0,r.sin)(t)/i]}o.invert=(0,a.azimuthalInvert)(r.atan)},{"../math.js":487,"./azimuthal.js":500,"./index.js":513}],512:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e,t,n,l,u,c,d,h=1,f=0,p=0,m=1,v=1,y=0,g=null,_=1,b=1,j=(0,a.transformer)({point:function(e,t){var n=k([e,t]);this.stream.point(n[0],n[1])}}),x=r.default;function w(){return _=h*m,b=h*v,c=d=null,k}function k(n){var i=n[0]*_,r=n[1]*b;if(y){var a=r*e-i*t;i=i*e+r*t,r=a}return[i+f,r+p]}return k.invert=function(n){var i=n[0]-f,r=n[1]-p;if(y){var a=r*e+i*t;i=i*e-r*t,r=a}return[i/_,r/b]},k.stream=function(e){return c&&d===e?c:c=j(x(d=e))},k.postclip=function(e){return arguments.length?(x=e,g=n=l=u=null,w()):x},k.clipExtent=function(e){return arguments.length?(x=null==e?(g=n=l=u=null,r.default):(0,i.default)(g=+e[0][0],n=+e[0][1],l=+e[1][0],u=+e[1][1]),w()):null==g?null:[[g,n],[l,u]]},k.scale=function(e){return arguments.length?(h=+e,w()):h},k.translate=function(e){return arguments.length?(f=+e[0],p=+e[1],w()):[f,p]},k.angle=function(n){return arguments.length?(y=n%360*o.radians,t=(0,o.sin)(y),e=(0,o.cos)(y),w()):y*o.degrees},k.reflectX=function(e){return arguments.length?(m=e?-1:1,w()):m<0},k.reflectY=function(e){return arguments.length?(v=e?-1:1,w()):v<0},k.fitExtent=function(e,t){return(0,s.fitExtent)(k,e,t)},k.fitSize=function(e,t){return(0,s.fitSize)(k,e,t)},k.fitWidth=function(e,t){return(0,s.fitWidth)(k,e,t)},k.fitHeight=function(e,t){return(0,s.fitHeight)(k,e,t)},k};var i=l(e("../clip/rectangle.js")),r=l(e("../identity.js")),a=e("../transform.js"),s=e("./fit.js"),o=e("../math.js");function l(e){return e&&e.__esModule?e:{default:e}}},{"../clip/rectangle.js":476,"../identity.js":483,"../math.js":487,"../transform.js":522,"./fit.js":510}],513:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return v((function(){return e}))()},n.projectionMutator=v;var i=f(e("../clip/antimeridian.js")),r=f(e("../clip/circle.js")),a=f(e("../clip/rectangle.js")),s=f(e("../compose.js")),o=f(e("../identity.js")),l=e("../math.js"),u=e("../rotation.js"),c=e("../transform.js"),d=e("./fit.js"),h=f(e("./resample.js"));function f(e){return e&&e.__esModule?e:{default:e}}var p=(0,c.transformer)({point:function(e,t){this.stream.point(e*l.radians,t*l.radians)}});function m(e,t,n,i,r,a){if(!a)return function(e,t,n,i,r){function a(a,s){return[t+e*(a*=i),n-e*(s*=r)]}return a.invert=function(a,s){return[(a-t)/e*i,(n-s)/e*r]},a}(e,t,n,i,r);var s=(0,l.cos)(a),o=(0,l.sin)(a),u=s*e,c=o*e,d=s/e,h=o/e,f=(o*n-s*t)/e,p=(o*t+s*n)/e;function m(e,a){return[u*(e*=i)-c*(a*=r)+t,n-c*e-u*a]}return m.invert=function(e,t){return[i*(d*e-h*t+f),r*(p-h*e-d*t)]},m}function v(e){var t,n,f,v,y,g,_,b,j,x,w=150,k=480,S=250,P=0,M=0,O=0,L=0,E=0,A=0,C=1,T=1,D=null,I=i.default,N=null,z=o.default,q=.5;function R(e){return b(e[0]*l.radians,e[1]*l.radians)}function B(e){return(e=b.invert(e[0],e[1]))&&[e[0]*l.degrees,e[1]*l.degrees]}function F(){var e=m(w,0,0,C,T,A).apply(null,t(P,M)),i=m(w,k-e[0],S-e[1],C,T,A);return n=(0,u.rotateRadians)(O,L,E),_=(0,s.default)(t,i),b=(0,s.default)(n,_),g=(0,h.default)(_,q),H()}function H(){return j=x=null,R}return R.stream=function(e){return j&&x===e?j:j=p(function(e){return(0,c.transformer)({point:function(t,n){var i=e(t,n);return this.stream.point(i[0],i[1])}})}(n)(I(g(z(x=e)))))},R.preclip=function(e){return arguments.length?(I=e,D=void 0,H()):I},R.postclip=function(e){return arguments.length?(z=e,N=f=v=y=null,H()):z},R.clipAngle=function(e){return arguments.length?(I=+e?(0,r.default)(D=e*l.radians):(D=null,i.default),H()):D*l.degrees},R.clipExtent=function(e){return arguments.length?(z=null==e?(N=f=v=y=null,o.default):(0,a.default)(N=+e[0][0],f=+e[0][1],v=+e[1][0],y=+e[1][1]),H()):null==N?null:[[N,f],[v,y]]},R.scale=function(e){return arguments.length?(w=+e,F()):w},R.translate=function(e){return arguments.length?(k=+e[0],S=+e[1],F()):[k,S]},R.center=function(e){return arguments.length?(P=e[0]%360*l.radians,M=e[1]%360*l.radians,F()):[P*l.degrees,M*l.degrees]},R.rotate=function(e){return arguments.length?(O=e[0]%360*l.radians,L=e[1]%360*l.radians,E=e.length>2?e[2]%360*l.radians:0,F()):[O*l.degrees,L*l.degrees,E*l.degrees]},R.angle=function(e){return arguments.length?(A=e%360*l.radians,F()):A*l.degrees},R.reflectX=function(e){return arguments.length?(C=e?-1:1,F()):C<0},R.reflectY=function(e){return arguments.length?(T=e?-1:1,F()):T<0},R.precision=function(e){return arguments.length?(g=(0,h.default)(_,q=e*e),H()):(0,l.sqrt)(q)},R.fitExtent=function(e,t){return(0,d.fitExtent)(R,e,t)},R.fitSize=function(e,t){return(0,d.fitSize)(R,e,t)},R.fitWidth=function(e,t){return(0,d.fitWidth)(R,e,t)},R.fitHeight=function(e,t){return(0,d.fitHeight)(R,e,t)},function(){return t=e.apply(this,arguments),R.invert=t.invert&&B,F()}}},{"../clip/antimeridian.js":470,"../clip/circle.js":472,"../clip/rectangle.js":476,"../compose.js":478,"../identity.js":483,"../math.js":487,"../rotation.js":520,"../transform.js":522,"./fit.js":510,"./resample.js":517}],514:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return l(o).scale(961/i.tau)},n.mercatorProjection=l,n.mercatorRaw=o;var i=e("../math.js"),r=s(e("../rotation.js")),a=s(e("./index.js"));function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return[e,(0,i.log)((0,i.tan)((i.halfPi+t)/2))]}function l(e){var t,n,s,l=(0,a.default)(e),u=l.center,c=l.scale,d=l.translate,h=l.clipExtent,f=null;function p(){var a=i.pi*c(),u=l((0,r.default)(l.rotate()).invert([0,0]));return h(null==f?[[u[0]-a,u[1]-a],[u[0]+a,u[1]+a]]:e===o?[[Math.max(u[0]-a,f),t],[Math.min(u[0]+a,n),s]]:[[f,Math.max(u[1]-a,t)],[n,Math.min(u[1]+a,s)]])}return l.scale=function(e){return arguments.length?(c(e),p()):c()},l.translate=function(e){return arguments.length?(d(e),p()):d()},l.center=function(e){return arguments.length?(u(e),p()):u()},l.clipExtent=function(e){return arguments.length?(null==e?f=t=n=s=null:(f=+e[0][0],t=+e[0][1],n=+e[1][0],s=+e[1][1]),p()):null==f?null:[[f,t],[n,s]]},p()}o.invert=function(e,t){return[e,2*(0,i.atan)((0,i.exp)(t))-i.halfPi]}},{"../math.js":487,"../rotation.js":520,"./index.js":513}],515:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return(0,r.default)(s).scale(175.295)},n.naturalEarth1Raw=s;var i,r=(i=e("./index.js"))&&i.__esModule?i:{default:i},a=e("../math.js");function s(e,t){var n=t*t,i=n*n;return[e*(.8707-.131979*n+i*(i*(.003971*n-.001529*i)-.013791)),t*(1.007226+n*(.015085+i*(.028874*n-.044475-.005916*i)))]}s.invert=function(e,t){var n,i=t,r=25;do{var s=i*i,o=s*s;i-=n=(i*(1.007226+s*(.015085+o*(.028874*s-.044475-.005916*o)))-t)/(1.007226+s*(.045255+o*(.259866*s-.311325-.005916*11*o)))}while((0,a.abs)(n)>a.epsilon&&--r>0);return[e/(.8707+(s=i*i)*(s*(s*s*s*(.003971-.001529*s)-.013791)-.131979)),i]}},{"../math.js":487,"./index.js":513}],516:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return(0,s.default)(o).scale(249.5).clipAngle(90+r.epsilon)},n.orthographicRaw=o;var i,r=e("../math.js"),a=e("./azimuthal.js"),s=(i=e("./index.js"))&&i.__esModule?i:{default:i};function o(e,t){return[(0,r.cos)(t)*(0,r.sin)(e),(0,r.sin)(t)]}o.invert=(0,a.azimuthalInvert)(r.asin)},{"../math.js":487,"./azimuthal.js":500,"./index.js":513}],517:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){return+t?function(e,t){function n(i,a,o,l,u,c,d,h,f,p,m,v,y,g){var _=d-i,b=h-a,j=_*_+b*b;if(j>4*t&&y--){var x=l+p,w=u+m,k=c+v,S=(0,r.sqrt)(x*x+w*w+k*k),P=(0,r.asin)(k/=S),M=(0,r.abs)((0,r.abs)(k)-1)<r.epsilon||(0,r.abs)(o-f)<r.epsilon?(o+f)/2:(0,r.atan2)(w,x),O=e(M,P),L=O[0],E=O[1],A=L-i,C=E-a,T=b*A-_*C;(T*T/j>t||(0,r.abs)((_*A+b*C)/j-.5)>.3||l*p+u*m+c*v<s)&&(n(i,a,o,l,u,c,L,E,M,x/=S,w/=S,k,y,g),g.point(L,E),n(L,E,M,x,w,k,d,h,f,p,m,v,y,g))}}return function(t){var r,a,s,o,l,u,c,d,h,f,p,m,v={point:y,lineStart:g,lineEnd:b,polygonStart:function(){t.polygonStart(),v.lineStart=j},polygonEnd:function(){t.polygonEnd(),v.lineStart=g}};function y(n,i){n=e(n,i),t.point(n[0],n[1])}function g(){d=NaN,v.point=_,t.lineStart()}function _(r,a){var s=(0,i.cartesian)([r,a]),o=e(r,a);n(d,h,c,f,p,m,d=o[0],h=o[1],c=r,f=s[0],p=s[1],m=s[2],16,t),t.point(d,h)}function b(){v.point=y,t.lineEnd()}function j(){g(),v.point=x,v.lineEnd=w}function x(e,t){_(r=e,t),a=d,s=h,o=f,l=p,u=m,v.point=_}function w(){n(d,h,c,f,p,m,a,s,r,o,l,u,16,t),v.lineEnd=b,b()}return v}}(e,t):function(e){return(0,a.transformer)({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)};var i=e("../cartesian.js"),r=e("../math.js"),a=e("../transform.js"),s=(0,r.cos)(30*r.radians)},{"../cartesian.js":467,"../math.js":487,"../transform.js":522}],518:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return(0,s.default)(o).scale(250).clipAngle(142)},n.stereographicRaw=o;var i,r=e("../math.js"),a=e("./azimuthal.js"),s=(i=e("./index.js"))&&i.__esModule?i:{default:i};function o(e,t){var n=(0,r.cos)(t),i=1+(0,r.cos)(e)*n;return[n*(0,r.sin)(e)/i,(0,r.sin)(t)/i]}o.invert=(0,a.azimuthalInvert)((function(e){return 2*(0,r.atan)(e)}))},{"../math.js":487,"./azimuthal.js":500,"./index.js":513}],519:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=(0,r.mercatorProjection)(a),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90]).scale(159.155)},n.transverseMercatorRaw=a;var i=e("../math.js"),r=e("./mercator.js");function a(e,t){return[(0,i.log)((0,i.tan)((i.halfPi+t)/2)),-e]}a.invert=function(e,t){return[-t,2*(0,i.atan)((0,i.exp)(e))-i.halfPi]}},{"../math.js":487,"./mercator.js":514}],520:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){function t(t){return(t=e(t[0]*a.radians,t[1]*a.radians))[0]*=a.degrees,t[1]*=a.degrees,t}return e=o(e[0]*a.radians,e[1]*a.radians,e.length>2?e[2]*a.radians:0),t.invert=function(t){return(t=e.invert(t[0]*a.radians,t[1]*a.radians))[0]*=a.degrees,t[1]*=a.degrees,t},t},n.rotateRadians=o;var i,r=(i=e("./compose.js"))&&i.__esModule?i:{default:i},a=e("./math.js");function s(e,t){return[(0,a.abs)(e)>a.pi?e+Math.round(-e/a.tau)*a.tau:e,t]}function o(e,t,n){return(e%=a.tau)?t||n?(0,r.default)(u(e),c(t,n)):u(e):t||n?c(t,n):s}function l(e){return function(t,n){return[(t+=e)>a.pi?t-a.tau:t<-a.pi?t+a.tau:t,n]}}function u(e){var t=l(e);return t.invert=l(-e),t}function c(e,t){var n=(0,a.cos)(e),i=(0,a.sin)(e),r=(0,a.cos)(t),s=(0,a.sin)(t);function o(e,t){var o=(0,a.cos)(t),l=(0,a.cos)(e)*o,u=(0,a.sin)(e)*o,c=(0,a.sin)(t),d=c*n+l*i;return[(0,a.atan2)(u*r-d*s,l*n-c*i),(0,a.asin)(d*r+u*s)]}return o.invert=function(e,t){var o=(0,a.cos)(t),l=(0,a.cos)(e)*o,u=(0,a.sin)(e)*o,c=(0,a.sin)(t),d=c*r-u*s;return[(0,a.atan2)(u*r+c*s,l*n+d*i),(0,a.asin)(d*n-l*i)]},o}s.invert=s},{"./compose.js":478,"./math.js":487}],521:[function(e,t,n){"use strict";function i(e,t){e&&a.hasOwnProperty(e.type)&&a[e.type](e,t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){e&&r.hasOwnProperty(e.type)?r[e.type](e,t):i(e,t)};var r={Feature:function(e,t){i(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,a=n.length;++r<a;)i(n[r].geometry,t)}},a={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)e=n[i],t.point(e[0],e[1],e[2])},LineString:function(e,t){s(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)s(n[i],t,0)},Polygon:function(e,t){o(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)o(n[i],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,a=n.length;++r<a;)i(n[r],t)}};function s(e,t,n){var i,r=-1,a=e.length-n;for(t.lineStart();++r<a;)i=e[r],t.point(i[0],i[1],i[2]);t.lineEnd()}function o(e,t){var n=-1,i=e.length;for(t.polygonStart();++n<i;)s(e[n],t,1);t.polygonEnd()}},{}],522:[function(e,t,n){"use strict";function i(e){return function(t){var n=new r;for(var i in e)n[i]=e[i];return n.stream=t,n}}function r(){}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return{stream:i(e)}},n.transformer=i,r.prototype={constructor:r,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},{}],523:[function(e,t,n){"use strict";function i(e){if("function"!=typeof e)throw new Error;return e}Object.defineProperty(n,"__esModule",{value:!0}),n.optional=function(e){return null==e?null:i(e)},n.required=i},{}],524:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return"object"==typeof e&&"length"in e?e:Array.from(e)},n.shuffle=function(e,t){let n,i,r=e.length;for(;r;)i=t()*r--|0,n=e[r],e[r]=e[i],e[i]=n;return e}},{}],525:[function(e,t,n){"use strict";function i(e,t){return e.parent===t.parent?1:2}function r(e,t){return e+t.x}function a(e,t){return Math.max(e,t.y)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=i,t=1,n=1,s=!1;function o(i){var o,l=0;i.eachAfter((function(t){var n=t.children;n?(t.x=function(e){return e.reduce(r,0)/e.length}(n),t.y=function(e){return 1+e.reduce(a,0)}(n)):(t.x=o?l+=e(t,o):0,t.y=0,o=t)}));var u=function(e){var t;for(;t=e.children;)e=t[0];return e}(i),c=function(e){var t;for(;t=e.children;)e=t[t.length-1];return e}(i),d=u.x-e(u,c)/2,h=c.x+e(c,u)/2;return i.eachAfter(s?function(e){e.x=(e.x-i.x)*t,e.y=(i.y-e.y)*n}:function(e){e.x=(e.x-d)/(h-d)*t,e.y=(1-(i.y?e.y/i.y:1))*n})}return o.separation=function(t){return arguments.length?(e=t,o):e},o.size=function(e){return arguments.length?(s=!1,t=+e[0],n=+e[1],o):s?null:[t,n]},o.nodeSize=function(e){return arguments.length?(s=!0,t=+e[0],n=+e[1],o):s?[t,n]:null},o}},{}],526:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.constantZero=function(){return 0},n.default=function(e){return function(){return e}}},{}],527:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=this,t=[e];for(;e=e.parent;)t.push(e);return t}},{}],528:[function(e,t,n){"use strict";function i(e){var t=0,n=e.children,i=n&&n.length;if(i)for(;--i>=0;)t+=n[i].value;else t=1;e.value=t}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return this.eachAfter(i)}},{}],529:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return Array.from(this)}},{}],530:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){let n=-1;for(const i of this)e.call(t,i,++n,this);return this}},{}],531:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){var n,i,r,a=this,s=[a],o=[],l=-1;for(;a=s.pop();)if(o.push(a),n=a.children)for(i=0,r=n.length;i<r;++i)s.push(n[i]);for(;a=o.pop();)e.call(t,a,++l,this);return this}},{}],532:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){var n,i,r=this,a=[r],s=-1;for(;r=a.pop();)if(e.call(t,r,++s,this),n=r.children)for(i=n.length-1;i>=0;--i)a.push(n[i]);return this}},{}],533:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){let n=-1;for(const i of this)if(e.call(t,i,++n,this))return i}},{}],534:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Node=x,n.computeHeight=j,n.default=y;var i=v(e("./count.js")),r=v(e("./each.js")),a=v(e("./eachBefore.js")),s=v(e("./eachAfter.js")),o=v(e("./find.js")),l=v(e("./sum.js")),u=v(e("./sort.js")),c=v(e("./path.js")),d=v(e("./ancestors.js")),h=v(e("./descendants.js")),f=v(e("./leaves.js")),p=v(e("./links.js")),m=v(e("./iterator.js"));function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){e instanceof Map?(e=[void 0,e],void 0===t&&(t=_)):void 0===t&&(t=g);for(var n,i,r,a,s,o=new x(e),l=[o];n=l.pop();)if((r=t(n.data))&&(s=(r=Array.from(r)).length))for(n.children=r,a=s-1;a>=0;--a)l.push(i=r[a]=new x(r[a])),i.parent=n,i.depth=n.depth+1;return o.eachBefore(j)}function g(e){return e.children}function _(e){return Array.isArray(e)?e[1]:null}function b(e){void 0!==e.data.value&&(e.value=e.data.value),e.data=e.data.data}function j(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function x(e){this.data=e,this.depth=this.height=0,this.parent=null}x.prototype=y.prototype={constructor:x,count:i.default,each:r.default,eachAfter:s.default,eachBefore:a.default,find:o.default,sum:l.default,sort:u.default,path:c.default,ancestors:d.default,descendants:h.default,leaves:f.default,links:p.default,copy:function(){return y(this).eachBefore(b)},[Symbol.iterator]:m.default}},{"./ancestors.js":527,"./count.js":528,"./descendants.js":529,"./each.js":530,"./eachAfter.js":531,"./eachBefore.js":532,"./find.js":533,"./iterator.js":535,"./leaves.js":536,"./links.js":537,"./path.js":538,"./sort.js":539,"./sum.js":540}],535:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function*(){var e,t,n,i,r=this,a=[r];do{for(e=a.reverse(),a=[];r=e.pop();)if(yield r,t=r.children)for(n=0,i=t.length;n<i;++n)a.push(t[n])}while(a.length)}},{}],536:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=[];return this.eachBefore((function(t){t.children||e.push(t)})),e}},{}],537:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=this,t=[];return e.each((function(n){n!==e&&t.push({source:n.parent,target:n})})),t}},{}],538:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),i=t.ancestors(),r=null;e=n.pop(),t=i.pop();for(;e===t;)r=e,e=n.pop(),t=i.pop();return r}(t,e),i=[t];for(;t!==n;)t=t.parent,i.push(t);var r=i.length;for(;e!==n;)i.splice(r,0,e),e=e.parent;return i}},{}],539:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return this.eachBefore((function(t){t.children&&t.children.sort(e)}))}},{}],540:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return this.eachAfter((function(t){for(var n=+e(t.data)||0,i=t.children,r=i&&i.length;--r>=0;)n+=i[r].value;t.value=n}))}},{}],541:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Node",{enumerable:!0,get:function(){return r.Node}}),Object.defineProperty(n,"cluster",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"hierarchy",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"pack",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"packEnclose",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"packSiblings",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(n,"partition",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(n,"stratify",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(n,"tree",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(n,"treemap",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(n,"treemapBinary",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(n,"treemapDice",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(n,"treemapResquarify",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(n,"treemapSlice",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(n,"treemapSliceDice",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(n,"treemapSquarify",{enumerable:!0,get:function(){return v.default}});var i=_(e("./cluster.js")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=r?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(e("./hierarchy/index.js")),a=_(e("./pack/index.js")),s=_(e("./pack/siblings.js")),o=_(e("./pack/enclose.js")),l=_(e("./partition.js")),u=_(e("./stratify.js")),c=_(e("./tree.js")),d=_(e("./treemap/index.js")),h=_(e("./treemap/binary.js")),f=_(e("./treemap/dice.js")),p=_(e("./treemap/slice.js")),m=_(e("./treemap/sliceDice.js")),v=_(e("./treemap/squarify.js")),y=_(e("./treemap/resquarify.js"));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function _(e){return e&&e.__esModule?e:{default:e}}},{"./cluster.js":525,"./hierarchy/index.js":534,"./pack/enclose.js":543,"./pack/index.js":544,"./pack/siblings.js":545,"./partition.js":546,"./stratify.js":547,"./tree.js":548,"./treemap/binary.js":549,"./treemap/dice.js":550,"./treemap/index.js":551,"./treemap/resquarify.js":552,"./treemap/slice.js":554,"./treemap/sliceDice.js":555,"./treemap/squarify.js":556}],542:[function(e,t,n){arguments[4][442][0].apply(n,arguments)},{dup:442}],543:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return s(e,(0,a.default)())},n.packEncloseRandom=s;var i,r=e("../array.js"),a=(i=e("../lcg.js"))&&i.__esModule?i:{default:i};function s(e,t){for(var n,i,a=0,s=(e=(0,r.shuffle)(Array.from(e),t)).length,l=[];a<s;)n=e[a],i&&u(i,n)?++a:(i=d(l=o(l,n)),a=0);return i}function o(e,t){var n,i;if(c(t,e))return[t];for(n=0;n<e.length;++n)if(l(t,e[n])&&c(h(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(i=n+1;i<e.length;++i)if(l(h(e[n],e[i]),t)&&l(h(e[n],t),e[i])&&l(h(e[i],t),e[n])&&c(f(e[n],e[i],t),e))return[e[n],e[i],t];throw new Error}function l(e,t){var n=e.r-t.r,i=t.x-e.x,r=t.y-e.y;return n<0||n*n<i*i+r*r}function u(e,t){var n=e.r-t.r+1e-9*Math.max(e.r,t.r,1),i=t.x-e.x,r=t.y-e.y;return n>0&&n*n>i*i+r*r}function c(e,t){for(var n=0;n<t.length;++n)if(!u(e,t[n]))return!1;return!0}function d(e){switch(e.length){case 1:return{x:(t=e[0]).x,y:t.y,r:t.r};case 2:return h(e[0],e[1]);case 3:return f(e[0],e[1],e[2])}var t}function h(e,t){var n=e.x,i=e.y,r=e.r,a=t.x,s=t.y,o=t.r,l=a-n,u=s-i,c=o-r,d=Math.sqrt(l*l+u*u);return{x:(n+a+l/d*c)/2,y:(i+s+u/d*c)/2,r:(d+r+o)/2}}function f(e,t,n){var i=e.x,r=e.y,a=e.r,s=t.x,o=t.y,l=t.r,u=n.x,c=n.y,d=n.r,h=i-s,f=i-u,p=r-o,m=r-c,v=l-a,y=d-a,g=i*i+r*r-a*a,_=g-s*s-o*o+l*l,b=g-u*u-c*c+d*d,j=f*p-h*m,x=(p*b-m*_)/(2*j)-i,w=(m*v-p*y)/j,k=(f*_-h*b)/(2*j)-r,S=(h*y-f*v)/j,P=w*w+S*S-1,M=2*(a+x*w+k*S),O=x*x+k*k-a*a,L=-(Math.abs(P)>1e-6?(M+Math.sqrt(M*M-4*P*O))/(2*P):O/M);return{x:i+x+w*L,y:r+k+S*L,r:L}}},{"../array.js":524,"../lcg.js":542}],544:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=null,t=1,n=1,i=a.constantZero;function o(r){const o=(0,s.default)();return r.x=t/2,r.y=n/2,e?r.eachBefore(c(e)).eachAfter(d(i,.5,o)).eachBefore(h(1)):r.eachBefore(c(u)).eachAfter(d(a.constantZero,1,o)).eachAfter(d(i,r.r/Math.min(t,n),o)).eachBefore(h(Math.min(t,n)/(2*r.r))),r}return o.radius=function(t){return arguments.length?(e=(0,r.optional)(t),o):e},o.size=function(e){return arguments.length?(t=+e[0],n=+e[1],o):[t,n]},o.padding=function(e){return arguments.length?(i="function"==typeof e?e:(0,a.default)(+e),o):i},o};var i,r=e("../accessors.js"),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=r?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(e("../constant.js")),s=(i=e("../lcg.js"))&&i.__esModule?i:{default:i},o=e("./siblings.js");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(e){return Math.sqrt(e.value)}function c(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function d(e,t,n){return function(i){if(r=i.children){var r,a,s,l=r.length,u=e(i)*t||0;if(u)for(a=0;a<l;++a)r[a].r+=u;if(s=(0,o.packSiblingsRandom)(r,n),u)for(a=0;a<l;++a)r[a].r-=u;i.r=s+u}}}function h(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}},{"../accessors.js":523,"../constant.js":526,"../lcg.js":542,"./siblings.js":545}],545:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return d(e,(0,r.default)()),e},n.packSiblingsRandom=d;var i=s(e("../array.js")),r=s(e("../lcg.js")),a=e("./enclose.js");function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){var i,r,a,s,o=e.x-t.x,l=e.y-t.y,u=o*o+l*l;u?(r=t.r+n.r,r*=r,s=e.r+n.r,r>(s*=s)?(i=(u+s-r)/(2*u),a=Math.sqrt(Math.max(0,s/u-i*i)),n.x=e.x-i*o-a*l,n.y=e.y-i*l+a*o):(i=(u+r-s)/(2*u),a=Math.sqrt(Math.max(0,r/u-i*i)),n.x=t.x+i*o-a*l,n.y=t.y+i*l+a*o)):(n.x=t.x+n.r,n.y=t.y)}function l(e,t){var n=e.r+t.r-1e-6,i=t.x-e.x,r=t.y-e.y;return n>0&&n*n>i*i+r*r}function u(e){var t=e._,n=e.next._,i=t.r+n.r,r=(t.x*n.r+n.x*t.r)/i,a=(t.y*n.r+n.y*t.r)/i;return r*r+a*a}function c(e){this._=e,this.next=null,this.previous=null}function d(e,t){if(!(d=(e=(0,i.default)(e)).length))return 0;var n,r,s,d,h,f,p,m,v,y,g;if((n=e[0]).x=0,n.y=0,!(d>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(d>2))return n.r+r.r;o(r,n,s=e[2]),n=new c(n),r=new c(r),s=new c(s),n.next=s.previous=r,r.next=n.previous=s,s.next=r.previous=n;e:for(p=3;p<d;++p){o(n._,r._,s=e[p]),s=new c(s),m=r.next,v=n.previous,y=r._.r,g=n._.r;do{if(y<=g){if(l(m._,s._)){r=m,n.next=r,r.previous=n,--p;continue e}y+=m._.r,m=m.next}else{if(l(v._,s._)){(n=v).next=r,r.previous=n,--p;continue e}g+=v._.r,v=v.previous}}while(m!==v.next);for(s.previous=n,s.next=r,n.next=r.previous=r=s,h=u(n);(s=s.next)!==r;)(f=u(s))<h&&(n=s,h=f);r=n.next}for(n=[r._],s=r;(s=s.next)!==r;)n.push(s._);for(s=(0,a.packEncloseRandom)(n,t),p=0;p<d;++p)(n=e[p]).x-=s.x,n.y-=s.y;return s.r}},{"../array.js":524,"../lcg.js":542,"./enclose.js":543}],546:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=1,t=1,n=0,a=!1;function s(s){var o=s.height+1;return s.x0=s.y0=n,s.x1=e,s.y1=t/o,s.eachBefore(function(e,t){return function(i){i.children&&(0,r.default)(i,i.x0,e*(i.depth+1)/t,i.x1,e*(i.depth+2)/t);var a=i.x0,s=i.y0,o=i.x1-n,l=i.y1-n;o<a&&(a=o=(a+o)/2),l<s&&(s=l=(s+l)/2),i.x0=a,i.y0=s,i.x1=o,i.y1=l}}(t,o)),a&&s.eachBefore(i.default),s}return s.round=function(e){return arguments.length?(a=!!e,s):a},s.size=function(n){return arguments.length?(e=+n[0],t=+n[1],s):[e,t]},s.padding=function(e){return arguments.length?(n=+e,s):n},s};var i=a(e("./treemap/round.js")),r=a(e("./treemap/dice.js"));function a(e){return e&&e.__esModule?e:{default:e}}},{"./treemap/dice.js":550,"./treemap/round.js":553}],547:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e,t=l,n=u;function h(i){var l,u,h,f,p,m,v,y,g=Array.from(i),_=t,b=n,j=new Map;if(null!=e){const t=g.map(((t,n)=>function(e){let t=(e=`${e}`).length;d(e,t-1)&&!d(e,t-2)&&(e=e.slice(0,-1));return"/"===e[0]?e:`/${e}`}(e(t,n,i)))),n=t.map(c),r=new Set(t).add("");for(const e of n)r.has(e)||(r.add(e),t.push(e),n.push(c(e)),g.push(o));_=(e,n)=>t[n],b=(e,t)=>n[t]}for(h=0,l=g.length;h<l;++h)u=g[h],m=g[h]=new r.Node(u),null!=(v=_(u,h,i))&&(v+="")&&(y=m.id=v,j.set(y,j.has(y)?s:m)),null!=(v=b(u,h,i))&&(v+="")&&(m.parent=v);for(h=0;h<l;++h)if(v=(m=g[h]).parent){if(!(p=j.get(v)))throw new Error("missing: "+v);if(p===s)throw new Error("ambiguous: "+v);p.children?p.children.push(m):p.children=[m],m.parent=p}else{if(f)throw new Error("multiple roots");f=m}if(!f)throw new Error("no root");if(null!=e){for(;f.data===o&&1===f.children.length;)f=f.children[0],--l;for(let e=g.length-1;e>=0&&(m=g[e],m.data===o);--e)m.data=null}if(f.parent=a,f.eachBefore((function(e){e.depth=e.parent.depth+1,--l})).eachBefore(r.computeHeight),f.parent=null,l>0)throw new Error("cycle");return f}return h.id=function(e){return arguments.length?(t=(0,i.optional)(e),h):t},h.parentId=function(e){return arguments.length?(n=(0,i.optional)(e),h):n},h.path=function(t){return arguments.length?(e=(0,i.optional)(t),h):e},h};var i=e("./accessors.js"),r=e("./hierarchy/index.js"),a={depth:-1},s={},o={};function l(e){return e.id}function u(e){return e.parentId}function c(e){let t=e.length;if(t<2)return"";for(;--t>1&&!d(e,t););return e.slice(0,t)}function d(e,t){if("/"===e[t]){let n=0;for(;t>0&&"\\"===e[--t];)++n;if(0==(1&n))return!0}return!1}},{"./accessors.js":523,"./hierarchy/index.js":534}],548:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=r,t=1,n=1,i=null;function c(r){var a=function(e){var t,n,i,r,a,s=new u(e,0),o=[s];for(;t=o.pop();)if(i=t._.children)for(t.children=new Array(a=i.length),r=a-1;r>=0;--r)o.push(n=t.children[r]=new u(i[r],r)),n.parent=t;return(s.parent=new u(null,0)).children=[s],s}(r);if(a.eachAfter(d),a.parent.m=-a.z,a.eachBefore(h),i)r.eachBefore(f);else{var s=r,o=r,l=r;r.eachBefore((function(e){e.x<s.x&&(s=e),e.x>o.x&&(o=e),e.depth>l.depth&&(l=e)}));var c=s===o?1:e(s,o)/2,p=c-s.x,m=t/(o.x+c+p),v=n/(l.depth||1);r.eachBefore((function(e){e.x=(e.x+p)*m,e.y=e.depth*v}))}return r}function d(t){var n=t.children,i=t.parent.children,r=t.i?i[t.i-1]:null;if(n){!function(e){var t,n=0,i=0,r=e.children,a=r.length;for(;--a>=0;)(t=r[a]).z+=n,t.m+=n,n+=t.s+(i+=t.c)}(t);var u=(n[0].z+n[n.length-1].z)/2;r?(t.z=r.z+e(t._,r._),t.m=t.z-u):t.z=u}else r&&(t.z=r.z+e(t._,r._));t.parent.A=function(t,n,i){if(n){for(var r,u=t,c=t,d=n,h=u.parent.children[0],f=u.m,p=c.m,m=d.m,v=h.m;d=s(d),u=a(u),d&&u;)h=a(h),(c=s(c)).a=t,(r=d.z+m-u.z-f+e(d._,u._))>0&&(o(l(d,t,i),t,r),f+=r,p+=r),m+=d.m,f+=u.m,v+=h.m,p+=c.m;d&&!s(c)&&(c.t=d,c.m+=m-p),u&&!a(h)&&(h.t=u,h.m+=f-v,i=t)}return i}(t,r,t.parent.A||i[0])}function h(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function f(e){e.x*=t,e.y=e.depth*n}return c.separation=function(t){return arguments.length?(e=t,c):e},c.size=function(e){return arguments.length?(i=!1,t=+e[0],n=+e[1],c):i?null:[t,n]},c.nodeSize=function(e){return arguments.length?(i=!0,t=+e[0],n=+e[1],c):i?[t,n]:null},c};var i=e("./hierarchy/index.js");function r(e,t){return e.parent===t.parent?1:2}function a(e){var t=e.children;return t?t[0]:e.t}function s(e){var t=e.children;return t?t[t.length-1]:e.t}function o(e,t,n){var i=n/(t.i-e.i);t.c-=i,t.s+=n,e.c+=i,t.z+=n,t.m+=n}function l(e,t,n){return e.a.parent===t.parent?e.a:n}function u(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}u.prototype=Object.create(i.Node.prototype)},{"./hierarchy/index.js":534}],549:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n,i,r){var a,s,o=e.children,l=o.length,u=new Array(l+1);for(u[0]=s=a=0;a<l;++a)u[a+1]=s+=o[a].value;!function e(t,n,i,r,a,s,l){if(t>=n-1){var c=o[t];return c.x0=r,c.y0=a,c.x1=s,void(c.y1=l)}for(var d=u[t],h=i/2+d,f=t+1,p=n-1;f<p;){var m=f+p>>>1;u[m]<h?f=m+1:p=m}h-u[f-1]<u[f]-h&&t+1<f&&--f;var v=u[f]-d,y=i-v;if(s-r>l-a){var g=i?(r*y+s*v)/i:s;e(t,f,v,r,a,g,l),e(f,n,y,g,a,s,l)}else{var _=i?(a*y+l*v)/i:l;e(t,f,v,r,a,s,_),e(f,n,y,r,_,s,l)}}(0,l,e.value,t,n,i,r)}},{}],550:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n,i,r){var a,s=e.children,o=-1,l=s.length,u=e.value&&(i-t)/e.value;for(;++o<l;)(a=s[o]).y0=n,a.y1=r,a.x0=t,a.x1=t+=a.value*u}},{}],551:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=r.default,t=!1,n=1,o=1,l=[0],u=s.constantZero,c=s.constantZero,d=s.constantZero,h=s.constantZero,f=s.constantZero;function p(e){return e.x0=e.y0=0,e.x1=n,e.y1=o,e.eachBefore(m),l=[0],t&&e.eachBefore(i.default),e}function m(t){var n=l[t.depth],i=t.x0+n,r=t.y0+n,a=t.x1-n,s=t.y1-n;a<i&&(i=a=(i+a)/2),s<r&&(r=s=(r+s)/2),t.x0=i,t.y0=r,t.x1=a,t.y1=s,t.children&&(n=l[t.depth+1]=u(t)/2,i+=f(t)-n,r+=c(t)-n,(a-=d(t)-n)<i&&(i=a=(i+a)/2),(s-=h(t)-n)<r&&(r=s=(r+s)/2),e(t,i,r,a,s))}return p.round=function(e){return arguments.length?(t=!!e,p):t},p.size=function(e){return arguments.length?(n=+e[0],o=+e[1],p):[n,o]},p.tile=function(t){return arguments.length?(e=(0,a.required)(t),p):e},p.padding=function(e){return arguments.length?p.paddingInner(e).paddingOuter(e):p.paddingInner()},p.paddingInner=function(e){return arguments.length?(u="function"==typeof e?e:(0,s.default)(+e),p):u},p.paddingOuter=function(e){return arguments.length?p.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):p.paddingTop()},p.paddingTop=function(e){return arguments.length?(c="function"==typeof e?e:(0,s.default)(+e),p):c},p.paddingRight=function(e){return arguments.length?(d="function"==typeof e?e:(0,s.default)(+e),p):d},p.paddingBottom=function(e){return arguments.length?(h="function"==typeof e?e:(0,s.default)(+e),p):h},p.paddingLeft=function(e){return arguments.length?(f="function"==typeof e?e:(0,s.default)(+e),p):f},p};var i=l(e("./round.js")),r=l(e("./squarify.js")),a=e("../accessors.js"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=r?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(e("../constant.js"));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function l(e){return e&&e.__esModule?e:{default:e}}},{"../accessors.js":523,"../constant.js":526,"./round.js":553,"./squarify.js":556}],552:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=s(e("./dice.js")),r=s(e("./slice.js")),a=e("./squarify.js");function s(e){return e&&e.__esModule?e:{default:e}}var o=function e(t){function n(e,n,s,o,l){if((u=e._squarify)&&u.ratio===t)for(var u,c,d,h,f,p=-1,m=u.length,v=e.value;++p<m;){for(d=(c=u[p]).children,h=c.value=0,f=d.length;h<f;++h)c.value+=d[h].value;c.dice?(0,i.default)(c,n,s,o,v?s+=(l-s)*c.value/v:l):(0,r.default)(c,n,s,v?n+=(o-n)*c.value/v:o,l),v-=c.value}else e._squarify=u=(0,a.squarifyRatio)(t,e,n,s,o,l),u.ratio=t}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(a.phi);n.default=o},{"./dice.js":550,"./slice.js":554,"./squarify.js":556}],553:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}},{}],554:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n,i,r){var a,s=e.children,o=-1,l=s.length,u=e.value&&(r-n)/e.value;for(;++o<l;)(a=s[o]).x0=t,a.x1=i,a.y0=n,a.y1=n+=a.value*u}},{}],555:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n,a,s){(1&e.depth?r.default:i.default)(e,t,n,a,s)};var i=a(e("./dice.js")),r=a(e("./slice.js"));function a(e){return e&&e.__esModule?e:{default:e}}},{"./dice.js":550,"./slice.js":554}],556:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.phi=n.default=void 0,n.squarifyRatio=o;var i=a(e("./dice.js")),r=a(e("./slice.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s=(1+Math.sqrt(5))/2;function o(e,t,n,a,s,o){for(var l,u,c,d,h,f,p,m,v,y,g,_=[],b=t.children,j=0,x=0,w=b.length,k=t.value;j<w;){c=s-n,d=o-a;do{h=b[x++].value}while(!h&&x<w);for(f=p=h,g=h*h*(y=Math.max(d/c,c/d)/(k*e)),v=Math.max(p/g,g/f);x<w;++x){if(h+=u=b[x].value,u<f&&(f=u),u>p&&(p=u),g=h*h*y,(m=Math.max(p/g,g/f))>v){h-=u;break}v=m}_.push(l={value:h,dice:c<d,children:b.slice(j,x)}),l.dice?(0,i.default)(l,n,a,s,k?a+=d*h/k:o):(0,r.default)(l,n,a,k?n+=c*h/k:s,o),k-=h,j=x}return _}n.phi=s;var l=function e(t){function n(e,n,i,r,a){o(t,e,n,i,r,a)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(s);n.default=l},{"./dice.js":550,"./slice.js":554}],557:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){return((0,a.isNumberArray)(t)?a.default:o)(e,t)},n.genericArray=o;var i,r=(i=e("./value.js"))&&i.__esModule?i:{default:i},a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(e("./numberArray.js"));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function o(e,t){var n,i=t?t.length:0,a=e?Math.min(i,e.length):0,s=new Array(a),o=new Array(i);for(n=0;n<a;++n)s[n]=(0,r.default)(e[n],t[n]);for(;n<i;++n)o[n]=t[n];return function(e){for(n=0;n<a;++n)o[n]=s[n](e);return o}}},{"./numberArray.js":571,"./value.js":581}],558:[function(e,t,n){"use strict";function i(e,t,n,i,r){var a=e*e,s=a*e;return((1-3*e+3*a-s)*t+(4-6*a+3*s)*n+(1+3*e+3*a-3*s)*i+s*r)/6}Object.defineProperty(n,"__esModule",{value:!0}),n.basis=i,n.default=function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[r],s=e[r+1],o=r>0?e[r-1]:2*a-s,l=r<t-1?e[r+2]:2*s-a;return i((n-r/t)*t,o,a,s,l)}}},{}],559:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),a=e[(r+t-1)%t],s=e[r%t],o=e[(r+1)%t],l=e[(r+2)%t];return(0,i.basis)((n-r/t)*t,a,s,o,l)}};var i=e("./basis.js")},{"./basis.js":558}],560:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=s,n.gamma=function(e){return 1==(e=+e)?s:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}(t,n,e):(0,r.default)(isNaN(t)?n:t)}},n.hue=function(e,t){var n=t-e;return n?a(e,n>180||n<-180?n-360*Math.round(n/360):n):(0,r.default)(isNaN(e)?t:e)};var i,r=(i=e("./constant.js"))&&i.__esModule?i:{default:i};function a(e,t){return function(n){return e+n*t}}function s(e,t){var n=t-e;return n?a(e,n):(0,r.default)(isNaN(e)?t:e)}},{"./constant.js":561}],561:[function(e,t,n){arguments[4][374][0].apply(n,arguments)},{dup:374}],562:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.cubehelixLong=void 0;var i=e("d3-color"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=e[s]}i.default=e,n&&n.set(e,i);return i}(e("./color.js"));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function s(e){return function t(n){function a(t,a){var s=e((t=(0,i.cubehelix)(t)).h,(a=(0,i.cubehelix)(a)).h),o=(0,r.default)(t.s,a.s),l=(0,r.default)(t.l,a.l),u=(0,r.default)(t.opacity,a.opacity);return function(e){return t.h=s(e),t.s=o(e),t.l=l(Math.pow(e,n)),t.opacity=u(e),t+""}}return n=+n,a.gamma=t,a}(1)}var o=s(r.hue);n.default=o;var l=s(r.default);n.cubehelixLong=l},{"./color.js":560,"d3-color":387}],563:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}},{}],564:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}},{}],565:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.hclLong=n.default=void 0;var i=e("d3-color"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=e[s]}i.default=e,n&&n.set(e,i);return i}(e("./color.js"));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function s(e){return function(t,n){var a=e((t=(0,i.hcl)(t)).h,(n=(0,i.hcl)(n)).h),s=(0,r.default)(t.c,n.c),o=(0,r.default)(t.l,n.l),l=(0,r.default)(t.opacity,n.opacity);return function(e){return t.h=a(e),t.c=s(e),t.l=o(e),t.opacity=l(e),t+""}}}var o=s(r.hue);n.default=o;var l=s(r.default);n.hclLong=l},{"./color.js":560,"d3-color":387}],566:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.hslLong=n.default=void 0;var i=e("d3-color"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=e[s]}i.default=e,n&&n.set(e,i);return i}(e("./color.js"));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function s(e){return function(t,n){var a=e((t=(0,i.hsl)(t)).h,(n=(0,i.hsl)(n)).h),s=(0,r.default)(t.s,n.s),o=(0,r.default)(t.l,n.l),l=(0,r.default)(t.opacity,n.opacity);return function(e){return t.h=a(e),t.s=s(e),t.l=o(e),t.opacity=l(e),t+""}}}var o=s(r.hue);n.default=o;var l=s(r.default);n.hslLong=l},{"./color.js":560,"d3-color":387}],567:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){var n=(0,i.hue)(+e,+t);return function(e){var t=n(e);return t-360*Math.floor(t/360)}};var i=e("./color.js")},{"./color.js":560}],568:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"interpolate",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"interpolateArray",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"interpolateBasis",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"interpolateBasisClosed",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(n,"interpolateCubehelix",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(n,"interpolateCubehelixLong",{enumerable:!0,get:function(){return j.cubehelixLong}}),Object.defineProperty(n,"interpolateDate",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"interpolateDiscrete",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(n,"interpolateHcl",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(n,"interpolateHclLong",{enumerable:!0,get:function(){return b.hclLong}}),Object.defineProperty(n,"interpolateHsl",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(n,"interpolateHslLong",{enumerable:!0,get:function(){return g.hslLong}}),Object.defineProperty(n,"interpolateHue",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(n,"interpolateLab",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(n,"interpolateNumber",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(n,"interpolateNumberArray",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(n,"interpolateObject",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(n,"interpolateRgb",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(n,"interpolateRgbBasis",{enumerable:!0,get:function(){return y.rgbBasis}}),Object.defineProperty(n,"interpolateRgbBasisClosed",{enumerable:!0,get:function(){return y.rgbBasisClosed}}),Object.defineProperty(n,"interpolateRound",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(n,"interpolateString",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(n,"interpolateTransformCss",{enumerable:!0,get:function(){return m.interpolateTransformCss}}),Object.defineProperty(n,"interpolateTransformSvg",{enumerable:!0,get:function(){return m.interpolateTransformSvg}}),Object.defineProperty(n,"interpolateZoom",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(n,"piecewise",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(n,"quantize",{enumerable:!0,get:function(){return w.default}});var i=P(e("./value.js")),r=P(e("./array.js")),a=P(e("./basis.js")),s=P(e("./basisClosed.js")),o=P(e("./date.js")),l=P(e("./discrete.js")),u=P(e("./hue.js")),c=P(e("./number.js")),d=P(e("./numberArray.js")),h=P(e("./object.js")),f=P(e("./round.js")),p=P(e("./string.js")),m=e("./transform/index.js"),v=P(e("./zoom.js")),y=S(e("./rgb.js")),g=S(e("./hsl.js")),_=P(e("./lab.js")),b=S(e("./hcl.js")),j=S(e("./cubehelix.js")),x=P(e("./piecewise.js")),w=P(e("./quantize.js"));function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=r?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}function P(e){return e&&e.__esModule?e:{default:e}}},{"./array.js":557,"./basis.js":558,"./basisClosed.js":559,"./cubehelix.js":562,"./date.js":563,"./discrete.js":564,"./hcl.js":565,"./hsl.js":566,"./hue.js":567,"./lab.js":569,"./number.js":570,"./numberArray.js":571,"./object.js":572,"./piecewise.js":573,"./quantize.js":574,"./rgb.js":575,"./round.js":576,"./string.js":577,"./transform/index.js":579,"./value.js":581,"./zoom.js":582}],569:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){var n=(0,a.default)((e=(0,r.lab)(e)).l,(t=(0,r.lab)(t)).l),i=(0,a.default)(e.a,t.a),s=(0,a.default)(e.b,t.b),o=(0,a.default)(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=i(t),e.b=s(t),e.opacity=o(t),e+""}};var i,r=e("d3-color"),a=(i=e("./color.js"))&&i.__esModule?i:{default:i}},{"./color.js":560,"d3-color":387}],570:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}},{}],571:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){t||(t=[]);var n,i=e?Math.min(t.length,e.length):0,r=t.slice();return function(a){for(n=0;n<i;++n)r[n]=e[n]*(1-a)+t[n]*a;return r}},n.isNumberArray=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}},{}],572:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){var n,i={},a={};null!==e&&"object"==typeof e||(e={});null!==t&&"object"==typeof t||(t={});for(n in t)n in e?i[n]=(0,r.default)(e[n],t[n]):a[n]=t[n];return function(e){for(n in i)a[n]=i[n](e);return a}};var i,r=(i=e("./value.js"))&&i.__esModule?i:{default:i}},{"./value.js":581}],573:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){void 0===t&&(t=e,e=r.default);var n=0,i=t.length-1,a=t[0],s=new Array(i<0?0:i);for(;n<i;)s[n]=e(a,a=t[++n]);return function(e){var t=Math.max(0,Math.min(i-1,Math.floor(e*=i)));return s[t](e-t)}};var i,r=(i=e("./value.js"))&&i.__esModule?i:{default:i}},{"./value.js":581}],574:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e(i/(t-1));return n}},{}],575:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.rgbBasisClosed=n.rgbBasis=n.default=void 0;var i=e("d3-color"),r=l(e("./basis.js")),a=l(e("./basisClosed.js")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=r?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(e("./color.js"));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function l(e){return e&&e.__esModule?e:{default:e}}var u=function e(t){var n=(0,s.gamma)(t);function r(e,t){var r=n((e=(0,i.rgb)(e)).r,(t=(0,i.rgb)(t)).r),a=n(e.g,t.g),o=n(e.b,t.b),l=(0,s.default)(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=a(t),e.b=o(t),e.opacity=l(t),e+""}}return r.gamma=e,r}(1);function c(e){return function(t){var n,r,a=t.length,s=new Array(a),o=new Array(a),l=new Array(a);for(n=0;n<a;++n)r=(0,i.rgb)(t[n]),s[n]=r.r||0,o[n]=r.g||0,l[n]=r.b||0;return s=e(s),o=e(o),l=e(l),r.opacity=1,function(e){return r.r=s(e),r.g=o(e),r.b=l(e),r+""}}}n.default=u;var d=c(r.default);n.rgbBasis=d;var h=c(a.default);n.rgbBasisClosed=h},{"./basis.js":558,"./basisClosed.js":559,"./color.js":560,"d3-color":387}],576:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}},{}],577:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){var n,i,o,l=a.lastIndex=s.lastIndex=0,u=-1,c=[],d=[];e+="",t+="";for(;(n=a.exec(e))&&(i=s.exec(t));)(o=i.index)>l&&(o=t.slice(l,o),c[u]?c[u]+=o:c[++u]=o),(n=n[0])===(i=i[0])?c[u]?c[u]+=i:c[++u]=i:(c[++u]=null,d.push({i:u,x:(0,r.default)(n,i)})),l=s.lastIndex;l<t.length&&(o=t.slice(l),c[u]?c[u]+=o:c[++u]=o);return c.length<2?d[0]?function(e){return function(t){return e(t)+""}}(d[0].x):function(e){return function(){return e}}(t):(t=d.length,function(e){for(var n,i=0;i<t;++i)c[(n=d[i]).i]=n.x(e);return c.join("")})};var i,r=(i=e("./number.js"))&&i.__esModule?i:{default:i};var a=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,s=new RegExp(a.source,"g")},{"./number.js":570}],578:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n,r,a,s){var o,l,u;(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o);(u=e*n+t*r)&&(n-=e*u,r-=t*u);(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,u/=l);e*r<t*n&&(e=-e,t=-t,u=-u,o=-o);return{translateX:a,translateY:s,rotate:Math.atan2(t,e)*i,skewX:Math.atan(u)*i,scaleX:o,scaleY:l}},n.identity=void 0;var i=180/Math.PI;n.identity={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1}},{}],579:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.interpolateTransformSvg=n.interpolateTransformCss=void 0;var i,r=(i=e("../number.js"))&&i.__esModule?i:{default:i},a=e("./parse.js");function s(e,t,n,i){function a(e){return e.length?e.pop()+" ":""}return function(s,o){var l=[],u=[];return s=e(s),o=e(o),function(e,i,a,s,o,l){if(e!==a||i!==s){var u=o.push("translate(",null,t,null,n);l.push({i:u-4,x:(0,r.default)(e,a)},{i:u-2,x:(0,r.default)(i,s)})}else(a||s)&&o.push("translate("+a+t+s+n)}(s.translateX,s.translateY,o.translateX,o.translateY,l,u),function(e,t,n,s){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),s.push({i:n.push(a(n)+"rotate(",null,i)-2,x:(0,r.default)(e,t)})):t&&n.push(a(n)+"rotate("+t+i)}(s.rotate,o.rotate,l,u),function(e,t,n,s){e!==t?s.push({i:n.push(a(n)+"skewX(",null,i)-2,x:(0,r.default)(e,t)}):t&&n.push(a(n)+"skewX("+t+i)}(s.skewX,o.skewX,l,u),function(e,t,n,i,s,o){if(e!==n||t!==i){var l=s.push(a(s)+"scale(",null,",",null,")");o.push({i:l-4,x:(0,r.default)(e,n)},{i:l-2,x:(0,r.default)(t,i)})}else 1===n&&1===i||s.push(a(s)+"scale("+n+","+i+")")}(s.scaleX,s.scaleY,o.scaleX,o.scaleY,l,u),s=o=null,function(e){for(var t,n=-1,i=u.length;++n<i;)l[(t=u[n]).i]=t.x(e);return l.join("")}}}var o=s(a.parseCss,"px, ","px)","deg)");n.interpolateTransformCss=o;var l=s(a.parseSvg,", ",")",")");n.interpolateTransformSvg=l},{"../number.js":570,"./parse.js":580}],580:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.parseCss=function(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?r.identity:(0,r.default)(t.a,t.b,t.c,t.d,t.e,t.f)},n.parseSvg=function(e){if(null==e)return r.identity;i||(i=document.createElementNS("http://www.w3.org/2000/svg","g"));return i.setAttribute("transform",e),(e=i.transform.baseVal.consolidate())?(e=e.matrix,(0,r.default)(e.a,e.b,e.c,e.d,e.e,e.f)):r.identity};var i,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=e[s]}i.default=e,n&&n.set(e,i);return i}(e("./decompose.js"));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}},{"./decompose.js":578}],581:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){var n,h=typeof t;return null==t||"boolean"===h?(0,c.default)(t):("number"===h?o.default:"string"===h?(n=(0,i.color)(t))?(t=n,r.default):u.default:t instanceof i.color?r.default:t instanceof Date?s.default:(0,d.isNumberArray)(t)?d.default:Array.isArray(t)?a.genericArray:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?l.default:o.default)(e,t)};var i=e("d3-color"),r=f(e("./rgb.js")),a=e("./array.js"),s=f(e("./date.js")),o=f(e("./number.js")),l=f(e("./object.js")),u=f(e("./string.js")),c=f(e("./constant.js")),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=r?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(e("./numberArray.js"));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function f(e){return e&&e.__esModule?e:{default:e}}},{"./array.js":557,"./constant.js":561,"./date.js":563,"./number.js":570,"./numberArray.js":571,"./object.js":572,"./rgb.js":575,"./string.js":577,"d3-color":387}],582:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;function i(e){return((e=Math.exp(e))+1/e)/2}var r=function e(t,n,r){function a(e,a){var s,o,l=e[0],u=e[1],c=e[2],d=a[0],h=a[1],f=a[2],p=d-l,m=h-u,v=p*p+m*m;if(v<1e-12)o=Math.log(f/c)/t,s=function(e){return[l+e*p,u+e*m,c*Math.exp(t*e*o)]};else{var y=Math.sqrt(v),g=(f*f-c*c+r*v)/(2*c*n*y),_=(f*f-c*c-r*v)/(2*f*n*y),b=Math.log(Math.sqrt(g*g+1)-g),j=Math.log(Math.sqrt(_*_+1)-_);o=(j-b)/t,s=function(e){var r,a=e*o,s=i(b),d=c/(n*y)*(s*(r=t*a+b,((r=Math.exp(2*r))-1)/(r+1))-function(e){return((e=Math.exp(e))-1/e)/2}(b));return[l+d*p,u+d*m,c*s/i(t*a+b)]}}return s.duration=1e3*o*t/Math.SQRT2,s}return a.rho=function(t){var n=Math.max(.001,+t),i=n*n;return e(n,i,i*i)},a}(Math.SQRT2,2,4);n.default=r},{}],583:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"path",{enumerable:!0,get:function(){return r.default}});var i,r=(i=e("./path.js"))&&i.__esModule?i:{default:i}},{"./path.js":584}],584:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;const i=Math.PI,r=2*i,a=1e-6,s=r-a;function o(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function l(){return new o}o.prototype=l.prototype={constructor:o,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,i){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(e,t,n,i,r,a){this._+="C"+ +e+","+ +t+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+a)},arcTo:function(e,t,n,r,s){e=+e,t=+t,n=+n,r=+r,s=+s;var o=this._x1,l=this._y1,u=n-e,c=r-t,d=o-e,h=l-t,f=d*d+h*h;if(s<0)throw new Error("negative radius: "+s);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(f>a)if(Math.abs(h*u-c*d)>a&&s){var p=n-o,m=r-l,v=u*u+c*c,y=p*p+m*m,g=Math.sqrt(v),_=Math.sqrt(f),b=s*Math.tan((i-Math.acos((v+f-y)/(2*g*_)))/2),j=b/_,x=b/g;Math.abs(j-1)>a&&(this._+="L"+(e+j*d)+","+(t+j*h)),this._+="A"+s+","+s+",0,0,"+ +(h*p>d*m)+","+(this._x1=e+x*u)+","+(this._y1=t+x*c)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,o,l,u){e=+e,t=+t,u=!!u;var c=(n=+n)*Math.cos(o),d=n*Math.sin(o),h=e+c,f=t+d,p=1^u,m=u?o-l:l-o;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+h+","+f:(Math.abs(this._x1-h)>a||Math.abs(this._y1-f)>a)&&(this._+="L"+h+","+f),n&&(m<0&&(m=m%r+r),m>s?this._+="A"+n+","+n+",0,1,"+p+","+(e-c)+","+(t-d)+"A"+n+","+n+",0,1,"+p+","+(this._x1=h)+","+(this._y1=f):m>a&&(this._+="A"+n+","+n+",0,"+ +(m>=i)+","+p+","+(this._x1=e+n*Math.cos(l))+","+(this._y1=t+n*Math.sin(l))))},rect:function(e,t,n,i){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};var u=l;n.default=u},{}],585:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t,n=-1,i=e.length,r=e[i-1],a=0;for(;++n<i;)t=r,r=e[n],a+=t[1]*r[0]-t[0]*r[1];return a/2}},{}],586:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t,n,i=-1,r=e.length,a=0,s=0,o=e[r-1],l=0;for(;++i<r;)t=o,o=e[i],l+=n=t[0]*o[1]-o[0]*t[1],a+=(t[0]+o[0])*n,s+=(t[1]+o[1])*n;return[a/(l*=3),s/l]}},{}],587:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){for(var n,i,r=e.length,a=e[r-1],s=t[0],o=t[1],l=a[0],u=a[1],c=!1,d=0;d<r;++d)a=e[d],n=a[0],(i=a[1])>o!=u>o&&s<(l-n)*(o-i)/(u-i)+n&&(c=!c),l=n,u=i;return c}},{}],588:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}},{}],589:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){if((n=e.length)<3)return null;var t,n,i=new Array(n),r=new Array(n);for(t=0;t<n;++t)i[t]=[+e[t][0],+e[t][1],t];for(i.sort(a),t=0;t<n;++t)r[t]=[i[t][0],-i[t][1]];var o=s(i),l=s(r),u=l[0]===o[0],c=l[l.length-1]===o[o.length-1],d=[];for(t=o.length-1;t>=0;--t)d.push(e[i[o[t]][2]]);for(t=+u;t<l.length-c;++t)d.push(e[i[l[t]][2]]);return d};var i,r=(i=e("./cross.js"))&&i.__esModule?i:{default:i};function a(e,t){return e[0]-t[0]||e[1]-t[1]}function s(e){const t=e.length,n=[0,1];let i,a=2;for(i=2;i<t;++i){for(;a>1&&(0,r.default)(e[n[a-2]],e[n[a-1]],e[i])<=0;)--a;n[a++]=i}return n.slice(0,a)}},{"./cross.js":588}],590:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"polygonArea",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"polygonCentroid",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"polygonContains",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(n,"polygonHull",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"polygonLength",{enumerable:!0,get:function(){return o.default}});var i=l(e("./area.js")),r=l(e("./centroid.js")),a=l(e("./hull.js")),s=l(e("./contains.js")),o=l(e("./length.js"));function l(e){return e&&e.__esModule?e:{default:e}}},{"./area.js":585,"./centroid.js":586,"./contains.js":587,"./hull.js":589,"./length.js":591}],591:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t,n,i=-1,r=e.length,a=e[r-1],s=a[0],o=a[1],l=0;for(;++i<r;)t=s,n=o,a=e[i],s=a[0],o=a[1],t-=s,n-=o,l+=Math.hypot(t,n);return l}},{}],592:[function(e,t,n){"use strict";function i(e,t,n,i){if(isNaN(t)||isNaN(n))return e;var r,a,s,o,l,u,c,d,h,f=e._root,p={data:i},m=e._x0,v=e._y0,y=e._x1,g=e._y1;if(!f)return e._root=p,e;for(;f.length;)if((u=t>=(a=(m+y)/2))?m=a:y=a,(c=n>=(s=(v+g)/2))?v=s:g=s,r=f,!(f=f[d=c<<1|u]))return r[d]=p,e;if(o=+e._x.call(null,f.data),l=+e._y.call(null,f.data),t===o&&n===l)return p.next=f,r?r[d]=p:e._root=p,e;do{r=r?r[d]=new Array(4):e._root=new Array(4),(u=t>=(a=(m+y)/2))?m=a:y=a,(c=n>=(s=(v+g)/2))?v=s:g=s}while((d=c<<1|u)==(h=(l>=s)<<1|o>=a));return r[h]=f,r[d]=p,e}Object.defineProperty(n,"__esModule",{value:!0}),n.addAll=function(e){var t,n,r,a,s=e.length,o=new Array(s),l=new Array(s),u=1/0,c=1/0,d=-1/0,h=-1/0;for(n=0;n<s;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(a=+this._y.call(null,t))||(o[n]=r,l[n]=a,r<u&&(u=r),r>d&&(d=r),a<c&&(c=a),a>h&&(h=a));if(u>d||c>h)return this;for(this.cover(u,c).cover(d,h),n=0;n<s;++n)i(this,o[n],l[n],e[n]);return this},n.default=function(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return i(this.cover(t,n),t,n,e)}},{}],593:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,i=this._y0,r=this._x1,a=this._y1;if(isNaN(n))r=(n=Math.floor(e))+1,a=(i=Math.floor(t))+1;else{for(var s,o,l=r-n||1,u=this._root;n>e||e>=r||i>t||t>=a;)switch(o=(t<i)<<1|e<n,(s=new Array(4))[o]=u,u=s,l*=2,o){case 0:r=n+l,a=i+l;break;case 1:n=r-l,a=i+l;break;case 2:r=n+l,i=a-l;break;case 3:n=r-l,i=a-l}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=i,this._x1=r,this._y1=a,this}},{}],594:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e}},{}],595:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}},{}],596:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n){var i,a,s,o,l,u,c,d=this._x0,h=this._y0,f=this._x1,p=this._y1,m=[],v=this._root;v&&m.push(new r.default(v,d,h,f,p));null==n?n=1/0:(d=e-n,h=t-n,f=e+n,p=t+n,n*=n);for(;u=m.pop();)if(!(!(v=u.node)||(a=u.x0)>f||(s=u.y0)>p||(o=u.x1)<d||(l=u.y1)<h))if(v.length){var y=(a+o)/2,g=(s+l)/2;m.push(new r.default(v[3],y,g,o,l),new r.default(v[2],a,g,y,l),new r.default(v[1],y,s,o,g),new r.default(v[0],a,s,y,g)),(c=(t>=g)<<1|e>=y)&&(u=m[m.length-1],m[m.length-1]=m[m.length-1-c],m[m.length-1-c]=u)}else{var _=e-+this._x.call(null,v.data),b=t-+this._y.call(null,v.data),j=_*_+b*b;if(j<n){var x=Math.sqrt(n=j);d=e-x,h=t-x,f=e+x,p=t+x,i=v.data}}return i};var i,r=(i=e("./quad.js"))&&i.__esModule?i:{default:i}},{"./quad.js":598}],597:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"quadtree",{enumerable:!0,get:function(){return r.default}});var i,r=(i=e("./quadtree.js"))&&i.__esModule?i:{default:i}},{"./quadtree.js":599}],598:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n,i,r){this.node=e,this.x0=t,this.y0=n,this.x1=i,this.y1=r}},{}],599:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=g;var i=y(e("./add.js")),r=m(e("./cover.js")),a=m(e("./data.js")),s=m(e("./extent.js")),o=m(e("./find.js")),l=y(e("./remove.js")),u=m(e("./root.js")),c=m(e("./size.js")),d=m(e("./visit.js")),h=m(e("./visitAfter.js")),f=y(e("./x.js")),p=y(e("./y.js"));function m(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=r?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}function g(e,t,n){var i=new _(null==t?f.defaultX:t,null==n?p.defaultY:n,NaN,NaN,NaN,NaN);return null==e?i:i.addAll(e)}function _(e,t,n,i,r,a){this._x=e,this._y=t,this._x0=n,this._y0=i,this._x1=r,this._y1=a,this._root=void 0}function b(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var j=g.prototype=_.prototype;j.copy=function(){var e,t,n=new _(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return n;if(!i.length)return n._root=b(i),n;for(e=[{source:i,target:n._root=new Array(4)}];i=e.pop();)for(var r=0;r<4;++r)(t=i.source[r])&&(t.length?e.push({source:t,target:i.target[r]=new Array(4)}):i.target[r]=b(t));return n},j.add=i.default,j.addAll=i.addAll,j.cover=r.default,j.data=a.default,j.extent=s.default,j.find=o.default,j.remove=l.default,j.removeAll=l.removeAll,j.root=u.default,j.size=c.default,j.visit=d.default,j.visitAfter=h.default,j.x=f.default,j.y=p.default},{"./add.js":592,"./cover.js":593,"./data.js":594,"./extent.js":595,"./find.js":596,"./remove.js":600,"./root.js":601,"./size.js":602,"./visit.js":603,"./visitAfter.js":604,"./x.js":605,"./y.js":606}],600:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){if(isNaN(a=+this._x.call(null,e))||isNaN(s=+this._y.call(null,e)))return this;var t,n,i,r,a,s,o,l,u,c,d,h,f=this._root,p=this._x0,m=this._y0,v=this._x1,y=this._y1;if(!f)return this;if(f.length)for(;;){if((u=a>=(o=(p+v)/2))?p=o:v=o,(c=s>=(l=(m+y)/2))?m=l:y=l,t=f,!(f=f[d=c<<1|u]))return this;if(!f.length)break;(t[d+1&3]||t[d+2&3]||t[d+3&3])&&(n=t,h=d)}for(;f.data!==e;)if(i=f,!(f=f.next))return this;(r=f.next)&&delete f.next;if(i)return r?i.next=r:delete i.next,this;if(!t)return this._root=r,this;r?t[d]=r:delete t[d],(f=t[0]||t[1]||t[2]||t[3])&&f===(t[3]||t[2]||t[1]||t[0])&&!f.length&&(n?n[h]=f:this._root=f);return this},n.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}},{}],601:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return this._root}},{}],602:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e}},{}],603:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t,n,i,a,s,o,l=[],u=this._root;u&&l.push(new r.default(u,this._x0,this._y0,this._x1,this._y1));for(;t=l.pop();)if(!e(u=t.node,i=t.x0,a=t.y0,s=t.x1,o=t.y1)&&u.length){var c=(i+s)/2,d=(a+o)/2;(n=u[3])&&l.push(new r.default(n,c,d,s,o)),(n=u[2])&&l.push(new r.default(n,i,d,c,o)),(n=u[1])&&l.push(new r.default(n,c,a,s,d)),(n=u[0])&&l.push(new r.default(n,i,a,c,d))}return this};var i,r=(i=e("./quad.js"))&&i.__esModule?i:{default:i}},{"./quad.js":598}],604:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t,n=[],i=[];this._root&&n.push(new r.default(this._root,this._x0,this._y0,this._x1,this._y1));for(;t=n.pop();){var a=t.node;if(a.length){var s,o=t.x0,l=t.y0,u=t.x1,c=t.y1,d=(o+u)/2,h=(l+c)/2;(s=a[0])&&n.push(new r.default(s,o,l,d,h)),(s=a[1])&&n.push(new r.default(s,d,l,u,h)),(s=a[2])&&n.push(new r.default(s,o,h,d,c)),(s=a[3])&&n.push(new r.default(s,d,h,u,c))}i.push(t)}for(;t=i.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this};var i,r=(i=e("./quad.js"))&&i.__esModule?i:{default:i}},{"./quad.js":598}],605:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return arguments.length?(this._x=e,this):this._x},n.defaultX=function(e){return e[0]}},{}],606:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return arguments.length?(this._y=e,this):this._y},n.defaultY=function(e){return e[1]}},{}],607:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=a(e("./defaultSource.js")),r=a(e("./irwinHall.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s=function e(t){var n=r.default.source(t);function i(e){if(0==(e=+e))return t;var i=n(e);return function(){return i()/e}}return i.source=e,i}(i.default);n.default=s},{"./defaultSource.js":612,"./irwinHall.js":618}],608:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function e(t){function n(e){if((e=+e)<0||e>1)throw new RangeError("invalid p");return function(){return Math.floor(t()+e)}}return n.source=e,n}(((i=e("./defaultSource.js"))&&i.__esModule?i:{default:i}).default);n.default=r},{"./defaultSource.js":612}],609:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=a(e("./defaultSource.js")),r=a(e("./gamma.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s=function e(t){var n=r.default.source(t);function i(e,t){var i=n(e),r=n(t);return function(){var e=i();return 0===e?0:e/(e+r())}}return i.source=e,i}(i.default);n.default=s},{"./defaultSource.js":612,"./gamma.js":614}],610:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=s(e("./defaultSource.js")),r=s(e("./beta.js")),a=s(e("./geometric.js"));function s(e){return e&&e.__esModule?e:{default:e}}var o=function e(t){var n=a.default.source(t),i=r.default.source(t);function s(e,t){return e=+e,(t=+t)>=1?()=>e:t<=0?()=>0:function(){for(var r=0,a=e,s=t;a*s>16&&a*(1-s)>16;){var o=Math.floor((a+1)*s),l=i(o,a-o+1)();l<=s?(r+=o,a-=o,s=(s-l)/(1-l)):(a=o-1,s/=l)}for(var u=s<.5,c=n(u?s:1-s),d=c(),h=0;d<=a;++h)d+=c();return r+(u?h:a-h)}}return s.source=e,s}(i.default);n.default=o},{"./beta.js":609,"./defaultSource.js":612,"./geometric.js":615}],611:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,function(){return e+n*Math.tan(Math.PI*t())}}return n.source=e,n}(((i=e("./defaultSource.js"))&&i.__esModule?i:{default:i}).default);n.default=r},{"./defaultSource.js":612}],612:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=Math.random;n.default=i},{}],613:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function e(t){function n(e){return function(){return-Math.log1p(-t())/e}}return n.source=e,n}(((i=e("./defaultSource.js"))&&i.__esModule?i:{default:i}).default);n.default=r},{"./defaultSource.js":612}],614:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=a(e("./defaultSource.js")),r=a(e("./normal.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s=function e(t){var n=r.default.source(t)();function i(e,i){if((e=+e)<0)throw new RangeError("invalid k");if(0===e)return()=>0;if(i=null==i?1:+i,1===e)return()=>-Math.log1p(-t())*i;var r=(e<1?e+1:e)-1/3,a=1/(3*Math.sqrt(r)),s=e<1?()=>Math.pow(t(),1/e):()=>1;return function(){do{do{var e=n(),o=1+a*e}while(o<=0);o*=o*o;var l=1-t()}while(l>=1-.0331*e*e*e*e&&Math.log(l)>=.5*e*e+r*(1-o+Math.log(o)));return r*o*s()*i}}return i.source=e,i}(i.default);n.default=s},{"./defaultSource.js":612,"./normal.js":622}],615:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function e(t){function n(e){if((e=+e)<0||e>1)throw new RangeError("invalid p");return 0===e?()=>1/0:1===e?()=>1:(e=Math.log1p(-e),function(){return 1+Math.floor(Math.log1p(-t())/e)})}return n.source=e,n}(((i=e("./defaultSource.js"))&&i.__esModule?i:{default:i}).default);n.default=r},{"./defaultSource.js":612}],616:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"randomBates",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"randomBernoulli",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(n,"randomBeta",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(n,"randomBinomial",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(n,"randomCauchy",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(n,"randomExponential",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(n,"randomGamma",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(n,"randomGeometric",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(n,"randomInt",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"randomIrwinHall",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(n,"randomLcg",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(n,"randomLogNormal",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(n,"randomLogistic",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(n,"randomNormal",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"randomPareto",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(n,"randomPoisson",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(n,"randomUniform",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"randomWeibull",{enumerable:!0,get:function(){return v.default}});var i=j(e("./uniform.js")),r=j(e("./int.js")),a=j(e("./normal.js")),s=j(e("./logNormal.js")),o=j(e("./bates.js")),l=j(e("./irwinHall.js")),u=j(e("./exponential.js")),c=j(e("./pareto.js")),d=j(e("./bernoulli.js")),h=j(e("./geometric.js")),f=j(e("./binomial.js")),p=j(e("./gamma.js")),m=j(e("./beta.js")),v=j(e("./weibull.js")),y=j(e("./cauchy.js")),g=j(e("./logistic.js")),_=j(e("./poisson.js")),b=j(e("./lcg.js"));function j(e){return e&&e.__esModule?e:{default:e}}},{"./bates.js":607,"./bernoulli.js":608,"./beta.js":609,"./binomial.js":610,"./cauchy.js":611,"./exponential.js":613,"./gamma.js":614,"./geometric.js":615,"./int.js":617,"./irwinHall.js":618,"./lcg.js":619,"./logNormal.js":620,"./logistic.js":621,"./normal.js":622,"./pareto.js":623,"./poisson.js":624,"./uniform.js":625,"./weibull.js":626}],617:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function e(t){function n(e,n){return arguments.length<2&&(n=e,e=0),e=Math.floor(e),n=Math.floor(n)-e,function(){return Math.floor(t()*n+e)}}return n.source=e,n}(((i=e("./defaultSource.js"))&&i.__esModule?i:{default:i}).default);n.default=r},{"./defaultSource.js":612}],618:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function e(t){function n(e){return(e=+e)<=0?()=>0:function(){for(var n=0,i=e;i>1;--i)n+=t();return n+i*t()}}return n.source=e,n}(((i=e("./defaultSource.js"))&&i.__esModule?i:{default:i}).default);n.default=r},{"./defaultSource.js":612}],619:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e=Math.random()){let t=0|(0<=e&&e<1?e/i:Math.abs(e));return()=>(t=1664525*t+1013904223|0,i*(t>>>0))};const i=1/4294967296},{}],620:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=a(e("./defaultSource.js")),r=a(e("./normal.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s=function e(t){var n=r.default.source(t);function i(){var e=n.apply(this,arguments);return function(){return Math.exp(e())}}return i.source=e,i}(i.default);n.default=s},{"./defaultSource.js":612,"./normal.js":622}],621:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,function(){var i=t();return e+n*Math.log(i/(1-i))}}return n.source=e,n}(((i=e("./defaultSource.js"))&&i.__esModule?i:{default:i}).default);n.default=r},{"./defaultSource.js":612}],622:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function e(t){function n(e,n){var i,r;return e=null==e?0:+e,n=null==n?1:+n,function(){var a;if(null!=i)a=i,i=null;else do{i=2*t()-1,a=2*t()-1,r=i*i+a*a}while(!r||r>1);return e+n*a*Math.sqrt(-2*Math.log(r)/r)}}return n.source=e,n}(((i=e("./defaultSource.js"))&&i.__esModule?i:{default:i}).default);n.default=r},{"./defaultSource.js":612}],623:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function e(t){function n(e){if((e=+e)<0)throw new RangeError("invalid alpha");return e=1/-e,function(){return Math.pow(1-t(),e)}}return n.source=e,n}(((i=e("./defaultSource.js"))&&i.__esModule?i:{default:i}).default);n.default=r},{"./defaultSource.js":612}],624:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=s(e("./defaultSource.js")),r=s(e("./binomial.js")),a=s(e("./gamma.js"));function s(e){return e&&e.__esModule?e:{default:e}}var o=function e(t){var n=a.default.source(t),i=r.default.source(t);function s(e){return function(){for(var r=0,a=e;a>16;){var s=Math.floor(.875*a),o=n(s)();if(o>a)return r+i(s-1,a/o)();r+=s,a-=o}for(var l=-Math.log1p(-t()),u=0;l<=a;++u)l-=Math.log1p(-t());return r+u}}return s.source=e,s}(i.default);n.default=o},{"./binomial.js":610,"./defaultSource.js":612,"./gamma.js":614}],625:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,1===arguments.length?(n=e,e=0):n-=e,function(){return t()*n+e}}return n.source=e,n}(((i=e("./defaultSource.js"))&&i.__esModule?i:{default:i}).default);n.default=r},{"./defaultSource.js":612}],626:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function e(t){function n(e,n,i){var r;return 0==(e=+e)?r=e=>-Math.log(e):(e=1/e,r=t=>Math.pow(t,e)),n=null==n?0:+n,i=null==i?1:+i,function(){return n+i*r(-Math.log1p(-t()))}}return n.source=e,n}(((i=e("./defaultSource.js"))&&i.__esModule?i:{default:i}).default);n.default=r},{"./defaultSource.js":612}],627:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=(0,((i=e("../colors.js"))&&i.__esModule?i:{default:i}).default)("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666");n.default=r},{"../colors.js":637}],628:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=(0,((i=e("../colors.js"))&&i.__esModule?i:{default:i}).default)("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666");n.default=r},{"../colors.js":637}],629:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=(0,((i=e("../colors.js"))&&i.__esModule?i:{default:i}).default)("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");n.default=r},{"../colors.js":637}],630:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=(0,((i=e("../colors.js"))&&i.__esModule?i:{default:i}).default)("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2");n.default=r},{"../colors.js":637}],631:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=(0,((i=e("../colors.js"))&&i.__esModule?i:{default:i}).default)("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc");n.default=r},{"../colors.js":637}],632:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=(0,((i=e("../colors.js"))&&i.__esModule?i:{default:i}).default)("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999");n.default=r},{"../colors.js":637}],633:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=(0,((i=e("../colors.js"))&&i.__esModule?i:{default:i}).default)("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3");n.default=r},{"../colors.js":637}],634:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=(0,((i=e("../colors.js"))&&i.__esModule?i:{default:i}).default)("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");n.default=r},{"../colors.js":637}],635:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=(0,((i=e("../colors.js"))&&i.__esModule?i:{default:i}).default)("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");n.default=r},{"../colors.js":637}],636:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=(0,((i=e("../colors.js"))&&i.__esModule?i:{default:i}).default)("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");n.default=r},{"../colors.js":637}],637:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=e.length/6|0,n=new Array(t),i=0;for(;i<t;)n[i]="#"+e.slice(6*i,6*++i);return n}},{}],638:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.scheme=n.default=void 0;var i=a(e("../colors.js")),r=a(e("../ramp.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(i.default);n.scheme=s;var o=(0,r.default)(s);n.default=o},{"../colors.js":637,"../ramp.js":648}],639:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.scheme=n.default=void 0;var i=a(e("../colors.js")),r=a(e("../ramp.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(i.default);n.scheme=s;var o=(0,r.default)(s);n.default=o},{"../colors.js":637,"../ramp.js":648}],640:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.scheme=n.default=void 0;var i=a(e("../colors.js")),r=a(e("../ramp.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(i.default);n.scheme=s;var o=(0,r.default)(s);n.default=o},{"../colors.js":637,"../ramp.js":648}],641:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.scheme=n.default=void 0;var i=a(e("../colors.js")),r=a(e("../ramp.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(i.default);n.scheme=s;var o=(0,r.default)(s);n.default=o},{"../colors.js":637,"../ramp.js":648}],642:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.scheme=n.default=void 0;var i=a(e("../colors.js")),r=a(e("../ramp.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(i.default);n.scheme=s;var o=(0,r.default)(s);n.default=o},{"../colors.js":637,"../ramp.js":648}],643:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.scheme=n.default=void 0;var i=a(e("../colors.js")),r=a(e("../ramp.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(i.default);n.scheme=s;var o=(0,r.default)(s);n.default=o},{"../colors.js":637,"../ramp.js":648}],644:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.scheme=n.default=void 0;var i=a(e("../colors.js")),r=a(e("../ramp.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(i.default);n.scheme=s;var o=(0,r.default)(s);n.default=o},{"../colors.js":637,"../ramp.js":648}],645:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.scheme=n.default=void 0;var i=a(e("../colors.js")),r=a(e("../ramp.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(i.default);n.scheme=s;var o=(0,r.default)(s);n.default=o},{"../colors.js":637,"../ramp.js":648}],646:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.scheme=n.default=void 0;var i=a(e("../colors.js")),r=a(e("../ramp.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(i.default);n.scheme=s;var o=(0,r.default)(s);n.default=o},{"../colors.js":637,"../ramp.js":648}],647:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"interpolateBlues",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(n,"interpolateBrBG",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(n,"interpolateBuGn",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(n,"interpolateBuPu",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(n,"interpolateCividis",{enumerable:!0,get:function(){return B.default}}),Object.defineProperty(n,"interpolateCool",{enumerable:!0,get:function(){return H.cool}}),Object.defineProperty(n,"interpolateCubehelixDefault",{enumerable:!0,get:function(){return F.default}}),Object.defineProperty(n,"interpolateGnBu",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(n,"interpolateGreens",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(n,"interpolateGreys",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(n,"interpolateInferno",{enumerable:!0,get:function(){return V.inferno}}),Object.defineProperty(n,"interpolateMagma",{enumerable:!0,get:function(){return V.magma}}),Object.defineProperty(n,"interpolateOrRd",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(n,"interpolateOranges",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(n,"interpolatePRGn",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(n,"interpolatePiYG",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(n,"interpolatePlasma",{enumerable:!0,get:function(){return V.plasma}}),Object.defineProperty(n,"interpolatePuBu",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(n,"interpolatePuBuGn",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(n,"interpolatePuOr",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(n,"interpolatePuRd",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(n,"interpolatePurples",{enumerable:!0,get:function(){return z.default}}),Object.defineProperty(n,"interpolateRainbow",{enumerable:!0,get:function(){return H.default}}),Object.defineProperty(n,"interpolateRdBu",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(n,"interpolateRdGy",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(n,"interpolateRdPu",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(n,"interpolateRdYlBu",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(n,"interpolateRdYlGn",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(n,"interpolateReds",{enumerable:!0,get:function(){return q.default}}),Object.defineProperty(n,"interpolateSinebow",{enumerable:!0,get:function(){return W.default}}),Object.defineProperty(n,"interpolateSpectral",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(n,"interpolateTurbo",{enumerable:!0,get:function(){return Z.default}}),Object.defineProperty(n,"interpolateViridis",{enumerable:!0,get:function(){return V.default}}),Object.defineProperty(n,"interpolateWarm",{enumerable:!0,get:function(){return H.warm}}),Object.defineProperty(n,"interpolateYlGn",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(n,"interpolateYlGnBu",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(n,"interpolateYlOrBr",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(n,"interpolateYlOrRd",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(n,"schemeAccent",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"schemeBlues",{enumerable:!0,get:function(){return D.scheme}}),Object.defineProperty(n,"schemeBrBG",{enumerable:!0,get:function(){return f.scheme}}),Object.defineProperty(n,"schemeBuGn",{enumerable:!0,get:function(){return x.scheme}}),Object.defineProperty(n,"schemeBuPu",{enumerable:!0,get:function(){return w.scheme}}),Object.defineProperty(n,"schemeCategory10",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"schemeDark2",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"schemeGnBu",{enumerable:!0,get:function(){return k.scheme}}),Object.defineProperty(n,"schemeGreens",{enumerable:!0,get:function(){return I.scheme}}),Object.defineProperty(n,"schemeGreys",{enumerable:!0,get:function(){return N.scheme}}),Object.defineProperty(n,"schemeOrRd",{enumerable:!0,get:function(){return S.scheme}}),Object.defineProperty(n,"schemeOranges",{enumerable:!0,get:function(){return R.scheme}}),Object.defineProperty(n,"schemePRGn",{enumerable:!0,get:function(){return p.scheme}}),Object.defineProperty(n,"schemePaired",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(n,"schemePastel1",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"schemePastel2",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(n,"schemePiYG",{enumerable:!0,get:function(){return m.scheme}}),Object.defineProperty(n,"schemePuBu",{enumerable:!0,get:function(){return M.scheme}}),Object.defineProperty(n,"schemePuBuGn",{enumerable:!0,get:function(){return P.scheme}}),Object.defineProperty(n,"schemePuOr",{enumerable:!0,get:function(){return v.scheme}}),Object.defineProperty(n,"schemePuRd",{enumerable:!0,get:function(){return O.scheme}}),Object.defineProperty(n,"schemePurples",{enumerable:!0,get:function(){return z.scheme}}),Object.defineProperty(n,"schemeRdBu",{enumerable:!0,get:function(){return y.scheme}}),Object.defineProperty(n,"schemeRdGy",{enumerable:!0,get:function(){return g.scheme}}),Object.defineProperty(n,"schemeRdPu",{enumerable:!0,get:function(){return L.scheme}}),Object.defineProperty(n,"schemeRdYlBu",{enumerable:!0,get:function(){return _.scheme}}),Object.defineProperty(n,"schemeRdYlGn",{enumerable:!0,get:function(){return b.scheme}}),Object.defineProperty(n,"schemeReds",{enumerable:!0,get:function(){return q.scheme}}),Object.defineProperty(n,"schemeSet1",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(n,"schemeSet2",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(n,"schemeSet3",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(n,"schemeSpectral",{enumerable:!0,get:function(){return j.scheme}}),Object.defineProperty(n,"schemeTableau10",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(n,"schemeYlGn",{enumerable:!0,get:function(){return A.scheme}}),Object.defineProperty(n,"schemeYlGnBu",{enumerable:!0,get:function(){return E.scheme}}),Object.defineProperty(n,"schemeYlOrBr",{enumerable:!0,get:function(){return C.scheme}}),Object.defineProperty(n,"schemeYlOrRd",{enumerable:!0,get:function(){return T.scheme}});var i=G(e("./categorical/category10.js")),r=G(e("./categorical/Accent.js")),a=G(e("./categorical/Dark2.js")),s=G(e("./categorical/Paired.js")),o=G(e("./categorical/Pastel1.js")),l=G(e("./categorical/Pastel2.js")),u=G(e("./categorical/Set1.js")),c=G(e("./categorical/Set2.js")),d=G(e("./categorical/Set3.js")),h=G(e("./categorical/Tableau10.js")),f=Y(e("./diverging/BrBG.js")),p=Y(e("./diverging/PRGn.js")),m=Y(e("./diverging/PiYG.js")),v=Y(e("./diverging/PuOr.js")),y=Y(e("./diverging/RdBu.js")),g=Y(e("./diverging/RdGy.js")),_=Y(e("./diverging/RdYlBu.js")),b=Y(e("./diverging/RdYlGn.js")),j=Y(e("./diverging/Spectral.js")),x=Y(e("./sequential-multi/BuGn.js")),w=Y(e("./sequential-multi/BuPu.js")),k=Y(e("./sequential-multi/GnBu.js")),S=Y(e("./sequential-multi/OrRd.js")),P=Y(e("./sequential-multi/PuBuGn.js")),M=Y(e("./sequential-multi/PuBu.js")),O=Y(e("./sequential-multi/PuRd.js")),L=Y(e("./sequential-multi/RdPu.js")),E=Y(e("./sequential-multi/YlGnBu.js")),A=Y(e("./sequential-multi/YlGn.js")),C=Y(e("./sequential-multi/YlOrBr.js")),T=Y(e("./sequential-multi/YlOrRd.js")),D=Y(e("./sequential-single/Blues.js")),I=Y(e("./sequential-single/Greens.js")),N=Y(e("./sequential-single/Greys.js")),z=Y(e("./sequential-single/Purples.js")),q=Y(e("./sequential-single/Reds.js")),R=Y(e("./sequential-single/Oranges.js")),B=G(e("./sequential-multi/cividis.js")),F=G(e("./sequential-multi/cubehelix.js")),H=Y(e("./sequential-multi/rainbow.js")),W=G(e("./sequential-multi/sinebow.js")),Z=G(e("./sequential-multi/turbo.js")),V=Y(e("./sequential-multi/viridis.js"));function U(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(U=function(e){return e?n:t})(e)}function Y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=U(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=r?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}function G(e){return e&&e.__esModule?e:{default:e}}},{"./categorical/Accent.js":627,"./categorical/Dark2.js":628,"./categorical/Paired.js":629,"./categorical/Pastel1.js":630,"./categorical/Pastel2.js":631,"./categorical/Set1.js":632,"./categorical/Set2.js":633,"./categorical/Set3.js":634,"./categorical/Tableau10.js":635,"./categorical/category10.js":636,"./diverging/BrBG.js":638,"./diverging/PRGn.js":639,"./diverging/PiYG.js":640,"./diverging/PuOr.js":641,"./diverging/RdBu.js":642,"./diverging/RdGy.js":643,"./diverging/RdYlBu.js":644,"./diverging/RdYlGn.js":645,"./diverging/Spectral.js":646,"./sequential-multi/BuGn.js":649,"./sequential-multi/BuPu.js":650,"./sequential-multi/GnBu.js":651,"./sequential-multi/OrRd.js":652,"./sequential-multi/PuBu.js":653,"./sequential-multi/PuBuGn.js":654,"./sequential-multi/PuRd.js":655,"./sequential-multi/RdPu.js":656,"./sequential-multi/YlGn.js":657,"./sequential-multi/YlGnBu.js":658,"./sequential-multi/YlOrBr.js":659,"./sequential-multi/YlOrRd.js":660,"./sequential-multi/cividis.js":661,"./sequential-multi/cubehelix.js":662,"./sequential-multi/rainbow.js":663,"./sequential-multi/sinebow.js":664,"./sequential-multi/turbo.js":665,"./sequential-multi/viridis.js":666,"./sequential-single/Blues.js":667,"./sequential-single/Greens.js":668,"./sequential-single/Greys.js":669,"./sequential-single/Oranges.js":670,"./sequential-single/Purples.js":671,"./sequential-single/Reds.js":672}],648:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=e("d3-interpolate");n.default=e=>(0,i.interpolateRgbBasis)(e[e.length-1])},{"d3-interpolate":568}],649:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.scheme=n.default=void 0;var i=a(e("../colors.js")),r=a(e("../ramp.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(i.default);n.scheme=s;var o=(0,r.default)(s);n.default=o},{"../colors.js":637,"../ramp.js":648}],650:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.scheme=n.default=void 0;var i=a(e("../colors.js")),r=a(e("../ramp.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(i.default);n.scheme=s;var o=(0,r.default)(s);n.default=o},{"../colors.js":637,"../ramp.js":648}],651:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.scheme=n.default=void 0;var i=a(e("../colors.js")),r=a(e("../ramp.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(i.default);n.scheme=s;var o=(0,r.default)(s);n.default=o},{"../colors.js":637,"../ramp.js":648}],652:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.scheme=n.default=void 0;var i=a(e("../colors.js")),r=a(e("../ramp.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(i.default);n.scheme=s;var o=(0,r.default)(s);n.default=o},{"../colors.js":637,"../ramp.js":648}],653:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.scheme=n.default=void 0;var i=a(e("../colors.js")),r=a(e("../ramp.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(i.default);n.scheme=s;var o=(0,r.default)(s);n.default=o},{"../colors.js":637,"../ramp.js":648}],654:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.scheme=n.default=void 0;var i=a(e("../colors.js")),r=a(e("../ramp.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(i.default);n.scheme=s;var o=(0,r.default)(s);n.default=o},{"../colors.js":637,"../ramp.js":648}],655:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.scheme=n.default=void 0;var i=a(e("../colors.js")),r=a(e("../ramp.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(i.default);n.scheme=s;var o=(0,r.default)(s);n.default=o},{"../colors.js":637,"../ramp.js":648}],656:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.scheme=n.default=void 0;var i=a(e("../colors.js")),r=a(e("../ramp.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(i.default);n.scheme=s;var o=(0,r.default)(s);n.default=o},{"../colors.js":637,"../ramp.js":648}],657:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.scheme=n.default=void 0;var i=a(e("../colors.js")),r=a(e("../ramp.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(i.default);n.scheme=s;var o=(0,r.default)(s);n.default=o},{"../colors.js":637,"../ramp.js":648}],658:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.scheme=n.default=void 0;var i=a(e("../colors.js")),r=a(e("../ramp.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(i.default);n.scheme=s;var o=(0,r.default)(s);n.default=o},{"../colors.js":637,"../ramp.js":648}],659:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.scheme=n.default=void 0;var i=a(e("../colors.js")),r=a(e("../ramp.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(i.default);n.scheme=s;var o=(0,r.default)(s);n.default=o},{"../colors.js":637,"../ramp.js":648}],660:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.scheme=n.default=void 0;var i=a(e("../colors.js")),r=a(e("../ramp.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(i.default);n.scheme=s;var o=(0,r.default)(s);n.default=o},{"../colors.js":637,"../ramp.js":648}],661:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-2710.57*e)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-67.37*e)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-2475.67*e)))))))+")"}},{}],662:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=e("d3-color"),r=(0,e("d3-interpolate").interpolateCubehelixLong)((0,i.cubehelix)(300,.5,0),(0,i.cubehelix)(-240,.5,1));n.default=r},{"d3-color":387,"d3-interpolate":568}],663:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.cool=void 0,n.default=function(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return o.h=360*e-100,o.s=1.5-1.5*t,o.l=.8-.9*t,o+""},n.warm=void 0;var i=e("d3-color"),r=e("d3-interpolate"),a=(0,r.interpolateCubehelixLong)((0,i.cubehelix)(-100,.75,.35),(0,i.cubehelix)(80,1.5,.8));n.warm=a;var s=(0,r.interpolateCubehelixLong)((0,i.cubehelix)(260,.75,.35),(0,i.cubehelix)(80,1.5,.8));n.cool=s;var o=(0,i.cubehelix)()},{"d3-color":387,"d3-interpolate":568}],664:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t;return e=(.5-e)*Math.PI,i.r=255*(t=Math.sin(e))*t,i.g=255*(t=Math.sin(e+r))*t,i.b=255*(t=Math.sin(e+a))*t,i+""};var i=(0,e("d3-color").rgb)(),r=Math.PI/3,a=2*Math.PI/3},{"d3-color":387}],665:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-14825.05*e)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+707.56*e)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-6838.66*e)))))))+")"}},{}],666:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.plasma=n.magma=n.inferno=n.default=void 0;var i,r=(i=e("../colors.js"))&&i.__esModule?i:{default:i};function a(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}var s=a((0,r.default)("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));n.default=s;var o=a((0,r.default)("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"));n.magma=o;var l=a((0,r.default)("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"));n.inferno=l;var u=a((0,r.default)("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));n.plasma=u},{"../colors.js":637}],667:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.scheme=n.default=void 0;var i=a(e("../colors.js")),r=a(e("../ramp.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(i.default);n.scheme=s;var o=(0,r.default)(s);n.default=o},{"../colors.js":637,"../ramp.js":648}],668:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.scheme=n.default=void 0;var i=a(e("../colors.js")),r=a(e("../ramp.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(i.default);n.scheme=s;var o=(0,r.default)(s);n.default=o},{"../colors.js":637,"../ramp.js":648}],669:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.scheme=n.default=void 0;var i=a(e("../colors.js")),r=a(e("../ramp.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(i.default);n.scheme=s;var o=(0,r.default)(s);n.default=o},{"../colors.js":637,"../ramp.js":648}],670:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.scheme=n.default=void 0;var i=a(e("../colors.js")),r=a(e("../ramp.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(i.default);n.scheme=s;var o=(0,r.default)(s);n.default=o},{"../colors.js":637,"../ramp.js":648}],671:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.scheme=n.default=void 0;var i=a(e("../colors.js")),r=a(e("../ramp.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(i.default);n.scheme=s;var o=(0,r.default)(s);n.default=o},{"../colors.js":637,"../ramp.js":648}],672:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.scheme=n.default=void 0;var i=a(e("../colors.js")),r=a(e("../ramp.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(i.default);n.scheme=s;var o=(0,r.default)(s);n.default=o},{"../colors.js":637,"../ramp.js":648}],673:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o,n.point=function(){return l(o.apply(null,arguments).paddingInner(1))};var i,r=e("d3-array"),a=e("./init.js"),s=(i=e("./ordinal.js"))&&i.__esModule?i:{default:i};function o(){var e,t,n=(0,s.default)().unknown(void 0),i=n.domain,l=n.range,u=0,c=1,d=!1,h=0,f=0,p=.5;function m(){var n=i().length,a=c<u,s=a?c:u,o=a?u:c;e=(o-s)/Math.max(1,n-h+2*f),d&&(e=Math.floor(e)),s+=(o-s-e*(n-h))*p,t=e*(1-h),d&&(s=Math.round(s),t=Math.round(t));var m=(0,r.range)(n).map((function(t){return s+e*t}));return l(a?m.reverse():m)}return delete n.unknown,n.domain=function(e){return arguments.length?(i(e),m()):i()},n.range=function(e){return arguments.length?([u,c]=e,u=+u,c=+c,m()):[u,c]},n.rangeRound=function(e){return[u,c]=e,u=+u,c=+c,d=!0,m()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(d=!!e,m()):d},n.padding=function(e){return arguments.length?(h=Math.min(1,f=+e),m()):h},n.paddingInner=function(e){return arguments.length?(h=Math.min(1,e),m()):h},n.paddingOuter=function(e){return arguments.length?(f=+e,m()):f},n.align=function(e){return arguments.length?(p=Math.max(0,Math.min(1,e)),m()):p},n.copy=function(){return o(i(),[u,c]).round(d).paddingInner(h).paddingOuter(f).align(p)},a.initRange.apply(m(),arguments)}function l(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return l(t())},e}},{"./init.js":679,"./ordinal.js":684,"d3-array":332}],674:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return function(){return e}}},{}],675:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.copy=function(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())},n.default=function(){return f()(u,u)},n.identity=u,n.transformer=f;var i=e("d3-array"),r=e("d3-interpolate"),a=o(e("./constant.js")),s=o(e("./number.js"));function o(e){return e&&e.__esModule?e:{default:e}}var l=[0,1];function u(e){return e}function c(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(0,a.default)(isNaN(t)?NaN:.5)}function d(e,t,n){var i=e[0],r=e[1],a=t[0],s=t[1];return r<i?(i=c(r,i),a=n(s,a)):(i=c(i,r),a=n(a,s)),function(e){return a(i(e))}}function h(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),s=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=c(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(t){var n=(0,i.bisect)(e,t,1,r)-1;return s[n](a[n](t))}}function f(){var e,t,n,i,a,o,c=l,f=l,p=r.interpolate,m=u;function v(){var e,t,n,r=Math.min(c.length,f.length);return m!==u&&(e=c[0],t=c[r-1],e>t&&(n=e,e=t,t=n),m=function(n){return Math.max(e,Math.min(t,n))}),i=r>2?h:d,a=o=null,y}function y(t){return null==t||isNaN(t=+t)?n:(a||(a=i(c.map(e),f,p)))(e(m(t)))}return y.invert=function(n){return m(t((o||(o=i(f,c.map(e),r.interpolateNumber)))(n)))},y.domain=function(e){return arguments.length?(c=Array.from(e,s.default),v()):c.slice()},y.range=function(e){return arguments.length?(f=Array.from(e),v()):f.slice()},y.rangeRound=function(e){return f=Array.from(e),p=r.interpolateRound,v()},y.clamp=function(e){return arguments.length?(m=!!e||u,v()):m!==u},y.interpolate=function(e){return arguments.length?(p=e,v()):p},y.unknown=function(e){return arguments.length?(n=e,y):n},function(n,i){return e=n,t=i,v()}}},{"./constant.js":674,"./number.js":683,"d3-array":332,"d3-interpolate":568}],676:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){var t=(0,s.linearish)(d()(r.identity));return t.copy=function(){return(0,l.copy)(t,e())},a.initInterpolator.apply(t,arguments)},n.divergingLog=function e(){var t=(0,o.loggish)(d()).domain([.1,1,10]);return t.copy=function(){return(0,l.copy)(t,e()).base(t.base())},a.initInterpolator.apply(t,arguments)},n.divergingPow=h,n.divergingSqrt=function(){return h.apply(null,arguments).exponent(.5)},n.divergingSymlog=function e(){var t=(0,u.symlogish)(d());return t.copy=function(){return(0,l.copy)(t,e()).constant(t.constant())},a.initInterpolator.apply(t,arguments)};var i=e("d3-interpolate"),r=e("./continuous.js"),a=e("./init.js"),s=e("./linear.js"),o=e("./log.js"),l=e("./sequential.js"),u=e("./symlog.js"),c=e("./pow.js");function d(){var e,t,n,a,s,o,l,u=0,c=.5,d=1,h=1,f=r.identity,p=!1;function m(e){return isNaN(e=+e)?l:(e=.5+((e=+o(e))-t)*(h*e<h*t?a:s),f(p?Math.max(0,Math.min(1,e)):e))}function v(e){return function(t){var n,r,a;return arguments.length?([n,r,a]=t,f=(0,i.piecewise)(e,[n,r,a]),m):[f(0),f(.5),f(1)]}}return m.domain=function(i){return arguments.length?([u,c,d]=i,e=o(u=+u),t=o(c=+c),n=o(d=+d),a=e===t?0:.5/(t-e),s=t===n?0:.5/(n-t),h=t<e?-1:1,m):[u,c,d]},m.clamp=function(e){return arguments.length?(p=!!e,m):p},m.interpolator=function(e){return arguments.length?(f=e,m):f},m.range=v(i.interpolate),m.rangeRound=v(i.interpolateRound),m.unknown=function(e){return arguments.length?(l=e,m):l},function(i){return o=i,e=i(u),t=i(c),n=i(d),a=e===t?0:.5/(t-e),s=t===n?0:.5/(n-t),h=t<e?-1:1,m}}function h(){var e=(0,c.powish)(d());return e.copy=function(){return(0,l.copy)(e,h()).exponent(e.exponent())},a.initInterpolator.apply(e,arguments)}},{"./continuous.js":675,"./init.js":679,"./linear.js":680,"./log.js":681,"./pow.js":685,"./sequential.js":689,"./symlog.js":691,"d3-interpolate":568}],677:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(t){var n;function i(e){return null==e||isNaN(e=+e)?n:e}return i.invert=i,i.domain=i.range=function(e){return arguments.length?(t=Array.from(e,a.default),i):t.slice()},i.unknown=function(e){return arguments.length?(n=e,i):n},i.copy=function(){return e(t).unknown(n)},t=arguments.length?Array.from(t,a.default):[0,1],(0,r.linearish)(i)};var i,r=e("./linear.js"),a=(i=e("./number.js"))&&i.__esModule?i:{default:i}},{"./linear.js":680,"./number.js":683}],678:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"scaleBand",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"scaleDiverging",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(n,"scaleDivergingLog",{enumerable:!0,get:function(){return g.divergingLog}}),Object.defineProperty(n,"scaleDivergingPow",{enumerable:!0,get:function(){return g.divergingPow}}),Object.defineProperty(n,"scaleDivergingSqrt",{enumerable:!0,get:function(){return g.divergingSqrt}}),Object.defineProperty(n,"scaleDivergingSymlog",{enumerable:!0,get:function(){return g.divergingSymlog}}),Object.defineProperty(n,"scaleIdentity",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"scaleImplicit",{enumerable:!0,get:function(){return l.implicit}}),Object.defineProperty(n,"scaleLinear",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"scaleLog",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(n,"scaleOrdinal",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(n,"scalePoint",{enumerable:!0,get:function(){return i.point}}),Object.defineProperty(n,"scalePow",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(n,"scaleQuantile",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(n,"scaleQuantize",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(n,"scaleRadial",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(n,"scaleSequential",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(n,"scaleSequentialLog",{enumerable:!0,get:function(){return v.sequentialLog}}),Object.defineProperty(n,"scaleSequentialPow",{enumerable:!0,get:function(){return v.sequentialPow}}),Object.defineProperty(n,"scaleSequentialQuantile",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(n,"scaleSequentialSqrt",{enumerable:!0,get:function(){return v.sequentialSqrt}}),Object.defineProperty(n,"scaleSequentialSymlog",{enumerable:!0,get:function(){return v.sequentialSymlog}}),Object.defineProperty(n,"scaleSqrt",{enumerable:!0,get:function(){return u.sqrt}}),Object.defineProperty(n,"scaleSymlog",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"scaleThreshold",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(n,"scaleTime",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(n,"scaleUtc",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(n,"tickFormat",{enumerable:!0,get:function(){return _.default}});var i=x(e("./band.js")),r=b(e("./identity.js")),a=b(e("./linear.js")),s=b(e("./log.js")),o=b(e("./symlog.js")),l=x(e("./ordinal.js")),u=x(e("./pow.js")),c=b(e("./radial.js")),d=b(e("./quantile.js")),h=b(e("./quantize.js")),f=b(e("./threshold.js")),p=b(e("./time.js")),m=b(e("./utcTime.js")),v=x(e("./sequential.js")),y=b(e("./sequentialQuantile.js")),g=x(e("./diverging.js")),_=b(e("./tickFormat.js"));function b(e){return e&&e.__esModule?e:{default:e}}function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(j=function(e){return e?n:t})(e)}function x(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=j(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=r?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}},{"./band.js":673,"./diverging.js":676,"./identity.js":677,"./linear.js":680,"./log.js":681,"./ordinal.js":684,"./pow.js":685,"./quantile.js":686,"./quantize.js":687,"./radial.js":688,"./sequential.js":689,"./sequentialQuantile.js":690,"./symlog.js":691,"./threshold.js":692,"./tickFormat.js":693,"./time.js":694,"./utcTime.js":695}],679:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.initInterpolator=function(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this},n.initRange=function(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}},{}],680:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){var t=(0,a.default)();return t.copy=function(){return(0,a.copy)(t,e())},s.initRange.apply(t,arguments),u(t)},n.linearish=u;var i,r=e("d3-array"),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=r?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(e("./continuous.js")),s=e("./init.js"),o=(i=e("./tickFormat.js"))&&i.__esModule?i:{default:i};function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(e){var t=e.domain;return e.ticks=function(e){var n=t();return(0,r.ticks)(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var i=t();return(0,o.default)(i[0],i[i.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var i,a,s=t(),o=0,l=s.length-1,u=s[o],c=s[l],d=10;for(c<u&&(a=u,u=c,c=a,a=o,o=l,l=a);d-- >0;){if((a=(0,r.tickIncrement)(u,c,n))===i)return s[o]=u,s[l]=c,t(s);if(a>0)u=Math.floor(u/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;u=Math.ceil(u*a)/a,c=Math.floor(c*a)/a}i=a}return e},e}},{"./continuous.js":675,"./init.js":679,"./tickFormat.js":693,"d3-array":332}],681:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){const t=m((0,o.transformer)()).domain([1,10]);return t.copy=()=>(0,o.copy)(t,e()).base(t.base()),l.initRange.apply(t,arguments),t},n.loggish=m;var i,r=e("d3-array"),a=e("d3-format"),s=(i=e("./nice.js"))&&i.__esModule?i:{default:i},o=e("./continuous.js"),l=e("./init.js");function u(e){return Math.log(e)}function c(e){return Math.exp(e)}function d(e){return-Math.log(-e)}function h(e){return-Math.exp(-e)}function f(e){return isFinite(e)?+("1e"+e):e<0?0:e}function p(e){return(t,n)=>-e(-t,n)}function m(e){const t=e(u,c),n=t.domain;let i,o,l=10;function m(){return i=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(l),o=function(e){return 10===e?f:e===Math.E?Math.exp:t=>Math.pow(e,t)}(l),n()[0]<0?(i=p(i),o=p(o),e(d,h)):e(u,c),t}return t.base=function(e){return arguments.length?(l=+e,m()):l},t.domain=function(e){return arguments.length?(n(e),m()):n()},t.ticks=e=>{const t=n();let a=t[0],s=t[t.length-1];const u=s<a;u&&([a,s]=[s,a]);let c,d,h=i(a),f=i(s);const p=null==e?10:+e;let m=[];if(!(l%1)&&f-h<p){if(h=Math.floor(h),f=Math.ceil(f),a>0){for(;h<=f;++h)for(c=1;c<l;++c)if(d=h<0?c/o(-h):c*o(h),!(d<a)){if(d>s)break;m.push(d)}}else for(;h<=f;++h)for(c=l-1;c>=1;--c)if(d=h>0?c/o(-h):c*o(h),!(d<a)){if(d>s)break;m.push(d)}2*m.length<p&&(m=(0,r.ticks)(a,s,p))}else m=(0,r.ticks)(h,f,Math.min(f-h,p)).map(o);return u?m.reverse():m},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===l?"s":","),"function"!=typeof n&&(l%1||null!=(n=(0,a.formatSpecifier)(n)).precision||(n.trim=!0),n=(0,a.format)(n)),e===1/0)return n;const r=Math.max(1,l*e/t.ticks().length);return e=>{let t=e/o(Math.round(i(e)));return t*l<l-.5&&(t*=l),t<=r?n(e):""}},t.nice=()=>n((0,s.default)(n(),{floor:e=>o(Math.floor(i(e))),ceil:e=>o(Math.ceil(i(e)))})),t}},{"./continuous.js":675,"./init.js":679,"./nice.js":682,"d3-array":332,"d3-format":460}],682:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){e=e.slice();var n,i=0,r=e.length-1,a=e[i],s=e[r];s<a&&(n=i,i=r,r=n,n=a,a=s,s=n);return e[i]=t.floor(a),e[r]=t.ceil(s),e}},{}],683:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return+e}},{}],684:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){var t=new i.InternMap,n=[],s=[],o=a;function l(e){let i=t.get(e);if(void 0===i){if(o!==a)return o;t.set(e,i=n.push(e)-1)}return s[i%s.length]}return l.domain=function(e){if(!arguments.length)return n.slice();n=[],t=new i.InternMap;for(const i of e)t.has(i)||t.set(i,n.push(i)-1);return l},l.range=function(e){return arguments.length?(s=Array.from(e),l):s.slice()},l.unknown=function(e){return arguments.length?(o=e,l):o},l.copy=function(){return e(n,s).unknown(o)},r.initRange.apply(l,arguments),l},n.implicit=void 0;var i=e("d3-array"),r=e("./init.js");const a=Symbol("implicit");n.implicit=a},{"./init.js":679,"d3-array":332}],685:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=c,n.powish=u,n.sqrt=function(){return c.apply(null,arguments).exponent(.5)};var i=e("./linear.js"),r=e("./continuous.js"),a=e("./init.js");function s(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function o(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function l(e){return e<0?-e*e:e*e}function u(e){var t=e(r.identity,r.identity),n=1;function a(){return 1===n?e(r.identity,r.identity):.5===n?e(o,l):e(s(n),s(1/n))}return t.exponent=function(e){return arguments.length?(n=+e,a()):n},(0,i.linearish)(t)}function c(){var e=u((0,r.transformer)());return e.copy=function(){return(0,r.copy)(e,c()).exponent(e.exponent())},a.initRange.apply(e,arguments),e}},{"./continuous.js":675,"./init.js":679,"./linear.js":680}],686:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){var t,n=[],a=[],s=[];function o(){var e=0,t=Math.max(1,a.length);for(s=new Array(t-1);++e<t;)s[e-1]=(0,i.quantileSorted)(n,e/t);return l}function l(e){return null==e||isNaN(e=+e)?t:a[(0,i.bisect)(s,e)]}return l.invertExtent=function(e){var t=a.indexOf(e);return t<0?[NaN,NaN]:[t>0?s[t-1]:n[0],t<s.length?s[t]:n[n.length-1]]},l.domain=function(e){if(!arguments.length)return n.slice();n=[];for(let t of e)null==t||isNaN(t=+t)||n.push(t);return n.sort(i.ascending),o()},l.range=function(e){return arguments.length?(a=Array.from(e),o()):a.slice()},l.unknown=function(e){return arguments.length?(t=e,l):t},l.quantiles=function(){return s.slice()},l.copy=function(){return e().domain(n).range(a).unknown(t)},r.initRange.apply(l,arguments)};var i=e("d3-array"),r=e("./init.js")},{"./init.js":679,"d3-array":332}],687:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){var t,n=0,s=1,o=1,l=[.5],u=[0,1];function c(e){return null!=e&&e<=e?u[(0,i.bisect)(l,e,0,o)]:t}function d(){var e=-1;for(l=new Array(o);++e<o;)l[e]=((e+1)*s-(e-o)*n)/(o+1);return c}return c.domain=function(e){return arguments.length?([n,s]=e,n=+n,s=+s,d()):[n,s]},c.range=function(e){return arguments.length?(o=(u=Array.from(e)).length-1,d()):u.slice()},c.invertExtent=function(e){var t=u.indexOf(e);return t<0?[NaN,NaN]:t<1?[n,l[0]]:t>=o?[l[o-1],s]:[l[t-1],l[t]]},c.unknown=function(e){return arguments.length?(t=e,c):c},c.thresholds=function(){return l.slice()},c.copy=function(){return e().domain([n,s]).range(u).unknown(t)},a.initRange.apply((0,r.linearish)(c),arguments)};var i=e("d3-array"),r=e("./linear.js"),a=e("./init.js")},{"./init.js":679,"./linear.js":680,"d3-array":332}],688:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){var t,n=(0,i.default)(),o=[0,1],c=!1;function d(e){var i=u(n(e));return isNaN(i)?t:c?Math.round(i):i}return d.invert=function(e){return n.invert(l(e))},d.domain=function(e){return arguments.length?(n.domain(e),d):n.domain()},d.range=function(e){return arguments.length?(n.range((o=Array.from(e,s.default)).map(l)),d):o.slice()},d.rangeRound=function(e){return d.range(e).round(!0)},d.round=function(e){return arguments.length?(c=!!e,d):c},d.clamp=function(e){return arguments.length?(n.clamp(e),d):n.clamp()},d.unknown=function(e){return arguments.length?(t=e,d):t},d.copy=function(){return e(n.domain(),o).round(c).clamp(n.clamp()).unknown(t)},r.initRange.apply(d,arguments),(0,a.linearish)(d)};var i=o(e("./continuous.js")),r=e("./init.js"),a=e("./linear.js"),s=o(e("./number.js"));function o(e){return e&&e.__esModule?e:{default:e}}function l(e){return Math.sign(e)*e*e}function u(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}},{"./continuous.js":675,"./init.js":679,"./linear.js":680,"./number.js":683}],689:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.copy=d,n.default=function e(){var t=(0,s.linearish)(c()(r.identity));return t.copy=function(){return d(t,e())},a.initInterpolator.apply(t,arguments)},n.sequentialLog=function e(){var t=(0,o.loggish)(c()).domain([1,10]);return t.copy=function(){return d(t,e()).base(t.base())},a.initInterpolator.apply(t,arguments)},n.sequentialPow=h,n.sequentialSqrt=function(){return h.apply(null,arguments).exponent(.5)},n.sequentialSymlog=function e(){var t=(0,l.symlogish)(c());return t.copy=function(){return d(t,e()).constant(t.constant())},a.initInterpolator.apply(t,arguments)};var i=e("d3-interpolate"),r=e("./continuous.js"),a=e("./init.js"),s=e("./linear.js"),o=e("./log.js"),l=e("./symlog.js"),u=e("./pow.js");function c(){var e,t,n,a,s,o=0,l=1,u=r.identity,c=!1;function d(t){return null==t||isNaN(t=+t)?s:u(0===n?.5:(t=(a(t)-e)*n,c?Math.max(0,Math.min(1,t)):t))}function h(e){return function(t){var n,i;return arguments.length?([n,i]=t,u=e(n,i),d):[u(0),u(1)]}}return d.domain=function(i){return arguments.length?([o,l]=i,e=a(o=+o),t=a(l=+l),n=e===t?0:1/(t-e),d):[o,l]},d.clamp=function(e){return arguments.length?(c=!!e,d):c},d.interpolator=function(e){return arguments.length?(u=e,d):u},d.range=h(i.interpolate),d.rangeRound=h(i.interpolateRound),d.unknown=function(e){return arguments.length?(s=e,d):s},function(i){return a=i,e=i(o),t=i(l),n=e===t?0:1/(t-e),d}}function d(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function h(){var e=(0,u.powish)(c());return e.copy=function(){return d(e,h()).exponent(e.exponent())},a.initInterpolator.apply(e,arguments)}},{"./continuous.js":675,"./init.js":679,"./linear.js":680,"./log.js":681,"./pow.js":685,"./symlog.js":691,"d3-interpolate":568}],690:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){var t=[],n=r.identity;function s(e){if(null!=e&&!isNaN(e=+e))return n(((0,i.bisect)(t,e,1)-1)/(t.length-1))}return s.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(i.ascending),s},s.interpolator=function(e){return arguments.length?(n=e,s):n},s.range=function(){return t.map(((e,i)=>n(i/(t.length-1))))},s.quantiles=function(e){return Array.from({length:e+1},((n,r)=>(0,i.quantile)(t,r/e)))},s.copy=function(){return e(n).domain(t)},a.initInterpolator.apply(s,arguments)};var i=e("d3-array"),r=e("./continuous.js"),a=e("./init.js")},{"./continuous.js":675,"./init.js":679,"d3-array":332}],691:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){var t=l((0,r.transformer)());return t.copy=function(){return(0,r.copy)(t,e()).constant(t.constant())},a.initRange.apply(t,arguments)},n.symlogish=l;var i=e("./linear.js"),r=e("./continuous.js"),a=e("./init.js");function s(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function o(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function l(e){var t=1,n=e(s(t),o(t));return n.constant=function(n){return arguments.length?e(s(t=+n),o(t)):t},(0,i.linearish)(n)}},{"./continuous.js":675,"./init.js":679,"./linear.js":680}],692:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){var t,n=[.5],a=[0,1],s=1;function o(e){return null!=e&&e<=e?a[(0,i.bisect)(n,e,0,s)]:t}return o.domain=function(e){return arguments.length?(n=Array.from(e),s=Math.min(n.length,a.length-1),o):n.slice()},o.range=function(e){return arguments.length?(a=Array.from(e),s=Math.min(n.length,a.length-1),o):a.slice()},o.invertExtent=function(e){var t=a.indexOf(e);return[n[t-1],n[t]]},o.unknown=function(e){return arguments.length?(t=e,o):t},o.copy=function(){return e().domain(n).range(a).unknown(t)},r.initRange.apply(o,arguments)};var i=e("d3-array"),r=e("./init.js")},{"./init.js":679,"d3-array":332}],693:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n,a){var s,o=(0,i.tickStep)(e,t,n);switch((a=(0,r.formatSpecifier)(null==a?",f":a)).type){case"s":var l=Math.max(Math.abs(e),Math.abs(t));return null!=a.precision||isNaN(s=(0,r.precisionPrefix)(o,l))||(a.precision=s),(0,r.formatPrefix)(a,l);case"":case"e":case"g":case"p":case"r":null!=a.precision||isNaN(s=(0,r.precisionRound)(o,Math.max(Math.abs(e),Math.abs(t))))||(a.precision=s-("e"===a.type));break;case"f":case"%":null!=a.precision||isNaN(s=(0,r.precisionFixed)(o))||(a.precision=s-2*("%"===a.type))}return(0,r.format)(a)};var i=e("d3-array"),r=e("d3-format")},{"d3-array":332,"d3-format":460}],694:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.calendar=h,n.default=function(){return o.initRange.apply(h(r.timeTicks,r.timeTickInterval,r.timeYear,r.timeMonth,r.timeWeek,r.timeDay,r.timeHour,r.timeMinute,r.timeSecond,a.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)};var i,r=e("d3-time"),a=e("d3-time-format"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=r?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(e("./continuous.js")),o=e("./init.js"),l=(i=e("./nice.js"))&&i.__esModule?i:{default:i};function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e){return new Date(e)}function d(e){return e instanceof Date?+e:+new Date(+e)}function h(e,t,n,i,r,a,o,u,f,p){var m=(0,s.default)(),v=m.invert,y=m.domain,g=p(".%L"),_=p(":%S"),b=p("%I:%M"),j=p("%I %p"),x=p("%a %d"),w=p("%b %d"),k=p("%B"),S=p("%Y");function P(e){return(f(e)<e?g:u(e)<e?_:o(e)<e?b:a(e)<e?j:i(e)<e?r(e)<e?x:w:n(e)<e?k:S)(e)}return m.invert=function(e){return new Date(v(e))},m.domain=function(e){return arguments.length?y(Array.from(e,d)):y().map(c)},m.ticks=function(t){var n=y();return e(n[0],n[n.length-1],null==t?10:t)},m.tickFormat=function(e,t){return null==t?P:p(t)},m.nice=function(e){var n=y();return e&&"function"==typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?y((0,l.default)(n,e)):m},m.copy=function(){return(0,s.copy)(m,h(e,t,n,i,r,a,o,u,f,p))},m}},{"./continuous.js":675,"./init.js":679,"./nice.js":682,"d3-time":816,"d3-time-format":809}],695:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return s.initRange.apply((0,a.calendar)(i.utcTicks,i.utcTickInterval,i.utcYear,i.utcMonth,i.utcWeek,i.utcDay,i.utcHour,i.utcMinute,i.utcSecond,r.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)};var i=e("d3-time"),r=e("d3-time-format"),a=e("./time.js"),s=e("./init.js")},{"./init.js":679,"./time.js":694,"d3-time":816,"d3-time-format":809}],696:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}},{}],697:[function(e,t,n){arguments[4][380][0].apply(n,arguments)},{dup:380}],698:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return(0,r.default)((0,i.default)(e).call(document.documentElement))};var i=a(e("./creator.js")),r=a(e("./select.js"));function a(e){return e&&e.__esModule?e:{default:e}}},{"./creator.js":699,"./select.js":707}],699:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=(0,r.default)(e);return(t.local?o:s)(t)};var i,r=(i=e("./namespace.js"))&&i.__esModule?i:{default:i},a=e("./namespaces.js");function s(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===a.xhtml&&t.documentElement.namespaceURI===a.xhtml?t.createElement(e):t.createElementNS(n,e)}}function o(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}},{"./namespace.js":703,"./namespaces.js":704}],700:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"create",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"creator",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"local",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"matcher",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(n,"namespace",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"namespaces",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(n,"pointer",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(n,"pointers",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(n,"select",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(n,"selectAll",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(n,"selection",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(n,"selector",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(n,"selectorAll",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(n,"style",{enumerable:!0,get:function(){return v.styleValue}}),Object.defineProperty(n,"window",{enumerable:!0,get:function(){return y.default}});var i=g(e("./create.js")),r=g(e("./creator.js")),a=g(e("./local.js")),s=g(e("./matcher.js")),o=g(e("./namespace.js")),l=g(e("./namespaces.js")),u=g(e("./pointer.js")),c=g(e("./pointers.js")),d=g(e("./select.js")),h=g(e("./selectAll.js")),f=g(e("./selection/index.js")),p=g(e("./selector.js")),m=g(e("./selectorAll.js")),v=e("./selection/style.js"),y=g(e("./window.js"));function g(e){return e&&e.__esModule?e:{default:e}}},{"./create.js":698,"./creator.js":699,"./local.js":701,"./matcher.js":702,"./namespace.js":703,"./namespaces.js":704,"./pointer.js":705,"./pointers.js":706,"./select.js":707,"./selectAll.js":708,"./selection/index.js":723,"./selection/style.js":743,"./selector.js":745,"./selectorAll.js":746,"./window.js":748}],701:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;var i=0;function r(){return new a}function a(){this._="@"+(++i).toString(36)}a.prototype=r.prototype={constructor:a,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}}},{}],702:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.childMatcher=function(e){return function(t){return t.matches(e)}},n.default=function(e){return function(){return this.matches(e)}}},{}],703:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=e+="",n=t.indexOf(":");n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1));return r.default.hasOwnProperty(t)?{space:r.default[t],local:e}:e};var i,r=(i=e("./namespaces.js"))&&i.__esModule?i:{default:i}},{"./namespaces.js":704}],704:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.xhtml=n.default=void 0;var i="http://www.w3.org/1999/xhtml";n.xhtml=i;var r={svg:"http://www.w3.org/2000/svg",xhtml:i,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};n.default=r},{}],705:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){e=(0,r.default)(e),void 0===t&&(t=e.currentTarget);if(t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]};var i,r=(i=e("./sourceEvent.js"))&&i.__esModule?i:{default:i}},{"./sourceEvent.js":747}],706:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){e.target&&(e=(0,r.default)(e),void 0===t&&(t=e.currentTarget),e=e.touches||[e]);return Array.from(e,(e=>(0,i.default)(e,t)))};var i=a(e("./pointer.js")),r=a(e("./sourceEvent.js"));function a(e){return e&&e.__esModule?e:{default:e}}},{"./pointer.js":705,"./sourceEvent.js":747}],707:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return"string"==typeof e?new i.Selection([[document.querySelector(e)]],[document.documentElement]):new i.Selection([[e]],i.root)};var i=e("./selection/index.js")},{"./selection/index.js":723}],708:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return"string"==typeof e?new a.Selection([document.querySelectorAll(e)],[document.documentElement]):new a.Selection([(0,r.default)(e)],a.root)};var i,r=(i=e("./array.js"))&&i.__esModule?i:{default:i},a=e("./selection/index.js")},{"./array.js":696,"./selection/index.js":723}],709:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t="function"==typeof e?e:(0,r.default)(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))};var i,r=(i=e("../creator.js"))&&i.__esModule?i:{default:i}},{"../creator.js":699}],710:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){var n=(0,r.default)(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==t?n.local?s:a:"function"==typeof t?n.local?c:u:n.local?l:o)(n,t))};var i,r=(i=e("../namespace.js"))&&i.__esModule?i:{default:i};function a(e){return function(){this.removeAttribute(e)}}function s(e){return function(){this.removeAttributeNS(e.space,e.local)}}function o(e,t){return function(){this.setAttribute(e,t)}}function l(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function u(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function c(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}},{"../namespace.js":703}],711:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}},{}],712:[function(e,t,n){"use strict";function i(e){return e.trim().split(/^|\s+/)}function r(e){return e.classList||new a(e)}function a(e){this._node=e,this._names=i(e.getAttribute("class")||"")}function s(e,t){for(var n=r(e),i=-1,a=t.length;++i<a;)n.add(t[i])}function o(e,t){for(var n=r(e),i=-1,a=t.length;++i<a;)n.remove(t[i])}function l(e){return function(){s(this,e)}}function u(e){return function(){o(this,e)}}function c(e,t){return function(){(t.apply(this,arguments)?s:o)(this,e)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){var n=i(e+"");if(arguments.length<2){for(var a=r(this.node()),s=-1,o=n.length;++s<o;)if(!a.contains(n[s]))return!1;return!0}return this.each(("function"==typeof t?c:t?l:u)(n,t))},a.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}}},{}],713:[function(e,t,n){"use strict";function i(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function r(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return this.select(e?r:i)}},{}],714:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){if(!arguments.length)return Array.from(this,u);var n=t?l:o,i=this._parents,a=this._groups;"function"!=typeof e&&(e=(0,s.default)(e));for(var d=a.length,h=new Array(d),f=new Array(d),p=new Array(d),m=0;m<d;++m){var v=i[m],y=a[m],g=y.length,_=c(e.call(v,v&&v.__data__,m,i)),b=_.length,j=f[m]=new Array(b),x=h[m]=new Array(b),w=p[m]=new Array(g);n(v,y,j,x,w,_,t);for(var k,S,P=0,M=0;P<b;++P)if(k=j[P]){for(P>=M&&(M=P+1);!(S=x[M])&&++M<b;);k._next=S||null}}return(h=new r.Selection(h,i))._enter=f,h._exit=p,h};var i,r=e("./index.js"),a=e("./enter.js"),s=(i=e("../constant.js"))&&i.__esModule?i:{default:i};function o(e,t,n,i,r,s){for(var o,l=0,u=t.length,c=s.length;l<c;++l)(o=t[l])?(o.__data__=s[l],i[l]=o):n[l]=new a.EnterNode(e,s[l]);for(;l<u;++l)(o=t[l])&&(r[l]=o)}function l(e,t,n,i,r,s,o){var l,u,c,d=new Map,h=t.length,f=s.length,p=new Array(h);for(l=0;l<h;++l)(u=t[l])&&(p[l]=c=o.call(u,u.__data__,l,t)+"",d.has(c)?r[l]=u:d.set(c,u));for(l=0;l<f;++l)c=o.call(e,s[l],l,s)+"",(u=d.get(c))?(i[l]=u,u.__data__=s[l],d.delete(c)):n[l]=new a.EnterNode(e,s[l]);for(l=0;l<h;++l)(u=t[l])&&d.get(p[l])===u&&(r[l]=u)}function u(e){return e.__data__}function c(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}},{"../constant.js":697,"./enter.js":719,"./index.js":723}],715:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return arguments.length?this.property("__data__",e):this.node().__data__}},{}],716:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){return this.each(("function"==typeof t?o:s)(e,t))};var i,r=(i=e("../window.js"))&&i.__esModule?i:{default:i};function a(e,t,n){var i=(0,r.default)(e),a=i.CustomEvent;"function"==typeof a?a=new a(t,n):(a=i.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function s(e,t){return function(){return a(this,e,t)}}function o(e,t){return function(){return a(this,e,t.apply(this,arguments))}}},{"../window.js":748}],717:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var r,a=t[n],s=0,o=a.length;s<o;++s)(r=a[s])&&e.call(r,r.__data__,s,a);return this}},{}],718:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return!this.node()}},{}],719:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.EnterNode=s,n.default=function(){return new a.Selection(this._enter||this._groups.map(r.default),this._parents)};var i,r=(i=e("./sparse.js"))&&i.__esModule?i:{default:i},a=e("./index.js");function s(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}s.prototype={constructor:s,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}}},{"./index.js":723,"./sparse.js":742}],720:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return new a.Selection(this._exit||this._groups.map(r.default),this._parents)};var i,r=(i=e("./sparse.js"))&&i.__esModule?i:{default:i},a=e("./index.js")},{"./index.js":723,"./sparse.js":742}],721:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){"function"!=typeof e&&(e=(0,a.default)(e));for(var t=this._groups,n=t.length,i=new Array(n),s=0;s<n;++s)for(var o,l=t[s],u=l.length,c=i[s]=[],d=0;d<u;++d)(o=l[d])&&e.call(o,o.__data__,d,l)&&c.push(o);return new r.Selection(i,this._parents)};var i,r=e("./index.js"),a=(i=e("../matcher.js"))&&i.__esModule?i:{default:i}},{"../matcher.js":702,"./index.js":723}],722:[function(e,t,n){"use strict";function i(){this.innerHTML=""}function r(e){return function(){this.innerHTML=e}}function a(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return arguments.length?this.each(null==e?i:("function"==typeof e?a:r)(e)):this.node().innerHTML}},{}],723:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Selection=R,n.root=n.default=void 0;var i=z(e("./select.js")),r=z(e("./selectAll.js")),a=z(e("./selectChild.js")),s=z(e("./selectChildren.js")),o=z(e("./filter.js")),l=z(e("./data.js")),u=z(e("./enter.js")),c=z(e("./exit.js")),d=z(e("./join.js")),h=z(e("./merge.js")),f=z(e("./order.js")),p=z(e("./sort.js")),m=z(e("./call.js")),v=z(e("./nodes.js")),y=z(e("./node.js")),g=z(e("./size.js")),_=z(e("./empty.js")),b=z(e("./each.js")),j=z(e("./attr.js")),x=z(e("./style.js")),w=z(e("./property.js")),k=z(e("./classed.js")),S=z(e("./text.js")),P=z(e("./html.js")),M=z(e("./raise.js")),O=z(e("./lower.js")),L=z(e("./append.js")),E=z(e("./insert.js")),A=z(e("./remove.js")),C=z(e("./clone.js")),T=z(e("./datum.js")),D=z(e("./on.js")),I=z(e("./dispatch.js")),N=z(e("./iterator.js"));function z(e){return e&&e.__esModule?e:{default:e}}var q=[null];function R(e,t){this._groups=e,this._parents=t}function B(){return new R([[document.documentElement]],q)}n.root=q,R.prototype=B.prototype={constructor:R,select:i.default,selectAll:r.default,selectChild:a.default,selectChildren:s.default,filter:o.default,data:l.default,enter:u.default,exit:c.default,join:d.default,merge:h.default,selection:function(){return this},order:f.default,sort:p.default,call:m.default,nodes:v.default,node:y.default,size:g.default,empty:_.default,each:b.default,attr:j.default,style:x.default,property:w.default,classed:k.default,text:S.default,html:P.default,raise:M.default,lower:O.default,append:L.default,insert:E.default,remove:A.default,clone:C.default,datum:T.default,on:D.default,dispatch:I.default,[Symbol.iterator]:N.default};var F=B;n.default=F},{"./append.js":709,"./attr.js":710,"./call.js":711,"./classed.js":712,"./clone.js":713,"./data.js":714,"./datum.js":715,"./dispatch.js":716,"./each.js":717,"./empty.js":718,"./enter.js":719,"./exit.js":720,"./filter.js":721,"./html.js":722,"./insert.js":724,"./iterator.js":725,"./join.js":726,"./lower.js":727,"./merge.js":728,"./node.js":729,"./nodes.js":730,"./on.js":731,"./order.js":732,"./property.js":733,"./raise.js":734,"./remove.js":735,"./select.js":736,"./selectAll.js":737,"./selectChild.js":738,"./selectChildren.js":739,"./size.js":740,"./sort.js":741,"./style.js":743,"./text.js":744}],724:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){var n="function"==typeof e?e:(0,i.default)(e),a=null==t?s:"function"==typeof t?t:(0,r.default)(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),a.apply(this,arguments)||null)}))};var i=a(e("../creator.js")),r=a(e("../selector.js"));function a(e){return e&&e.__esModule?e:{default:e}}function s(){return null}},{"../creator.js":699,"../selector.js":745}],725:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i,r=e[t],a=0,s=r.length;a<s;++a)(i=r[a])&&(yield i)}},{}],726:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n){var i=this.enter(),r=this,a=this.exit();"function"==typeof e?(i=e(i))&&(i=i.selection()):i=i.append(e+"");null!=t&&(r=t(r))&&(r=r.selection());null==n?a.remove():n(a);return i&&r?i.merge(r).order():r}},{}],727:[function(e,t,n){"use strict";function i(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return this.each(i)}},{}],728:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,a=n.length,s=r.length,o=Math.min(a,s),l=new Array(a),u=0;u<o;++u)for(var c,d=n[u],h=r[u],f=d.length,p=l[u]=new Array(f),m=0;m<f;++m)(c=d[m]||h[m])&&(p[m]=c);for(;u<a;++u)l[u]=n[u];return new i.Selection(l,this._parents)};var i=e("./index.js")},{"./index.js":723}],729:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,a=i.length;r<a;++r){var s=i[r];if(s)return s}return null}},{}],730:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return Array.from(this)}},{}],731:[function(e,t,n){"use strict";function i(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function r(e){return function(){var t=this.__on;if(t){for(var n,i=0,r=-1,a=t.length;i<a;++i)n=t[i],e.type&&n.type!==e.type||n.name!==e.name?t[++r]=n:this.removeEventListener(n.type,n.listener,n.options);++r?t.length=r:delete this.__on}}}function a(e,t,n){return function(){var i,r=this.__on,a=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(r)for(var s=0,o=r.length;s<o;++s)if((i=r[s]).type===e.type&&i.name===e.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),void(i.value=t);this.addEventListener(e.type,a,n),i={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(i):this.__on=[i]}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n){var s,o,l=i(e+""),u=l.length;if(arguments.length<2){var c=this.node().__on;if(c)for(var d,h=0,f=c.length;h<f;++h)for(s=0,d=c[h];s<u;++s)if((o=l[s]).type===d.type&&o.name===d.name)return d.value;return}for(c=t?a:r,s=0;s<u;++s)this.each(c(l[s],t,n));return this}},{}],732:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i,r=e[t],a=r.length-1,s=r[a];--a>=0;)(i=r[a])&&(s&&4^i.compareDocumentPosition(s)&&s.parentNode.insertBefore(i,s),s=i);return this}},{}],733:[function(e,t,n){"use strict";function i(e){return function(){delete this[e]}}function r(e,t){return function(){this[e]=t}}function a(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){return arguments.length>1?this.each((null==t?i:"function"==typeof t?a:r)(e,t)):this.node()[e]}},{}],734:[function(e,t,n){"use strict";function i(){this.nextSibling&&this.parentNode.appendChild(this)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return this.each(i)}},{}],735:[function(e,t,n){"use strict";function i(){var e=this.parentNode;e&&e.removeChild(this)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return this.each(i)}},{}],736:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){"function"!=typeof e&&(e=(0,a.default)(e));for(var t=this._groups,n=t.length,i=new Array(n),s=0;s<n;++s)for(var o,l,u=t[s],c=u.length,d=i[s]=new Array(c),h=0;h<c;++h)(o=u[h])&&(l=e.call(o,o.__data__,h,u))&&("__data__"in o&&(l.__data__=o.__data__),d[h]=l);return new r.Selection(i,this._parents)};var i,r=e("./index.js"),a=(i=e("../selector.js"))&&i.__esModule?i:{default:i}},{"../selector.js":745,"./index.js":723}],737:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){e="function"==typeof e?function(e){return function(){return(0,r.default)(e.apply(this,arguments))}}(e):(0,a.default)(e);for(var t=this._groups,n=t.length,s=[],o=[],l=0;l<n;++l)for(var u,c=t[l],d=c.length,h=0;h<d;++h)(u=c[h])&&(s.push(e.call(u,u.__data__,h,c)),o.push(u));return new i.Selection(s,o)};var i=e("./index.js"),r=s(e("../array.js")),a=s(e("../selectorAll.js"));function s(e){return e&&e.__esModule?e:{default:e}}},{"../array.js":696,"../selectorAll.js":746,"./index.js":723}],738:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return this.select(null==e?a:function(e){return function(){return r.call(this.children,e)}}("function"==typeof e?e:(0,i.childMatcher)(e)))};var i=e("../matcher.js"),r=Array.prototype.find;function a(){return this.firstElementChild}},{"../matcher.js":702}],739:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return this.selectAll(null==e?a:function(e){return function(){return r.call(this.children,e)}}("function"==typeof e?e:(0,i.childMatcher)(e)))};var i=e("../matcher.js"),r=Array.prototype.filter;function a(){return Array.from(this.children)}},{"../matcher.js":702}],740:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){let e=0;for(const t of this)++e;return e}},{}],741:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){e||(e=r);function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}for(var n=this._groups,a=n.length,s=new Array(a),o=0;o<a;++o){for(var l,u=n[o],c=u.length,d=s[o]=new Array(c),h=0;h<c;++h)(l=u[h])&&(d[h]=l);d.sort(t)}return new i.Selection(s,this._parents).order()};var i=e("./index.js");function r(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}},{"./index.js":723}],742:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return new Array(e.length)}},{}],743:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n){return arguments.length>1?this.each((null==t?a:"function"==typeof t?o:s)(e,t,null==n?"":n)):l(this.node(),e)},n.styleValue=l;var i,r=(i=e("../window.js"))&&i.__esModule?i:{default:i};function a(e){return function(){this.style.removeProperty(e)}}function s(e,t,n){return function(){this.style.setProperty(e,t,n)}}function o(e,t,n){return function(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function l(e,t){return e.style.getPropertyValue(t)||(0,r.default)(e).getComputedStyle(e,null).getPropertyValue(t)}},{"../window.js":748}],744:[function(e,t,n){"use strict";function i(){this.textContent=""}function r(e){return function(){this.textContent=e}}function a(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return arguments.length?this.each(null==e?i:("function"==typeof e?a:r)(e)):this.node().textContent}},{}],745:[function(e,t,n){"use strict";function i(){}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return null==e?i:function(){return this.querySelector(e)}}},{}],746:[function(e,t,n){"use strict";function i(){return[]}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return null==e?i:function(){return this.querySelectorAll(e)}}},{}],747:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}},{}],748:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}},{}],749:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=o,t=l,n=(0,a.default)(0),i=null,p=u,m=c,v=d,y=null;function g(){var a,o,l=+e.apply(this,arguments),u=+t.apply(this,arguments),c=p.apply(this,arguments)-s.halfPi,d=m.apply(this,arguments)-s.halfPi,g=(0,s.abs)(d-c),_=d>c;if(y||(y=a=(0,r.path)()),u<l&&(o=u,u=l,l=o),u>s.epsilon)if(g>s.tau-s.epsilon)y.moveTo(u*(0,s.cos)(c),u*(0,s.sin)(c)),y.arc(0,0,u,c,d,!_),l>s.epsilon&&(y.moveTo(l*(0,s.cos)(d),l*(0,s.sin)(d)),y.arc(0,0,l,d,c,_));else{var b,j,x=c,w=d,k=c,S=d,P=g,M=g,O=v.apply(this,arguments)/2,L=O>s.epsilon&&(i?+i.apply(this,arguments):(0,s.sqrt)(l*l+u*u)),E=(0,s.min)((0,s.abs)(u-l)/2,+n.apply(this,arguments)),A=E,C=E;if(L>s.epsilon){var T=(0,s.asin)(L/l*(0,s.sin)(O)),D=(0,s.asin)(L/u*(0,s.sin)(O));(P-=2*T)>s.epsilon?(k+=T*=_?1:-1,S-=T):(P=0,k=S=(c+d)/2),(M-=2*D)>s.epsilon?(x+=D*=_?1:-1,w-=D):(M=0,x=w=(c+d)/2)}var I=u*(0,s.cos)(x),N=u*(0,s.sin)(x),z=l*(0,s.cos)(S),q=l*(0,s.sin)(S);if(E>s.epsilon){var R,B=u*(0,s.cos)(w),F=u*(0,s.sin)(w),H=l*(0,s.cos)(k),W=l*(0,s.sin)(k);if(g<s.pi&&(R=h(I,N,H,W,B,F,z,q))){var Z=I-R[0],V=N-R[1],U=B-R[0],Y=F-R[1],G=1/(0,s.sin)((0,s.acos)((Z*U+V*Y)/((0,s.sqrt)(Z*Z+V*V)*(0,s.sqrt)(U*U+Y*Y)))/2),X=(0,s.sqrt)(R[0]*R[0]+R[1]*R[1]);A=(0,s.min)(E,(l-X)/(G-1)),C=(0,s.min)(E,(u-X)/(G+1))}}M>s.epsilon?C>s.epsilon?(b=f(H,W,I,N,u,C,_),j=f(B,F,z,q,u,C,_),y.moveTo(b.cx+b.x01,b.cy+b.y01),C<E?y.arc(b.cx,b.cy,C,(0,s.atan2)(b.y01,b.x01),(0,s.atan2)(j.y01,j.x01),!_):(y.arc(b.cx,b.cy,C,(0,s.atan2)(b.y01,b.x01),(0,s.atan2)(b.y11,b.x11),!_),y.arc(0,0,u,(0,s.atan2)(b.cy+b.y11,b.cx+b.x11),(0,s.atan2)(j.cy+j.y11,j.cx+j.x11),!_),y.arc(j.cx,j.cy,C,(0,s.atan2)(j.y11,j.x11),(0,s.atan2)(j.y01,j.x01),!_))):(y.moveTo(I,N),y.arc(0,0,u,x,w,!_)):y.moveTo(I,N),l>s.epsilon&&P>s.epsilon?A>s.epsilon?(b=f(z,q,B,F,l,-A,_),j=f(I,N,H,W,l,-A,_),y.lineTo(b.cx+b.x01,b.cy+b.y01),A<E?y.arc(b.cx,b.cy,A,(0,s.atan2)(b.y01,b.x01),(0,s.atan2)(j.y01,j.x01),!_):(y.arc(b.cx,b.cy,A,(0,s.atan2)(b.y01,b.x01),(0,s.atan2)(b.y11,b.x11),!_),y.arc(0,0,l,(0,s.atan2)(b.cy+b.y11,b.cx+b.x11),(0,s.atan2)(j.cy+j.y11,j.cx+j.x11),_),y.arc(j.cx,j.cy,A,(0,s.atan2)(j.y11,j.x11),(0,s.atan2)(j.y01,j.x01),!_))):y.arc(0,0,l,S,k,_):y.lineTo(z,q)}else y.moveTo(0,0);if(y.closePath(),a)return y=null,a+""||null}return g.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,i=(+p.apply(this,arguments)+ +m.apply(this,arguments))/2-s.pi/2;return[(0,s.cos)(i)*n,(0,s.sin)(i)*n]},g.innerRadius=function(t){return arguments.length?(e="function"==typeof t?t:(0,a.default)(+t),g):e},g.outerRadius=function(e){return arguments.length?(t="function"==typeof e?e:(0,a.default)(+e),g):t},g.cornerRadius=function(e){return arguments.length?(n="function"==typeof e?e:(0,a.default)(+e),g):n},g.padRadius=function(e){return arguments.length?(i=null==e?null:"function"==typeof e?e:(0,a.default)(+e),g):i},g.startAngle=function(e){return arguments.length?(p="function"==typeof e?e:(0,a.default)(+e),g):p},g.endAngle=function(e){return arguments.length?(m="function"==typeof e?e:(0,a.default)(+e),g):m},g.padAngle=function(e){return arguments.length?(v="function"==typeof e?e:(0,a.default)(+e),g):v},g.context=function(e){return arguments.length?(y=null==e?null:e,g):y},g};var i,r=e("d3-path"),a=(i=e("./constant.js"))&&i.__esModule?i:{default:i},s=e("./math.js");function o(e){return e.innerRadius}function l(e){return e.outerRadius}function u(e){return e.startAngle}function c(e){return e.endAngle}function d(e){return e&&e.padAngle}function h(e,t,n,i,r,a,o,l){var u=n-e,c=i-t,d=o-r,h=l-a,f=h*u-d*c;if(!(f*f<s.epsilon))return[e+(f=(d*(t-a)-h*(e-r))/f)*u,t+f*c]}function f(e,t,n,i,r,a,o){var l=e-n,u=t-i,c=(o?a:-a)/(0,s.sqrt)(l*l+u*u),d=c*u,h=-c*l,f=e+d,p=t+h,m=n+d,v=i+h,y=(f+m)/2,g=(p+v)/2,_=m-f,b=v-p,j=_*_+b*b,x=r-a,w=f*v-m*p,k=(b<0?-1:1)*(0,s.sqrt)((0,s.max)(0,x*x*j-w*w)),S=(w*b-_*k)/j,P=(-w*_-b*k)/j,M=(w*b+_*k)/j,O=(-w*_+b*k)/j,L=S-y,E=P-g,A=M-y,C=O-g;return L*L+E*E>A*A+C*C&&(S=M,P=O),{cx:S,cy:P,x01:-d,y01:-h,x11:S*(r/x-1),y11:P*(r/x-1)}}},{"./constant.js":753,"./math.js":777,"d3-path":583}],750:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n){var u=null,c=(0,a.default)(!0),d=null,h=s.default,f=null;function p(a){var s,o,l,p,m,v=(a=(0,r.default)(a)).length,y=!1,g=new Array(v),_=new Array(v);for(null==d&&(f=h(m=(0,i.path)())),s=0;s<=v;++s){if(!(s<v&&c(p=a[s],s,a))===y)if(y=!y)o=s,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),l=s-1;l>=o;--l)f.point(g[l],_[l]);f.lineEnd(),f.areaEnd()}y&&(g[s]=+e(p,s,a),_[s]=+t(p,s,a),f.point(u?+u(p,s,a):g[s],n?+n(p,s,a):_[s]))}if(m)return f=null,m+""||null}function m(){return(0,o.default)().defined(c).curve(h).context(d)}return e="function"==typeof e?e:void 0===e?l.x:(0,a.default)(+e),t="function"==typeof t?t:void 0===t?(0,a.default)(0):(0,a.default)(+t),n="function"==typeof n?n:void 0===n?l.y:(0,a.default)(+n),p.x=function(t){return arguments.length?(e="function"==typeof t?t:(0,a.default)(+t),u=null,p):e},p.x0=function(t){return arguments.length?(e="function"==typeof t?t:(0,a.default)(+t),p):e},p.x1=function(e){return arguments.length?(u=null==e?null:"function"==typeof e?e:(0,a.default)(+e),p):u},p.y=function(e){return arguments.length?(t="function"==typeof e?e:(0,a.default)(+e),n=null,p):t},p.y0=function(e){return arguments.length?(t="function"==typeof e?e:(0,a.default)(+e),p):t},p.y1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:(0,a.default)(+e),p):n},p.lineX0=p.lineY0=function(){return m().x(e).y(t)},p.lineY1=function(){return m().x(e).y(n)},p.lineX1=function(){return m().x(u).y(t)},p.defined=function(e){return arguments.length?(c="function"==typeof e?e:(0,a.default)(!!e),p):c},p.curve=function(e){return arguments.length?(h=e,null!=d&&(f=h(d)),p):h},p.context=function(e){return arguments.length?(null==e?d=f=null:f=h(d=e),p):d},p};var i=e("d3-path"),r=u(e("./array.js")),a=u(e("./constant.js")),s=u(e("./curve/linear.js")),o=u(e("./line.js")),l=e("./point.js");function u(e){return e&&e.__esModule?e:{default:e}}},{"./array.js":752,"./constant.js":753,"./curve/linear.js":765,"./line.js":774,"./point.js":791,"d3-path":583}],751:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=(0,a.default)().curve(r.curveRadialLinear),t=e.curve,n=e.lineX0,i=e.lineX1,o=e.lineY0,l=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return(0,s.lineRadial)(n())},delete e.lineX0,e.lineEndAngle=function(){return(0,s.lineRadial)(i())},delete e.lineX1,e.lineInnerRadius=function(){return(0,s.lineRadial)(o())},delete e.lineY0,e.lineOuterRadius=function(){return(0,s.lineRadial)(l())},delete e.lineY1,e.curve=function(e){return arguments.length?t((0,r.default)(e)):t()._curve},e};var i,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=r?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(e("./curve/radial.js")),a=(i=e("./area.js"))&&i.__esModule?i:{default:i},s=e("./lineRadial.js");function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}},{"./area.js":750,"./curve/radial.js":769,"./lineRadial.js":775}],752:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return"object"==typeof e&&"length"in e?e:Array.from(e)},n.slice=void 0;var i=Array.prototype.slice;n.slice=i},{}],753:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return function(){return e}}},{}],754:[function(e,t,n){"use strict";function i(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function r(e){this._context=e}Object.defineProperty(n,"__esModule",{value:!0}),n.Basis=r,n.default=function(e){return new r(e)},n.point=i,r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:i(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:i(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}},{}],755:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return new s(e)};var i,r=(i=e("../noop.js"))&&i.__esModule?i:{default:i},a=e("./basis.js");function s(e){this._context=e}s.prototype={areaStart:r.default,areaEnd:r.default,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:(0,a.point)(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}},{"../noop.js":778,"./basis.js":754}],756:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return new r(e)};var i=e("./basis.js");function r(e){this._context=e}r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:(0,i.point)(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}},{"./basis.js":754}],757:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.bumpRadial=function(e){return new s(e)},n.bumpX=function(e){return new a(e,!0)},n.bumpY=function(e){return new a(e,!1)};var i,r=(i=e("../pointRadial.js"))&&i.__esModule?i:{default:i};class a{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}class s{constructor(e){this._context=e}lineStart(){this._point=0}lineEnd(){}point(e,t){if(e=+e,t=+t,0==this._point++)this._x0=e,this._y0=t;else{const n=(0,r.default)(this._x0,this._y0),i=(0,r.default)(this._x0,this._y0=(this._y0+t)/2),a=(0,r.default)(e,this._y0),s=(0,r.default)(e,t);this._context.moveTo(...n),this._context.bezierCurveTo(...i,...a,...s)}}}},{"../pointRadial.js":792}],758:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=e("./basis.js");function r(e,t){this._basis=new i.Basis(e),this._beta=t}r.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var i,r=e[0],a=t[0],s=e[n]-r,o=t[n]-a,l=-1;++l<=n;)i=l/n,this._basis.point(this._beta*e[l]+(1-this._beta)*(r+i*s),this._beta*t[l]+(1-this._beta)*(a+i*o));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var a=function e(t){function n(e){return 1===t?new i.Basis(e):new r(e,t)}return n.beta=function(t){return e(+t)},n}(.85);n.default=a},{"./basis.js":754}],759:[function(e,t,n){"use strict";function i(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function r(e,t){this._context=e,this._k=(1-t)/6}Object.defineProperty(n,"__esModule",{value:!0}),n.Cardinal=r,n.default=void 0,n.point=i,r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:i(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:i(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var a=function e(t){function n(e){return new r(e,t)}return n.tension=function(t){return e(+t)},n}(0);n.default=a},{}],760:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CardinalClosed=s,n.default=void 0;var i,r=(i=e("../noop.js"))&&i.__esModule?i:{default:i},a=e("./cardinal.js");function s(e,t){this._context=e,this._k=(1-t)/6}s.prototype={areaStart:r.default,areaEnd:r.default,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:(0,a.point)(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var o=function e(t){function n(e){return new s(e,t)}return n.tension=function(t){return e(+t)},n}(0);n.default=o},{"../noop.js":778,"./cardinal.js":759}],761:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CardinalOpen=r,n.default=void 0;var i=e("./cardinal.js");function r(e,t){this._context=e,this._k=(1-t)/6}r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:(0,i.point)(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var a=function e(t){function n(e){return new r(e,t)}return n.tension=function(t){return e(+t)},n}(0);n.default=a},{"./cardinal.js":759}],762:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,n.point=a;var i=e("../math.js"),r=e("./cardinal.js");function a(e,t,n){var r=e._x1,a=e._y1,s=e._x2,o=e._y2;if(e._l01_a>i.epsilon){var l=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,u=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*l-e._x0*e._l12_2a+e._x2*e._l01_2a)/u,a=(a*l-e._y0*e._l12_2a+e._y2*e._l01_2a)/u}if(e._l23_a>i.epsilon){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,d=3*e._l23_a*(e._l23_a+e._l12_a);s=(s*c+e._x1*e._l23_2a-t*e._l12_2a)/d,o=(o*c+e._y1*e._l23_2a-n*e._l12_2a)/d}e._context.bezierCurveTo(r,a,s,o,e._x2,e._y2)}function s(e,t){this._context=e,this._alpha=t}s.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:a(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var o=function e(t){function n(e){return t?new s(e,t):new r.Cardinal(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);n.default=o},{"../math.js":777,"./cardinal.js":759}],763:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r=e("./cardinalClosed.js"),a=(i=e("../noop.js"))&&i.__esModule?i:{default:i},s=e("./catmullRom.js");function o(e,t){this._context=e,this._alpha=t}o.prototype={areaStart:a.default,areaEnd:a.default,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:(0,s.point)(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var l=function e(t){function n(e){return t?new o(e,t):new r.CardinalClosed(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);n.default=l},{"../noop.js":778,"./cardinalClosed.js":760,"./catmullRom.js":762}],764:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=e("./cardinalOpen.js"),r=e("./catmullRom.js");function a(e,t){this._context=e,this._alpha=t}a.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:(0,r.point)(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var s=function e(t){function n(e){return t?new a(e,t):new i.CardinalOpen(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);n.default=s},{"./cardinalOpen.js":761,"./catmullRom.js":762}],765:[function(e,t,n){"use strict";function i(e){this._context=e}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return new i(e)},i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}}},{}],766:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return new a(e)};var i,r=(i=e("../noop.js"))&&i.__esModule?i:{default:i};function a(e){this._context=e}a.prototype={areaStart:r.default,areaEnd:r.default,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}}},{"../noop.js":778}],767:[function(e,t,n){"use strict";function i(e){return e<0?-1:1}function r(e,t,n){var r=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),l=(s*a+o*r)/(r+a);return(i(s)+i(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function a(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function s(e,t,n){var i=e._x0,r=e._y0,a=e._x1,s=e._y1,o=(a-i)/3;e._context.bezierCurveTo(i+o,r+o*t,a-o,s-o*n,a,s)}function o(e){this._context=e}function l(e){this._context=new u(e)}function u(e){this._context=e}Object.defineProperty(n,"__esModule",{value:!0}),n.monotoneX=function(e){return new o(e)},n.monotoneY=function(e){return new l(e)},o.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:s(this,this._t0,a(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,s(this,a(this,n=r(this,e,t)),n);break;default:s(this,this._t0,n=r(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(l.prototype=Object.create(o.prototype)).point=function(e,t){o.prototype.point.call(this,t,e)},u.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,i,r,a){this._context.bezierCurveTo(t,e,i,n,a,r)}}},{}],768:[function(e,t,n){"use strict";function i(e){this._context=e}function r(e){var t,n,i=e.length-1,r=new Array(i),a=new Array(i),s=new Array(i);for(r[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<i-1;++t)r[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(r[i-1]=2,a[i-1]=7,s[i-1]=8*e[i-1]+e[i],t=1;t<i;++t)n=r[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(r[i-1]=s[i-1]/a[i-1],t=i-2;t>=0;--t)r[t]=(s[t]-r[t+1])/a[t];for(a[i-1]=(e[i]+r[i-1])/2,t=0;t<i-1;++t)a[t]=2*e[t+1]-r[t+1];return[r,a]}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return new i(e)},i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var i=r(e),a=r(t),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(i[0][s],a[0][s],i[1][s],a[1][s],e[o],t[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}}},{}],769:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.curveRadialLinear=void 0,n.default=s;var r=s(((i=e("./linear.js"))&&i.__esModule?i:{default:i}).default);function a(e){this._curve=e}function s(e){function t(t){return new a(e(t))}return t._curve=e,t}n.curveRadialLinear=r,a.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}}},{"./linear.js":765}],770:[function(e,t,n){"use strict";function i(e,t){this._context=e,this._t=t}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return new i(e,.5)},n.stepAfter=function(e){return new i(e,1)},n.stepBefore=function(e){return new i(e,0)},i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}}},{}],771:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}},{}],772:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return e}},{}],773:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"arc",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"area",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"areaRadial",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"curveBasis",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(n,"curveBasisClosed",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(n,"curveBasisOpen",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(n,"curveBumpX",{enumerable:!0,get:function(){return O.bumpX}}),Object.defineProperty(n,"curveBumpY",{enumerable:!0,get:function(){return O.bumpY}}),Object.defineProperty(n,"curveBundle",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(n,"curveCardinal",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(n,"curveCardinalClosed",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(n,"curveCardinalOpen",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(n,"curveCatmullRom",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(n,"curveCatmullRomClosed",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(n,"curveCatmullRomOpen",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(n,"curveLinear",{enumerable:!0,get:function(){return z.default}}),Object.defineProperty(n,"curveLinearClosed",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(n,"curveMonotoneX",{enumerable:!0,get:function(){return q.monotoneX}}),Object.defineProperty(n,"curveMonotoneY",{enumerable:!0,get:function(){return q.monotoneY}}),Object.defineProperty(n,"curveNatural",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(n,"curveStep",{enumerable:!0,get:function(){return B.default}}),Object.defineProperty(n,"curveStepAfter",{enumerable:!0,get:function(){return B.stepAfter}}),Object.defineProperty(n,"curveStepBefore",{enumerable:!0,get:function(){return B.stepBefore}}),Object.defineProperty(n,"line",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"lineRadial",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(n,"link",{enumerable:!0,get:function(){return c.link}}),Object.defineProperty(n,"linkHorizontal",{enumerable:!0,get:function(){return c.linkHorizontal}}),Object.defineProperty(n,"linkRadial",{enumerable:!0,get:function(){return c.linkRadial}}),Object.defineProperty(n,"linkVertical",{enumerable:!0,get:function(){return c.linkVertical}}),Object.defineProperty(n,"pie",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(n,"pointRadial",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(n,"radialArea",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"radialLine",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(n,"stack",{enumerable:!0,get:function(){return F.default}}),Object.defineProperty(n,"stackOffsetDiverging",{enumerable:!0,get:function(){return W.default}}),Object.defineProperty(n,"stackOffsetExpand",{enumerable:!0,get:function(){return H.default}}),Object.defineProperty(n,"stackOffsetNone",{enumerable:!0,get:function(){return Z.default}}),Object.defineProperty(n,"stackOffsetSilhouette",{enumerable:!0,get:function(){return V.default}}),Object.defineProperty(n,"stackOffsetWiggle",{enumerable:!0,get:function(){return U.default}}),Object.defineProperty(n,"stackOrderAppearance",{enumerable:!0,get:function(){return Y.default}}),Object.defineProperty(n,"stackOrderAscending",{enumerable:!0,get:function(){return G.default}}),Object.defineProperty(n,"stackOrderDescending",{enumerable:!0,get:function(){return X.default}}),Object.defineProperty(n,"stackOrderInsideOut",{enumerable:!0,get:function(){return K.default}}),Object.defineProperty(n,"stackOrderNone",{enumerable:!0,get:function(){return $.default}}),Object.defineProperty(n,"stackOrderReverse",{enumerable:!0,get:function(){return J.default}}),Object.defineProperty(n,"symbol",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(n,"symbolAsterisk",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(n,"symbolCircle",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(n,"symbolCross",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(n,"symbolDiamond",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(n,"symbolDiamond2",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(n,"symbolPlus",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(n,"symbolSquare",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(n,"symbolSquare2",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(n,"symbolStar",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(n,"symbolTriangle",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(n,"symbolTriangle2",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(n,"symbolWye",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(n,"symbolX",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(n,"symbols",{enumerable:!0,get:function(){return d.symbolsFill}}),Object.defineProperty(n,"symbolsFill",{enumerable:!0,get:function(){return d.symbolsFill}}),Object.defineProperty(n,"symbolsStroke",{enumerable:!0,get:function(){return d.symbolsStroke}});var i=te(e("./arc.js")),r=te(e("./area.js")),a=te(e("./line.js")),s=te(e("./pie.js")),o=te(e("./areaRadial.js")),l=te(e("./lineRadial.js")),u=te(e("./pointRadial.js")),c=e("./link.js"),d=ee(e("./symbol.js")),h=te(e("./symbol/asterisk.js")),f=te(e("./symbol/circle.js")),p=te(e("./symbol/cross.js")),m=te(e("./symbol/diamond.js")),v=te(e("./symbol/diamond2.js")),y=te(e("./symbol/plus.js")),g=te(e("./symbol/square.js")),_=te(e("./symbol/square2.js")),b=te(e("./symbol/star.js")),j=te(e("./symbol/triangle.js")),x=te(e("./symbol/triangle2.js")),w=te(e("./symbol/wye.js")),k=te(e("./symbol/x.js")),S=te(e("./curve/basisClosed.js")),P=te(e("./curve/basisOpen.js")),M=te(e("./curve/basis.js")),O=e("./curve/bump.js"),L=te(e("./curve/bundle.js")),E=te(e("./curve/cardinalClosed.js")),A=te(e("./curve/cardinalOpen.js")),C=te(e("./curve/cardinal.js")),T=te(e("./curve/catmullRomClosed.js")),D=te(e("./curve/catmullRomOpen.js")),I=te(e("./curve/catmullRom.js")),N=te(e("./curve/linearClosed.js")),z=te(e("./curve/linear.js")),q=e("./curve/monotone.js"),R=te(e("./curve/natural.js")),B=ee(e("./curve/step.js")),F=te(e("./stack.js")),H=te(e("./offset/expand.js")),W=te(e("./offset/diverging.js")),Z=te(e("./offset/none.js")),V=te(e("./offset/silhouette.js")),U=te(e("./offset/wiggle.js")),Y=te(e("./order/appearance.js")),G=te(e("./order/ascending.js")),X=te(e("./order/descending.js")),K=te(e("./order/insideOut.js")),$=te(e("./order/none.js")),J=te(e("./order/reverse.js"));function Q(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Q=function(e){return e?n:t})(e)}function ee(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=Q(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=r?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}function te(e){return e&&e.__esModule?e:{default:e}}},{"./arc.js":749,"./area.js":750,"./areaRadial.js":751,"./curve/basis.js":754,"./curve/basisClosed.js":755,"./curve/basisOpen.js":756,"./curve/bump.js":757,"./curve/bundle.js":758,"./curve/cardinal.js":759,"./curve/cardinalClosed.js":760,"./curve/cardinalOpen.js":761,"./curve/catmullRom.js":762,"./curve/catmullRomClosed.js":763,"./curve/catmullRomOpen.js":764,"./curve/linear.js":765,"./curve/linearClosed.js":766,"./curve/monotone.js":767,"./curve/natural.js":768,"./curve/step.js":770,"./line.js":774,"./lineRadial.js":775,"./link.js":776,"./offset/diverging.js":779,"./offset/expand.js":780,"./offset/none.js":781,"./offset/silhouette.js":782,"./offset/wiggle.js":783,"./order/appearance.js":784,"./order/ascending.js":785,"./order/descending.js":786,"./order/insideOut.js":787,"./order/none.js":788,"./order/reverse.js":789,"./pie.js":790,"./pointRadial.js":792,"./stack.js":793,"./symbol.js":794,"./symbol/asterisk.js":795,"./symbol/circle.js":796,"./symbol/cross.js":797,"./symbol/diamond.js":798,"./symbol/diamond2.js":799,"./symbol/plus.js":800,"./symbol/square.js":801,"./symbol/square2.js":802,"./symbol/star.js":803,"./symbol/triangle.js":804,"./symbol/triangle2.js":805,"./symbol/wye.js":806,"./symbol/x.js":807}],774:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){var n=(0,a.default)(!0),l=null,u=s.default,c=null;function d(a){var s,o,d,h=(a=(0,r.default)(a)).length,f=!1;for(null==l&&(c=u(d=(0,i.path)())),s=0;s<=h;++s)!(s<h&&n(o=a[s],s,a))===f&&((f=!f)?c.lineStart():c.lineEnd()),f&&c.point(+e(o,s,a),+t(o,s,a));if(d)return c=null,d+""||null}return e="function"==typeof e?e:void 0===e?o.x:(0,a.default)(e),t="function"==typeof t?t:void 0===t?o.y:(0,a.default)(t),d.x=function(t){return arguments.length?(e="function"==typeof t?t:(0,a.default)(+t),d):e},d.y=function(e){return arguments.length?(t="function"==typeof e?e:(0,a.default)(+e),d):t},d.defined=function(e){return arguments.length?(n="function"==typeof e?e:(0,a.default)(!!e),d):n},d.curve=function(e){return arguments.length?(u=e,null!=l&&(c=u(l)),d):u},d.context=function(e){return arguments.length?(null==e?l=c=null:c=u(l=e),d):l},d};var i=e("d3-path"),r=l(e("./array.js")),a=l(e("./constant.js")),s=l(e("./curve/linear.js")),o=e("./point.js");function l(e){return e&&e.__esModule?e:{default:e}}},{"./array.js":752,"./constant.js":753,"./curve/linear.js":765,"./point.js":791,"d3-path":583}],775:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return o((0,a.default)().curve(r.curveRadialLinear))},n.lineRadial=o;var i,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(e("./curve/radial.js")),a=(i=e("./line.js"))&&i.__esModule?i:{default:i};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function o(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(e){return arguments.length?t((0,r.default)(e)):t()._curve},e}},{"./curve/radial.js":769,"./line.js":774}],776:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.link=d,n.linkHorizontal=function(){return d(o.bumpX)},n.linkRadial=function(){const e=d(o.bumpRadial);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e},n.linkVertical=function(){return d(o.bumpY)};var i,r=e("d3-path"),a=e("./array.js"),s=(i=e("./constant.js"))&&i.__esModule?i:{default:i},o=e("./curve/bump.js"),l=e("./point.js");function u(e){return e.source}function c(e){return e.target}function d(e){let t=u,n=c,i=l.x,o=l.y,d=null,h=null;function f(){let s;const l=a.slice.call(arguments),u=t.apply(this,l),c=n.apply(this,l);if(null==d&&(h=e(s=(0,r.path)())),h.lineStart(),l[0]=u,h.point(+i.apply(this,l),+o.apply(this,l)),l[0]=c,h.point(+i.apply(this,l),+o.apply(this,l)),h.lineEnd(),s)return h=null,s+""||null}return f.source=function(e){return arguments.length?(t=e,f):t},f.target=function(e){return arguments.length?(n=e,f):n},f.x=function(e){return arguments.length?(i="function"==typeof e?e:(0,s.default)(+e),f):i},f.y=function(e){return arguments.length?(o="function"==typeof e?e:(0,s.default)(+e),f):o},f.context=function(t){return arguments.length?(null==t?d=h=null:h=e(d=t),f):d},f}},{"./array.js":752,"./constant.js":753,"./curve/bump.js":757,"./point.js":791,"d3-path":583}],777:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.abs=void 0,n.acos=function(e){return e>1?0:e<-1?c:Math.acos(e)},n.asin=function(e){return e>=1?d:e<=-1?-d:Math.asin(e)},n.tau=n.sqrt=n.sin=n.pi=n.min=n.max=n.halfPi=n.epsilon=n.cos=n.atan2=void 0;const i=Math.abs;n.abs=i;const r=Math.atan2;n.atan2=r;const a=Math.cos;n.cos=a;const s=Math.max;n.max=s;const o=Math.min;n.min=o;const l=Math.sin;n.sin=l;const u=Math.sqrt;n.sqrt=u;n.epsilon=1e-12;const c=Math.PI;n.pi=c;const d=c/2;n.halfPi=d;const h=2*c;n.tau=h},{}],778:[function(e,t,n){arguments[4][398][0].apply(n,arguments)},{dup:398}],779:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){if(!((o=e.length)>0))return;for(var n,i,r,a,s,o,l=0,u=e[t[0]].length;l<u;++l)for(a=s=0,n=0;n<o;++n)(r=(i=e[t[n]][l])[1]-i[0])>0?(i[0]=a,i[1]=a+=r):r<0?(i[1]=s,i[0]=s+=r):(i[0]=0,i[1]=r)}},{}],780:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){if(!((i=e.length)>0))return;for(var n,i,a,s=0,o=e[0].length;s<o;++s){for(a=n=0;n<i;++n)a+=e[n][s][1]||0;if(a)for(n=0;n<i;++n)e[n][s][1]/=a}(0,r.default)(e,t)};var i,r=(i=e("./none.js"))&&i.__esModule?i:{default:i}},{"./none.js":781}],781:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){if(!((r=e.length)>1))return;for(var n,i,r,a=1,s=e[t[0]],o=s.length;a<r;++a)for(i=s,s=e[t[a]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}},{}],782:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){if(!((n=e.length)>0))return;for(var n,i=0,a=e[t[0]],s=a.length;i<s;++i){for(var o=0,l=0;o<n;++o)l+=e[o][i][1]||0;a[i][1]+=a[i][0]=-l/2}(0,r.default)(e,t)};var i,r=(i=e("./none.js"))&&i.__esModule?i:{default:i}},{"./none.js":781}],783:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){if(!((a=e.length)>0&&(i=(n=e[t[0]]).length)>0))return;for(var n,i,a,s=0,o=1;o<i;++o){for(var l=0,u=0,c=0;l<a;++l){for(var d=e[t[l]],h=d[o][1]||0,f=d[o-1][1]||0,p=(h-f)/2,m=0;m<l;++m){var v=e[t[m]],y=v[o][1]||0,g=v[o-1][1]||0;p+=y-g}u+=h,c+=p*h}n[o-1][1]+=n[o-1][0]=s,u&&(s-=c/u)}n[o-1][1]+=n[o-1][0]=s,(0,r.default)(e,t)};var i,r=(i=e("./none.js"))&&i.__esModule?i:{default:i}},{"./none.js":781}],784:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=e.map(a);return(0,r.default)(e).sort((function(e,n){return t[e]-t[n]}))};var i,r=(i=e("./none.js"))&&i.__esModule?i:{default:i};function a(e){for(var t,n=-1,i=0,r=e.length,a=-1/0;++n<r;)(t=+e[n][1])>a&&(a=t,i=n);return i}},{"./none.js":788}],785:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=e.map(a);return(0,r.default)(e).sort((function(e,n){return t[e]-t[n]}))},n.sum=a;var i,r=(i=e("./none.js"))&&i.__esModule?i:{default:i};function a(e){for(var t,n=0,i=-1,r=e.length;++i<r;)(t=+e[i][1])&&(n+=t);return n}},{"./none.js":788}],786:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return(0,r.default)(e).reverse()};var i,r=(i=e("./ascending.js"))&&i.__esModule?i:{default:i}},{"./ascending.js":785}],787:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t,n,i=e.length,s=e.map(a.sum),o=(0,r.default)(e),l=0,u=0,c=[],d=[];for(t=0;t<i;++t)n=o[t],l<u?(l+=s[n],c.push(n)):(u+=s[n],d.push(n));return d.reverse().concat(c)};var i,r=(i=e("./appearance.js"))&&i.__esModule?i:{default:i},a=e("./ascending.js")},{"./appearance.js":784,"./ascending.js":785}],788:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=e.length,n=new Array(t);for(;--t>=0;)n[t]=t;return n}},{}],789:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return(0,r.default)(e).reverse()};var i,r=(i=e("./none.js"))&&i.__esModule?i:{default:i}},{"./none.js":788}],790:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=s.default,t=a.default,n=null,l=(0,r.default)(0),u=(0,r.default)(o.tau),c=(0,r.default)(0);function d(r){var a,s,d,h,f,p=(r=(0,i.default)(r)).length,m=0,v=new Array(p),y=new Array(p),g=+l.apply(this,arguments),_=Math.min(o.tau,Math.max(-o.tau,u.apply(this,arguments)-g)),b=Math.min(Math.abs(_)/p,c.apply(this,arguments)),j=b*(_<0?-1:1);for(a=0;a<p;++a)(f=y[v[a]=a]=+e(r[a],a,r))>0&&(m+=f);for(null!=t?v.sort((function(e,n){return t(y[e],y[n])})):null!=n&&v.sort((function(e,t){return n(r[e],r[t])})),a=0,d=m?(_-p*j)/m:0;a<p;++a,g=h)s=v[a],h=g+((f=y[s])>0?f*d:0)+j,y[s]={data:r[s],index:a,value:f,startAngle:g,endAngle:h,padAngle:b};return y}return d.value=function(t){return arguments.length?(e="function"==typeof t?t:(0,r.default)(+t),d):e},d.sortValues=function(e){return arguments.length?(t=e,n=null,d):t},d.sort=function(e){return arguments.length?(n=e,t=null,d):n},d.startAngle=function(e){return arguments.length?(l="function"==typeof e?e:(0,r.default)(+e),d):l},d.endAngle=function(e){return arguments.length?(u="function"==typeof e?e:(0,r.default)(+e),d):u},d.padAngle=function(e){return arguments.length?(c="function"==typeof e?e:(0,r.default)(+e),d):c},d};var i=l(e("./array.js")),r=l(e("./constant.js")),a=l(e("./descending.js")),s=l(e("./identity.js")),o=e("./math.js");function l(e){return e&&e.__esModule?e:{default:e}}},{"./array.js":752,"./constant.js":753,"./descending.js":771,"./identity.js":772,"./math.js":777}],791:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.x=function(e){return e[0]},n.y=function(e){return e[1]}},{}],792:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}},{}],793:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=(0,r.default)([]),t=s.default,n=a.default,o=l;function c(r){var a,s,l=Array.from(e.apply(this,arguments),u),c=l.length,d=-1;for(const e of r)for(a=0,++d;a<c;++a)(l[a][d]=[0,+o(e,l[a].key,d,r)]).data=e;for(a=0,s=(0,i.default)(t(l));a<c;++a)l[s[a]].index=a;return n(l,s),l}return c.keys=function(t){return arguments.length?(e="function"==typeof t?t:(0,r.default)(Array.from(t)),c):e},c.value=function(e){return arguments.length?(o="function"==typeof e?e:(0,r.default)(+e),c):o},c.order=function(e){return arguments.length?(t=null==e?s.default:"function"==typeof e?e:(0,r.default)(Array.from(e)),c):t},c.offset=function(e){return arguments.length?(n=null==e?a.default:e,c):n},c};var i=o(e("./array.js")),r=o(e("./constant.js")),a=o(e("./offset/none.js")),s=o(e("./order/none.js"));function o(e){return e&&e.__esModule?e:{default:e}}function l(e,t){return e[t]}function u(e){const t=[];return t.key=e,t}},{"./array.js":752,"./constant.js":753,"./offset/none.js":781,"./order/none.js":788}],794:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){let n=null;function a(){let r;if(n||(n=r=(0,i.path)()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),r)return n=null,r+""||null}return e="function"==typeof e?e:(0,r.default)(e||s.default),t="function"==typeof t?t:(0,r.default)(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"==typeof t?t:(0,r.default)(t),a):e},a.size=function(e){return arguments.length?(t="function"==typeof e?e:(0,r.default)(+e),a):t},a.context=function(e){return arguments.length?(n=null==e?null:e,a):n},a},n.symbolsStroke=n.symbolsFill=void 0;var i=e("d3-path"),r=g(e("./constant.js")),a=g(e("./symbol/asterisk.js")),s=g(e("./symbol/circle.js")),o=g(e("./symbol/cross.js")),l=g(e("./symbol/diamond.js")),u=g(e("./symbol/diamond2.js")),c=g(e("./symbol/plus.js")),d=g(e("./symbol/square.js")),h=g(e("./symbol/square2.js")),f=g(e("./symbol/star.js")),p=g(e("./symbol/triangle.js")),m=g(e("./symbol/triangle2.js")),v=g(e("./symbol/wye.js")),y=g(e("./symbol/x.js"));function g(e){return e&&e.__esModule?e:{default:e}}const _=[s.default,o.default,l.default,d.default,f.default,p.default,v.default];n.symbolsFill=_;const b=[s.default,c.default,y.default,m.default,a.default,h.default,u.default];n.symbolsStroke=b},{"./constant.js":753,"./symbol/asterisk.js":795,"./symbol/circle.js":796,"./symbol/cross.js":797,"./symbol/diamond.js":798,"./symbol/diamond2.js":799,"./symbol/plus.js":800,"./symbol/square.js":801,"./symbol/square2.js":802,"./symbol/star.js":803,"./symbol/triangle.js":804,"./symbol/triangle2.js":805,"./symbol/wye.js":806,"./symbol/x.js":807,"d3-path":583}],795:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=e("../math.js");const r=(0,i.sqrt)(3);var a={draw(e,t){const n=.59436*(0,i.sqrt)(t+(0,i.min)(t/28,.75)),a=n/2,s=a*r;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-s,-a),e.lineTo(s,a),e.moveTo(-s,a),e.lineTo(s,-a)}};n.default=a},{"../math.js":777}],796:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=e("../math.js"),r={draw(e,t){const n=(0,i.sqrt)(t/i.pi);e.moveTo(n,0),e.arc(0,0,n,0,i.tau)}};n.default=r},{"../math.js":777}],797:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=e("../math.js"),r={draw(e,t){const n=(0,i.sqrt)(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}};n.default=r},{"../math.js":777}],798:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=e("../math.js");const r=(0,i.sqrt)(1/3),a=2*r;var s={draw(e,t){const n=(0,i.sqrt)(t/a),s=n*r;e.moveTo(0,-n),e.lineTo(s,0),e.lineTo(0,n),e.lineTo(-s,0),e.closePath()}};n.default=s},{"../math.js":777}],799:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=e("../math.js"),r={draw(e,t){const n=.62625*(0,i.sqrt)(t);e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}};n.default=r},{"../math.js":777}],800:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=e("../math.js"),r={draw(e,t){const n=.87559*(0,i.sqrt)(t-(0,i.min)(t/7,2));e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}};n.default=r},{"../math.js":777}],801:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=e("../math.js"),r={draw(e,t){const n=(0,i.sqrt)(t),r=-n/2;e.rect(r,r,n,n)}};n.default=r},{"../math.js":777}],802:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=e("../math.js"),r={draw(e,t){const n=.4431*(0,i.sqrt)(t);e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}};n.default=r},{"../math.js":777}],803:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=e("../math.js");const r=(0,i.sin)(i.pi/10)/(0,i.sin)(7*i.pi/10),a=(0,i.sin)(i.tau/10)*r,s=-(0,i.cos)(i.tau/10)*r;var o={draw(e,t){const n=(0,i.sqrt)(.8908130915292852*t),r=a*n,o=s*n;e.moveTo(0,-n),e.lineTo(r,o);for(let t=1;t<5;++t){const a=i.tau*t/5,s=(0,i.cos)(a),l=(0,i.sin)(a);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*o,l*r+s*o)}e.closePath()}};n.default=o},{"../math.js":777}],804:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=e("../math.js");const r=(0,i.sqrt)(3);var a={draw(e,t){const n=-(0,i.sqrt)(t/(3*r));e.moveTo(0,2*n),e.lineTo(-r*n,-n),e.lineTo(r*n,-n),e.closePath()}};n.default=a},{"../math.js":777}],805:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=e("../math.js");const r=(0,i.sqrt)(3);var a={draw(e,t){const n=.6824*(0,i.sqrt)(t),a=n/2,s=n*r/2;e.moveTo(0,-n),e.lineTo(s,a),e.lineTo(-s,a),e.closePath()}};n.default=a},{"../math.js":777}],806:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=e("../math.js");const r=-.5,a=(0,i.sqrt)(3)/2,s=1/(0,i.sqrt)(12),o=3*(s/2+1);var l={draw(e,t){const n=(0,i.sqrt)(t/o),l=n/2,u=n*s,c=l,d=n*s+n,h=-c,f=d;e.moveTo(l,u),e.lineTo(c,d),e.lineTo(h,f),e.lineTo(r*l-a*u,a*l+r*u),e.lineTo(r*c-a*d,a*c+r*d),e.lineTo(r*h-a*f,a*h+r*f),e.lineTo(r*l+a*u,r*u-a*l),e.lineTo(r*c+a*d,r*d-a*c),e.lineTo(r*h+a*f,r*f-a*h),e.closePath()}};n.default=l},{"../math.js":777}],807:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=e("../math.js"),r={draw(e,t){const n=.6189*(0,i.sqrt)(t-(0,i.min)(t/6,1.7));e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}};n.default=r},{"../math.js":777}],808:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=c,n.utcParse=n.utcFormat=n.timeParse=n.timeFormat=void 0;var i,r,a,s,o,l,u=(i=e("./locale.js"))&&i.__esModule?i:{default:i};function c(e){return r=(0,u.default)(e),n.timeFormat=a=r.format,n.timeParse=s=r.parse,n.utcFormat=o=r.utcFormat,n.utcParse=l=r.utcParse,r}n.timeFormat=a,n.timeParse=s,n.utcFormat=o,n.utcParse=l,c({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})},{"./locale.js":812}],809:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"isoFormat",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"isoParse",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(n,"timeFormat",{enumerable:!0,get:function(){return i.timeFormat}}),Object.defineProperty(n,"timeFormatDefaultLocale",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"timeFormatLocale",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"timeParse",{enumerable:!0,get:function(){return i.timeParse}}),Object.defineProperty(n,"utcFormat",{enumerable:!0,get:function(){return i.utcFormat}}),Object.defineProperty(n,"utcParse",{enumerable:!0,get:function(){return i.utcParse}});var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=r?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(e("./defaultLocale.js")),r=o(e("./locale.js")),a=o(e("./isoFormat.js")),s=o(e("./isoParse.js"));function o(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}},{"./defaultLocale.js":808,"./isoFormat.js":810,"./isoParse.js":811,"./locale.js":812}],810:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isoSpecifier=n.default=void 0;var i=e("./defaultLocale.js"),r="%Y-%m-%dT%H:%M:%S.%LZ";n.isoSpecifier=r;var a=Date.prototype.toISOString?function(e){return e.toISOString()}:(0,i.utcFormat)(r);n.default=a},{"./defaultLocale.js":808}],811:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=e("./isoFormat.js"),r=e("./defaultLocale.js");var a=+new Date("2000-01-01T00:00:00.000Z")?function(e){var t=new Date(e);return isNaN(t)?null:t}:(0,r.utcParse)(i.isoSpecifier);n.default=a},{"./defaultLocale.js":808,"./isoFormat.js":810}],812:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=e.dateTime,n=e.date,l=e.time,u=e.periods,c=e.days,d=e.shortDays,h=e.months,U=e.shortMonths,he=f(u),ke=p(u),Se=f(c),Pe=p(c),Me=f(d),Oe=p(d),Le=f(h),Ee=p(h),Ae=f(U),Ce=p(U),Te={a:function(e){return d[e.getDay()]},A:function(e){return c[e.getDay()]},b:function(e){return U[e.getMonth()]},B:function(e){return h[e.getMonth()]},c:null,d:I,e:I,f:B,g:$,G:Q,H:N,I:z,j:q,L:R,m:F,M:H,p:function(e){return u[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:xe,s:we,S:W,u:Z,U:V,V:Y,w:G,W:X,x:null,X:null,y:K,Y:J,Z:ee,"%":je},De={a:function(e){return d[e.getUTCDay()]},A:function(e){return c[e.getUTCDay()]},b:function(e){return U[e.getUTCMonth()]},B:function(e){return h[e.getUTCMonth()]},c:null,d:te,e:te,f:se,g:ye,G:_e,H:ne,I:ie,j:re,L:ae,m:oe,M:le,p:function(e){return u[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:xe,s:we,S:ue,u:ce,U:de,V:fe,w:pe,W:me,x:null,X:null,y:ve,Y:ge,Z:be,"%":je},Ie={a:function(e,t,n){var i=Me.exec(t.slice(n));return i?(e.w=Oe.get(i[0].toLowerCase()),n+i[0].length):-1},A:function(e,t,n){var i=Se.exec(t.slice(n));return i?(e.w=Pe.get(i[0].toLowerCase()),n+i[0].length):-1},b:function(e,t,n){var i=Ae.exec(t.slice(n));return i?(e.m=Ce.get(i[0].toLowerCase()),n+i[0].length):-1},B:function(e,t,n){var i=Le.exec(t.slice(n));return i?(e.m=Ee.get(i[0].toLowerCase()),n+i[0].length):-1},c:function(e,n,i){return qe(e,t,n,i)},d:S,e:S,f:A,g:j,G:b,H:M,I:M,j:P,L:E,m:k,M:O,p:function(e,t,n){var i=he.exec(t.slice(n));return i?(e.p=ke.get(i[0].toLowerCase()),n+i[0].length):-1},q:w,Q:T,s:D,S:L,u:v,U:y,V:g,w:m,W:_,x:function(e,t,i){return qe(e,n,t,i)},X:function(e,t,n){return qe(e,l,t,n)},y:j,Y:b,Z:x,"%":C};function Ne(e,t){return function(n){var i,r,a,s=[],l=-1,u=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++l<c;)37===e.charCodeAt(l)&&(s.push(e.slice(u,l)),null!=(r=o[i=e.charAt(++l)])?i=e.charAt(++l):r="e"===i?" ":"0",(a=t[i])&&(i=a(n,r)),s.push(i),u=l+1);return s.push(e.slice(u,l)),s.join("")}}function ze(e,t){return function(n){var o,l,u=s(1900,void 0,1);if(qe(u,e,n+="",0)!=n.length)return null;if("Q"in u)return new Date(u.Q);if("s"in u)return new Date(1e3*u.s+("L"in u?u.L:0));if(t&&!("Z"in u)&&(u.Z=0),"p"in u&&(u.H=u.H%12+12*u.p),void 0===u.m&&(u.m="q"in u?u.q:0),"V"in u){if(u.V<1||u.V>53)return null;"w"in u||(u.w=1),"Z"in u?(l=(o=a(s(u.y,0,1))).getUTCDay(),o=l>4||0===l?i.utcMonday.ceil(o):(0,i.utcMonday)(o),o=i.utcDay.offset(o,7*(u.V-1)),u.y=o.getUTCFullYear(),u.m=o.getUTCMonth(),u.d=o.getUTCDate()+(u.w+6)%7):(l=(o=r(s(u.y,0,1))).getDay(),o=l>4||0===l?i.timeMonday.ceil(o):(0,i.timeMonday)(o),o=i.timeDay.offset(o,7*(u.V-1)),u.y=o.getFullYear(),u.m=o.getMonth(),u.d=o.getDate()+(u.w+6)%7)}else("W"in u||"U"in u)&&("w"in u||(u.w="u"in u?u.u%7:"W"in u?1:0),l="Z"in u?a(s(u.y,0,1)).getUTCDay():r(s(u.y,0,1)).getDay(),u.m=0,u.d="W"in u?(u.w+6)%7+7*u.W-(l+5)%7:u.w+7*u.U-(l+6)%7);return"Z"in u?(u.H+=u.Z/100|0,u.M+=u.Z%100,a(u)):r(u)}}function qe(e,t,n,i){for(var r,a,s=0,l=t.length,u=n.length;s<l;){if(i>=u)return-1;if(37===(r=t.charCodeAt(s++))){if(r=t.charAt(s++),!(a=Ie[r in o?t.charAt(s++):r])||(i=a(e,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}return Te.x=Ne(n,Te),Te.X=Ne(l,Te),Te.c=Ne(t,Te),De.x=Ne(n,De),De.X=Ne(l,De),De.c=Ne(t,De),{format:function(e){var t=Ne(e+="",Te);return t.toString=function(){return e},t},parse:function(e){var t=ze(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=Ne(e+="",De);return t.toString=function(){return e},t},utcParse:function(e){var t=ze(e+="",!0);return t.toString=function(){return e},t}}};var i=e("d3-time");function r(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function a(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function s(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var o={"-":"",_:" ",0:"0"},l=/^\s*\d+/,u=/^%/,c=/[\\^$*+?|[\]().{}]/g;function d(e,t,n){var i=e<0?"-":"",r=(i?-e:e)+"",a=r.length;return i+(a<n?new Array(n-a+1).join(t)+r:r)}function h(e){return e.replace(c,"\\$&")}function f(e){return new RegExp("^(?:"+e.map(h).join("|")+")","i")}function p(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function m(e,t,n){var i=l.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function v(e,t,n){var i=l.exec(t.slice(n,n+1));return i?(e.u=+i[0],n+i[0].length):-1}function y(e,t,n){var i=l.exec(t.slice(n,n+2));return i?(e.U=+i[0],n+i[0].length):-1}function g(e,t,n){var i=l.exec(t.slice(n,n+2));return i?(e.V=+i[0],n+i[0].length):-1}function _(e,t,n){var i=l.exec(t.slice(n,n+2));return i?(e.W=+i[0],n+i[0].length):-1}function b(e,t,n){var i=l.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function j(e,t,n){var i=l.exec(t.slice(n,n+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function x(e,t,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function w(e,t,n){var i=l.exec(t.slice(n,n+1));return i?(e.q=3*i[0]-3,n+i[0].length):-1}function k(e,t,n){var i=l.exec(t.slice(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function S(e,t,n){var i=l.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function P(e,t,n){var i=l.exec(t.slice(n,n+3));return i?(e.m=0,e.d=+i[0],n+i[0].length):-1}function M(e,t,n){var i=l.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function O(e,t,n){var i=l.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function L(e,t,n){var i=l.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function E(e,t,n){var i=l.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function A(e,t,n){var i=l.exec(t.slice(n,n+6));return i?(e.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function C(e,t,n){var i=u.exec(t.slice(n,n+1));return i?n+i[0].length:-1}function T(e,t,n){var i=l.exec(t.slice(n));return i?(e.Q=+i[0],n+i[0].length):-1}function D(e,t,n){var i=l.exec(t.slice(n));return i?(e.s=+i[0],n+i[0].length):-1}function I(e,t){return d(e.getDate(),t,2)}function N(e,t){return d(e.getHours(),t,2)}function z(e,t){return d(e.getHours()%12||12,t,2)}function q(e,t){return d(1+i.timeDay.count((0,i.timeYear)(e),e),t,3)}function R(e,t){return d(e.getMilliseconds(),t,3)}function B(e,t){return R(e,t)+"000"}function F(e,t){return d(e.getMonth()+1,t,2)}function H(e,t){return d(e.getMinutes(),t,2)}function W(e,t){return d(e.getSeconds(),t,2)}function Z(e){var t=e.getDay();return 0===t?7:t}function V(e,t){return d(i.timeSunday.count((0,i.timeYear)(e)-1,e),t,2)}function U(e){var t=e.getDay();return t>=4||0===t?(0,i.timeThursday)(e):i.timeThursday.ceil(e)}function Y(e,t){return e=U(e),d(i.timeThursday.count((0,i.timeYear)(e),e)+(4===(0,i.timeYear)(e).getDay()),t,2)}function G(e){return e.getDay()}function X(e,t){return d(i.timeMonday.count((0,i.timeYear)(e)-1,e),t,2)}function K(e,t){return d(e.getFullYear()%100,t,2)}function $(e,t){return d((e=U(e)).getFullYear()%100,t,2)}function J(e,t){return d(e.getFullYear()%1e4,t,4)}function Q(e,t){var n=e.getDay();return d((e=n>=4||0===n?(0,i.timeThursday)(e):i.timeThursday.ceil(e)).getFullYear()%1e4,t,4)}function ee(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+d(t/60|0,"0",2)+d(t%60,"0",2)}function te(e,t){return d(e.getUTCDate(),t,2)}function ne(e,t){return d(e.getUTCHours(),t,2)}function ie(e,t){return d(e.getUTCHours()%12||12,t,2)}function re(e,t){return d(1+i.utcDay.count((0,i.utcYear)(e),e),t,3)}function ae(e,t){return d(e.getUTCMilliseconds(),t,3)}function se(e,t){return ae(e,t)+"000"}function oe(e,t){return d(e.getUTCMonth()+1,t,2)}function le(e,t){return d(e.getUTCMinutes(),t,2)}function ue(e,t){return d(e.getUTCSeconds(),t,2)}function ce(e){var t=e.getUTCDay();return 0===t?7:t}function de(e,t){return d(i.utcSunday.count((0,i.utcYear)(e)-1,e),t,2)}function he(e){var t=e.getUTCDay();return t>=4||0===t?(0,i.utcThursday)(e):i.utcThursday.ceil(e)}function fe(e,t){return e=he(e),d(i.utcThursday.count((0,i.utcYear)(e),e)+(4===(0,i.utcYear)(e).getUTCDay()),t,2)}function pe(e){return e.getUTCDay()}function me(e,t){return d(i.utcMonday.count((0,i.utcYear)(e)-1,e),t,2)}function ve(e,t){return d(e.getUTCFullYear()%100,t,2)}function ye(e,t){return d((e=he(e)).getUTCFullYear()%100,t,2)}function ge(e,t){return d(e.getUTCFullYear()%1e4,t,4)}function _e(e,t){var n=e.getUTCDay();return d((e=n>=4||0===n?(0,i.utcThursday)(e):i.utcThursday.ceil(e)).getUTCFullYear()%1e4,t,4)}function be(){return"+0000"}function je(){return"%"}function xe(e){return+e}function we(e){return Math.floor(+e/1e3)}},{"d3-time":816}],813:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.days=void 0;var i,r=(i=e("./interval.js"))&&i.__esModule?i:{default:i},a=e("./duration.js");var s=(0,r.default)((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*a.durationMinute)/a.durationDay),(e=>e.getDate()-1)),o=s;n.default=o;var l=s.range;n.days=l},{"./duration.js":814,"./interval.js":817}],814:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.durationYear=n.durationWeek=n.durationSecond=n.durationMonth=n.durationMinute=n.durationHour=n.durationDay=void 0;n.durationSecond=1e3;n.durationMinute=6e4;const i=36e5;n.durationHour=i;const r=864e5;n.durationDay=r;n.durationWeek=6048e5;n.durationMonth=2592e6;n.durationYear=31536e6},{}],815:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.hours=n.default=void 0;var i,r=(i=e("./interval.js"))&&i.__esModule?i:{default:i},a=e("./duration.js");var s=(0,r.default)((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*a.durationSecond-e.getMinutes()*a.durationMinute)}),(function(e,t){e.setTime(+e+t*a.durationHour)}),(function(e,t){return(t-e)/a.durationHour}),(function(e){return e.getHours()})),o=s;n.default=o;var l=s.range;n.hours=l},{"./duration.js":814,"./interval.js":817}],816:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"timeDay",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(n,"timeDays",{enumerable:!0,get:function(){return u.days}}),Object.defineProperty(n,"timeFriday",{enumerable:!0,get:function(){return c.friday}}),Object.defineProperty(n,"timeFridays",{enumerable:!0,get:function(){return c.fridays}}),Object.defineProperty(n,"timeHour",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(n,"timeHours",{enumerable:!0,get:function(){return l.hours}}),Object.defineProperty(n,"timeInterval",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"timeMillisecond",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"timeMilliseconds",{enumerable:!0,get:function(){return a.milliseconds}}),Object.defineProperty(n,"timeMinute",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"timeMinutes",{enumerable:!0,get:function(){return o.minutes}}),Object.defineProperty(n,"timeMonday",{enumerable:!0,get:function(){return c.monday}}),Object.defineProperty(n,"timeMondays",{enumerable:!0,get:function(){return c.mondays}}),Object.defineProperty(n,"timeMonth",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(n,"timeMonths",{enumerable:!0,get:function(){return d.months}}),Object.defineProperty(n,"timeSaturday",{enumerable:!0,get:function(){return c.saturday}}),Object.defineProperty(n,"timeSaturdays",{enumerable:!0,get:function(){return c.saturdays}}),Object.defineProperty(n,"timeSecond",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(n,"timeSeconds",{enumerable:!0,get:function(){return s.seconds}}),Object.defineProperty(n,"timeSunday",{enumerable:!0,get:function(){return c.sunday}}),Object.defineProperty(n,"timeSundays",{enumerable:!0,get:function(){return c.sundays}}),Object.defineProperty(n,"timeThursday",{enumerable:!0,get:function(){return c.thursday}}),Object.defineProperty(n,"timeThursdays",{enumerable:!0,get:function(){return c.thursdays}}),Object.defineProperty(n,"timeTickInterval",{enumerable:!0,get:function(){return _.timeTickInterval}}),Object.defineProperty(n,"timeTicks",{enumerable:!0,get:function(){return _.timeTicks}}),Object.defineProperty(n,"timeTuesday",{enumerable:!0,get:function(){return c.tuesday}}),Object.defineProperty(n,"timeTuesdays",{enumerable:!0,get:function(){return c.tuesdays}}),Object.defineProperty(n,"timeWednesday",{enumerable:!0,get:function(){return c.wednesday}}),Object.defineProperty(n,"timeWednesdays",{enumerable:!0,get:function(){return c.wednesdays}}),Object.defineProperty(n,"timeWeek",{enumerable:!0,get:function(){return c.sunday}}),Object.defineProperty(n,"timeWeeks",{enumerable:!0,get:function(){return c.sundays}}),Object.defineProperty(n,"timeYear",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(n,"timeYears",{enumerable:!0,get:function(){return h.years}}),Object.defineProperty(n,"utcDay",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(n,"utcDays",{enumerable:!0,get:function(){return m.utcDays}}),Object.defineProperty(n,"utcFriday",{enumerable:!0,get:function(){return v.utcFriday}}),Object.defineProperty(n,"utcFridays",{enumerable:!0,get:function(){return v.utcFridays}}),Object.defineProperty(n,"utcHour",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(n,"utcHours",{enumerable:!0,get:function(){return p.utcHours}}),Object.defineProperty(n,"utcMillisecond",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"utcMilliseconds",{enumerable:!0,get:function(){return a.milliseconds}}),Object.defineProperty(n,"utcMinute",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(n,"utcMinutes",{enumerable:!0,get:function(){return f.utcMinutes}}),Object.defineProperty(n,"utcMonday",{enumerable:!0,get:function(){return v.utcMonday}}),Object.defineProperty(n,"utcMondays",{enumerable:!0,get:function(){return v.utcMondays}}),Object.defineProperty(n,"utcMonth",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(n,"utcMonths",{enumerable:!0,get:function(){return y.utcMonths}}),Object.defineProperty(n,"utcSaturday",{enumerable:!0,get:function(){return v.utcSaturday}}),Object.defineProperty(n,"utcSaturdays",{enumerable:!0,get:function(){return v.utcSaturdays}}),Object.defineProperty(n,"utcSecond",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(n,"utcSeconds",{enumerable:!0,get:function(){return s.seconds}}),Object.defineProperty(n,"utcSunday",{enumerable:!0,get:function(){return v.utcSunday}}),Object.defineProperty(n,"utcSundays",{enumerable:!0,get:function(){return v.utcSundays}}),Object.defineProperty(n,"utcThursday",{enumerable:!0,get:function(){return v.utcThursday}}),Object.defineProperty(n,"utcThursdays",{enumerable:!0,get:function(){return v.utcThursdays}}),Object.defineProperty(n,"utcTickInterval",{enumerable:!0,get:function(){return _.utcTickInterval}}),Object.defineProperty(n,"utcTicks",{enumerable:!0,get:function(){return _.utcTicks}}),Object.defineProperty(n,"utcTuesday",{enumerable:!0,get:function(){return v.utcTuesday}}),Object.defineProperty(n,"utcTuesdays",{enumerable:!0,get:function(){return v.utcTuesdays}}),Object.defineProperty(n,"utcWednesday",{enumerable:!0,get:function(){return v.utcWednesday}}),Object.defineProperty(n,"utcWednesdays",{enumerable:!0,get:function(){return v.utcWednesdays}}),Object.defineProperty(n,"utcWeek",{enumerable:!0,get:function(){return v.utcSunday}}),Object.defineProperty(n,"utcWeeks",{enumerable:!0,get:function(){return v.utcSundays}}),Object.defineProperty(n,"utcYear",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(n,"utcYears",{enumerable:!0,get:function(){return g.utcYears}});var i,r=(i=e("./interval.js"))&&i.__esModule?i:{default:i},a=j(e("./millisecond.js")),s=j(e("./second.js")),o=j(e("./minute.js")),l=j(e("./hour.js")),u=j(e("./day.js")),c=e("./week.js"),d=j(e("./month.js")),h=j(e("./year.js")),f=j(e("./utcMinute.js")),p=j(e("./utcHour.js")),m=j(e("./utcDay.js")),v=e("./utcWeek.js"),y=j(e("./utcMonth.js")),g=j(e("./utcYear.js")),_=e("./ticks.js");function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function j(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=r?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}},{"./day.js":813,"./hour.js":815,"./interval.js":817,"./millisecond.js":818,"./minute.js":819,"./month.js":820,"./second.js":821,"./ticks.js":822,"./utcDay.js":823,"./utcHour.js":824,"./utcMinute.js":825,"./utcMonth.js":826,"./utcWeek.js":827,"./utcYear.js":828,"./week.js":829,"./year.js":830}],817:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(t,n,a,s){function o(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}o.floor=function(e){return t(e=new Date(+e)),e},o.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},o.round=function(e){var t=o(e),n=o.ceil(e);return e-t<n-e?t:n},o.offset=function(e,t){return n(e=new Date(+e),null==t?1:Math.floor(t)),e},o.range=function(e,i,r){var a,s=[];if(e=o.ceil(e),r=null==r?1:Math.floor(r),!(e<i&&r>0))return s;do{s.push(a=new Date(+e)),n(e,r),t(e)}while(a<e&&e<i);return s},o.filter=function(i){return e((function(e){if(e>=e)for(;t(e),!i(e);)e.setTime(e-1)}),(function(e,t){if(e>=e)if(t<0)for(;++t<=0;)for(;n(e,-1),!i(e););else for(;--t>=0;)for(;n(e,1),!i(e););}))},a&&(o.count=function(e,n){return i.setTime(+e),r.setTime(+n),t(i),t(r),Math.floor(a(i,r))},o.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?o.filter(s?function(t){return s(t)%e==0}:function(t){return o.count(0,t)%e==0}):o:null});return o};var i=new Date,r=new Date},{}],818:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.milliseconds=n.default=void 0;var i,r=(i=e("./interval.js"))&&i.__esModule?i:{default:i};var a=(0,r.default)((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));a.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?(0,r.default)((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):a:null};var s=a;n.default=s;var o=a.range;n.milliseconds=o},{"./interval.js":817}],819:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.minutes=n.default=void 0;var i,r=(i=e("./interval.js"))&&i.__esModule?i:{default:i},a=e("./duration.js");var s=(0,r.default)((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*a.durationSecond)}),(function(e,t){e.setTime(+e+t*a.durationMinute)}),(function(e,t){return(t-e)/a.durationMinute}),(function(e){return e.getMinutes()})),o=s;n.default=o;var l=s.range;n.minutes=l},{"./duration.js":814,"./interval.js":817}],820:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.months=n.default=void 0;var r=(0,((i=e("./interval.js"))&&i.__esModule?i:{default:i}).default)((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()})),a=r;n.default=a;var s=r.range;n.months=s},{"./interval.js":817}],821:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.seconds=n.default=void 0;var i,r=(i=e("./interval.js"))&&i.__esModule?i:{default:i},a=e("./duration.js");var s=(0,r.default)((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*a.durationSecond)}),(function(e,t){return(t-e)/a.durationSecond}),(function(e){return e.getUTCSeconds()})),o=s;n.default=o;var l=s.range;n.seconds=l},{"./duration.js":814,"./interval.js":817}],822:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.utcTicks=n.utcTickInterval=n.timeTicks=n.timeTickInterval=void 0;var i=e("d3-array"),r=e("./duration.js"),a=_(e("./millisecond.js")),s=_(e("./second.js")),o=_(e("./minute.js")),l=_(e("./hour.js")),u=_(e("./day.js")),c=e("./week.js"),d=_(e("./month.js")),h=_(e("./year.js")),f=_(e("./utcMinute.js")),p=_(e("./utcHour.js")),m=_(e("./utcDay.js")),v=e("./utcWeek.js"),y=_(e("./utcMonth.js")),g=_(e("./utcYear.js"));function _(e){return e&&e.__esModule?e:{default:e}}function b(e,t,n,o,l,u){const c=[[s.default,1,r.durationSecond],[s.default,5,5*r.durationSecond],[s.default,15,15*r.durationSecond],[s.default,30,30*r.durationSecond],[u,1,r.durationMinute],[u,5,5*r.durationMinute],[u,15,15*r.durationMinute],[u,30,30*r.durationMinute],[l,1,r.durationHour],[l,3,3*r.durationHour],[l,6,6*r.durationHour],[l,12,12*r.durationHour],[o,1,r.durationDay],[o,2,2*r.durationDay],[n,1,r.durationWeek],[t,1,r.durationMonth],[t,3,3*r.durationMonth],[e,1,r.durationYear]];function d(t,n,s){const o=Math.abs(n-t)/s,l=(0,i.bisector)((([,,e])=>e)).right(c,o);if(l===c.length)return e.every((0,i.tickStep)(t/r.durationYear,n/r.durationYear,s));if(0===l)return a.default.every(Math.max((0,i.tickStep)(t,n,s),1));const[u,d]=c[o/c[l-1][2]<c[l][2]/o?l-1:l];return u.every(d)}return[function(e,t,n){const i=t<e;i&&([e,t]=[t,e]);const r=n&&"function"==typeof n.range?n:d(e,t,n),a=r?r.range(e,+t+1):[];return i?a.reverse():a},d]}const[j,x]=b(g.default,y.default,v.utcSunday,m.default,p.default,f.default);n.utcTickInterval=x,n.utcTicks=j;const[w,k]=b(h.default,d.default,c.sunday,u.default,l.default,o.default);n.timeTickInterval=k,n.timeTicks=w},{"./day.js":813,"./duration.js":814,"./hour.js":815,"./millisecond.js":818,"./minute.js":819,"./month.js":820,"./second.js":821,"./utcDay.js":823,"./utcHour.js":824,"./utcMinute.js":825,"./utcMonth.js":826,"./utcWeek.js":827,"./utcYear.js":828,"./week.js":829,"./year.js":830,"d3-array":332}],823:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.utcDays=n.default=void 0;var i,r=(i=e("./interval.js"))&&i.__esModule?i:{default:i},a=e("./duration.js");var s=(0,r.default)((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/a.durationDay}),(function(e){return e.getUTCDate()-1})),o=s;n.default=o;var l=s.range;n.utcDays=l},{"./duration.js":814,"./interval.js":817}],824:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.utcHours=n.default=void 0;var i,r=(i=e("./interval.js"))&&i.__esModule?i:{default:i},a=e("./duration.js");var s=(0,r.default)((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*a.durationHour)}),(function(e,t){return(t-e)/a.durationHour}),(function(e){return e.getUTCHours()})),o=s;n.default=o;var l=s.range;n.utcHours=l},{"./duration.js":814,"./interval.js":817}],825:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.utcMinutes=n.default=void 0;var i,r=(i=e("./interval.js"))&&i.__esModule?i:{default:i},a=e("./duration.js");var s=(0,r.default)((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*a.durationMinute)}),(function(e,t){return(t-e)/a.durationMinute}),(function(e){return e.getUTCMinutes()})),o=s;n.default=o;var l=s.range;n.utcMinutes=l},{"./duration.js":814,"./interval.js":817}],826:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.utcMonths=n.default=void 0;var r=(0,((i=e("./interval.js"))&&i.__esModule?i:{default:i}).default)((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()})),a=r;n.default=a;var s=r.range;n.utcMonths=s},{"./interval.js":817}],827:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.utcWednesdays=n.utcWednesday=n.utcTuesdays=n.utcTuesday=n.utcThursdays=n.utcThursday=n.utcSundays=n.utcSunday=n.utcSaturdays=n.utcSaturday=n.utcMondays=n.utcMonday=n.utcFridays=n.utcFriday=void 0;var i,r=(i=e("./interval.js"))&&i.__esModule?i:{default:i},a=e("./duration.js");function s(e){return(0,r.default)((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/a.durationWeek}))}var o=s(0);n.utcSunday=o;var l=s(1);n.utcMonday=l;var u=s(2);n.utcTuesday=u;var c=s(3);n.utcWednesday=c;var d=s(4);n.utcThursday=d;var h=s(5);n.utcFriday=h;var f=s(6);n.utcSaturday=f;var p=o.range;n.utcSundays=p;var m=l.range;n.utcMondays=m;var v=u.range;n.utcTuesdays=v;var y=c.range;n.utcWednesdays=y;var g=d.range;n.utcThursdays=g;var _=h.range;n.utcFridays=_;var b=f.range;n.utcSaturdays=b},{"./duration.js":814,"./interval.js":817}],828:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.utcYears=n.default=void 0;var i,r=(i=e("./interval.js"))&&i.__esModule?i:{default:i};var a=(0,r.default)((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()}));a.every=function(e){return isFinite(e=Math.floor(e))&&e>0?(0,r.default)((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var s=a;n.default=s;var o=a.range;n.utcYears=o},{"./interval.js":817}],829:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.wednesdays=n.wednesday=n.tuesdays=n.tuesday=n.thursdays=n.thursday=n.sundays=n.sunday=n.saturdays=n.saturday=n.mondays=n.monday=n.fridays=n.friday=void 0;var i,r=(i=e("./interval.js"))&&i.__esModule?i:{default:i},a=e("./duration.js");function s(e){return(0,r.default)((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*a.durationMinute)/a.durationWeek}))}var o=s(0);n.sunday=o;var l=s(1);n.monday=l;var u=s(2);n.tuesday=u;var c=s(3);n.wednesday=c;var d=s(4);n.thursday=d;var h=s(5);n.friday=h;var f=s(6);n.saturday=f;var p=o.range;n.sundays=p;var m=l.range;n.mondays=m;var v=u.range;n.tuesdays=v;var y=c.range;n.wednesdays=y;var g=d.range;n.thursdays=g;var _=h.range;n.fridays=_;var b=f.range;n.saturdays=b},{"./duration.js":814,"./interval.js":817}],830:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.years=n.default=void 0;var i,r=(i=e("./interval.js"))&&i.__esModule?i:{default:i};var a=(0,r.default)((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));a.every=function(e){return isFinite(e=Math.floor(e))&&e>0?(0,r.default)((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var s=a;n.default=s;var o=a.range;n.years=o},{"./interval.js":817}],831:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"interval",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"now",{enumerable:!0,get:function(){return i.now}}),Object.defineProperty(n,"timeout",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"timer",{enumerable:!0,get:function(){return i.timer}}),Object.defineProperty(n,"timerFlush",{enumerable:!0,get:function(){return i.timerFlush}});var i=e("./timer.js"),r=s(e("./timeout.js")),a=s(e("./interval.js"));function s(e){return e&&e.__esModule?e:{default:e}}},{"./interval.js":832,"./timeout.js":833,"./timer.js":834}],832:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n){var r=new i.Timer,a=t;return null==t?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(e,t,n){t=+t,n=null==n?(0,i.now)():+n,r._restart((function i(s){s+=a,r._restart(i,a+=t,n),e(s)}),t,n)},r.restart(e,t,n),r)};var i=e("./timer.js")},{"./timer.js":834}],833:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n){var r=new i.Timer;return t=null==t?0:+t,r.restart((n=>{r.stop(),e(n+t)}),t,n),r};var i=e("./timer.js")},{"./timer.js":834}],834:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Timer=m,n.now=f,n.timer=v,n.timerFlush=y;var i,r,a=0,s=0,o=0,l=0,u=0,c=0,d="object"==typeof performance&&performance.now?performance:Date,h="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function f(){return u||(h(p),u=d.now()+c)}function p(){u=0}function m(){this._call=this._time=this._next=null}function v(e,t,n){var i=new m;return i.restart(e,t,n),i}function y(){f(),++a;for(var e,t=i;t;)(e=u-t._time)>=0&&t._call.call(void 0,e),t=t._next;--a}function g(){u=(l=d.now())+c,a=s=0;try{y()}finally{a=0,function(){var e,t,n=i,a=1/0;for(;n;)n._call?(a>n._time&&(a=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:i=t);r=e,b(a)}(),u=0}}function _(){var e=d.now(),t=e-l;t>1e3&&(c-=t,l=e)}function b(e){a||(s&&(s=clearTimeout(s)),e-u>24?(e<1/0&&(s=setTimeout(g,e-d.now()-c)),o&&(o=clearInterval(o))):(o||(l=d.now(),o=setInterval(_,1e3)),a=1,h(g)))}m.prototype=v.prototype={constructor:m,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?f():+n)+(null==t?0:+t),this._next||r===this||(r?r._next=this:i=this,r=this),this._call=e,this._time=n,b()},stop:function(){this._call&&(this._call=null,this._time=1/0,b())}}},{}],835:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){var n,s,o=e.__transition;if(o)for(s in t=null==t?null:t+"",o)if((n=o[s]).state>r.SCHEDULED&&n.name===t)return new i.Transition([[e]],a,t,+s);return null};var i=e("./transition/index.js"),r=e("./transition/schedule.js"),a=[null]},{"./transition/index.js":849,"./transition/schedule.js":854}],836:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"active",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"interrupt",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"transition",{enumerable:!0,get:function(){return i.default}}),e("./selection/index.js");var i=s(e("./transition/index.js")),r=s(e("./active.js")),a=s(e("./interrupt.js"));function s(e){return e&&e.__esModule?e:{default:e}}},{"./active.js":835,"./interrupt.js":837,"./selection/index.js":838,"./transition/index.js":849}],837:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){var n,r,a,s=e.__transition,o=!0;if(!s)return;for(a in t=null==t?null:t+"",s)(n=s[a]).name===t?(r=n.state>i.STARTING&&n.state<i.ENDING,n.state=i.ENDED,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete s[a]):o=!1;o&&delete e.__transition};var i=e("./transition/schedule.js")},{"./transition/schedule.js":854}],838:[function(e,t,n){"use strict";var i=e("d3-selection"),r=s(e("./interrupt.js")),a=s(e("./transition.js"));function s(e){return e&&e.__esModule?e:{default:e}}i.selection.prototype.interrupt=r.default,i.selection.prototype.transition=a.default},{"./interrupt.js":839,"./transition.js":840,"d3-selection":700}],839:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return this.each((function(){(0,r.default)(this,e)}))};var i,r=(i=e("../interrupt.js"))&&i.__esModule?i:{default:i}},{"../interrupt.js":837}],840:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t,n;e instanceof r.Transition?(t=e._id,e=e._name):(t=(0,r.newId)(),(n=l).time=(0,o.now)(),e=null==e?null:e+"");for(var i=this._groups,s=i.length,c=0;c<s;++c)for(var d,h=i[c],f=h.length,p=0;p<f;++p)(d=h[p])&&(0,a.default)(d,e,t,p,h,n||u(d,t));return new r.Transition(i,this._parents,e,t)};var i,r=e("../transition/index.js"),a=(i=e("../transition/schedule.js"))&&i.__esModule?i:{default:i},s=e("d3-ease"),o=e("d3-timer");var l={time:null,delay:0,duration:250,ease:s.easeCubicInOut};function u(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}},{"../transition/index.js":849,"../transition/schedule.js":854,"d3-ease":423,"d3-timer":831}],841:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){var n=(0,a.namespace)(e),i="transform"===n?r.interpolateTransformSvg:o.default;return this.attrTween(e,"function"==typeof t?(n.local?f:h)(n,i,(0,s.tweenValue)(this,"attr."+e,t)):null==t?(n.local?u:l)(n):(n.local?d:c)(n,i,t))};var i,r=e("d3-interpolate"),a=e("d3-selection"),s=e("./tween.js"),o=(i=e("./interpolate.js"))&&i.__esModule?i:{default:i};function l(e){return function(){this.removeAttribute(e)}}function u(e){return function(){this.removeAttributeNS(e.space,e.local)}}function c(e,t,n){var i,r,a=n+"";return function(){var s=this.getAttribute(e);return s===a?null:s===i?r:r=t(i=s,n)}}function d(e,t,n){var i,r,a=n+"";return function(){var s=this.getAttributeNS(e.space,e.local);return s===a?null:s===i?r:r=t(i=s,n)}}function h(e,t,n){var i,r,a;return function(){var s,o,l=n(this);if(null!=l)return(s=this.getAttribute(e))===(o=l+"")?null:s===i&&o===r?a:(r=o,a=t(i=s,l));this.removeAttribute(e)}}function f(e,t,n){var i,r,a;return function(){var s,o,l=n(this);if(null!=l)return(s=this.getAttributeNS(e.space,e.local))===(o=l+"")?null:s===i&&o===r?a:(r=o,a=t(i=s,l));this.removeAttributeNS(e.space,e.local)}}},{"./interpolate.js":850,"./tween.js":863,"d3-interpolate":568,"d3-selection":700}],842:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=(0,i.namespace)(e);return this.tween(n,(r.local?s:o)(r,t))};var i=e("d3-selection");function r(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function a(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function s(e,t){var n,i;function r(){var r=t.apply(this,arguments);return r!==i&&(n=(i=r)&&a(e,r)),n}return r._value=t,r}function o(e,t){var n,i;function a(){var a=t.apply(this,arguments);return a!==i&&(n=(i=a)&&r(e,a)),n}return a._value=t,a}},{"d3-selection":700}],843:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?r:a)(t,e)):(0,i.get)(this.node(),t).delay};var i=e("./schedule.js");function r(e,t){return function(){(0,i.init)(this,e).delay=+t.apply(this,arguments)}}function a(e,t){return t=+t,function(){(0,i.init)(this,e).delay=t}}},{"./schedule.js":854}],844:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?r:a)(t,e)):(0,i.get)(this.node(),t).duration};var i=e("./schedule.js");function r(e,t){return function(){(0,i.set)(this,e).duration=+t.apply(this,arguments)}}function a(e,t){return t=+t,function(){(0,i.set)(this,e).duration=t}}},{"./schedule.js":854}],845:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=this._id;return arguments.length?this.each(r(t,e)):(0,i.get)(this.node(),t).ease};var i=e("./schedule.js");function r(e,t){if("function"!=typeof t)throw new Error;return function(){(0,i.set)(this,e).ease=t}}},{"./schedule.js":854}],846:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw new Error;(0,i.set)(this,e).ease=n}}(this._id,e))};var i=e("./schedule.js")},{"./schedule.js":854}],847:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e,t,n=this,r=n._id,a=n.size();return new Promise((function(s,o){var l={value:o},u={value:function(){0==--a&&s()}};n.each((function(){var n=(0,i.set)(this,r),a=n.on;a!==e&&((t=(e=a).copy())._.cancel.push(l),t._.interrupt.push(l),t._.end.push(u)),n.on=t})),0===a&&s()}))};var i=e("./schedule.js")},{"./schedule.js":854}],848:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){"function"!=typeof e&&(e=(0,i.matcher)(e));for(var t=this._groups,n=t.length,a=new Array(n),s=0;s<n;++s)for(var o,l=t[s],u=l.length,c=a[s]=[],d=0;d<u;++d)(o=l[d])&&e.call(o,o.__data__,d,l)&&c.push(o);return new r.Transition(a,this._parents,this._name,this._id)};var i=e("d3-selection"),r=e("./index.js")},{"./index.js":849,"d3-selection":700}],849:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Transition=P,n.default=M,n.newId=function(){return++S};var i=e("d3-selection"),r=k(e("./attr.js")),a=k(e("./attrTween.js")),s=k(e("./delay.js")),o=k(e("./duration.js")),l=k(e("./ease.js")),u=k(e("./easeVarying.js")),c=k(e("./filter.js")),d=k(e("./merge.js")),h=k(e("./on.js")),f=k(e("./remove.js")),p=k(e("./select.js")),m=k(e("./selectAll.js")),v=k(e("./selection.js")),y=k(e("./style.js")),g=k(e("./styleTween.js")),_=k(e("./text.js")),b=k(e("./textTween.js")),j=k(e("./transition.js")),x=k(e("./tween.js")),w=k(e("./end.js"));function k(e){return e&&e.__esModule?e:{default:e}}var S=0;function P(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function M(e){return(0,i.selection)().transition(e)}var O=i.selection.prototype;P.prototype=M.prototype={constructor:P,select:p.default,selectAll:m.default,selectChild:O.selectChild,selectChildren:O.selectChildren,filter:c.default,merge:d.default,selection:v.default,transition:j.default,call:O.call,nodes:O.nodes,node:O.node,size:O.size,empty:O.empty,each:O.each,on:h.default,attr:r.default,attrTween:a.default,style:y.default,styleTween:g.default,text:_.default,textTween:b.default,remove:f.default,tween:x.default,delay:s.default,duration:o.default,ease:l.default,easeVarying:u.default,end:w.default,[Symbol.iterator]:O[Symbol.iterator]}},{"./attr.js":841,"./attrTween.js":842,"./delay.js":843,"./duration.js":844,"./ease.js":845,"./easeVarying.js":846,"./end.js":847,"./filter.js":848,"./merge.js":851,"./on.js":852,"./remove.js":853,"./select.js":855,"./selectAll.js":856,"./selection.js":857,"./style.js":858,"./styleTween.js":859,"./text.js":860,"./textTween.js":861,"./transition.js":862,"./tween.js":863,"d3-selection":700}],850:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){var n;return("number"==typeof t?r.interpolateNumber:t instanceof i.color?r.interpolateRgb:(n=(0,i.color)(t))?(t=n,r.interpolateRgb):r.interpolateString)(e,t)};var i=e("d3-color"),r=e("d3-interpolate")},{"d3-color":387,"d3-interpolate":568}],851:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,a=n.length,s=Math.min(r,a),o=new Array(r),l=0;l<s;++l)for(var u,c=t[l],d=n[l],h=c.length,f=o[l]=new Array(h),p=0;p<h;++p)(u=c[p]||d[p])&&(f[p]=u);for(;l<r;++l)o[l]=t[l];return new i.Transition(o,this._parents,this._name,this._id)};var i=e("./index.js")},{"./index.js":849}],852:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){var n=this._id;return arguments.length<2?(0,i.get)(this.node(),n).on.on(e):this.each(r(n,e,t))};var i=e("./schedule.js");function r(e,t,n){var r,a,s=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?i.init:i.set;return function(){var i=s(this,e),o=i.on;o!==r&&(a=(r=o).copy()).on(t,n),i.on=a}}},{"./schedule.js":854}],853:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}));var e}},{}],854:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.STARTING=n.STARTED=n.SCHEDULED=n.RUNNING=n.ENDING=n.ENDED=n.CREATED=void 0,n.default=function(e,t,n,i,o,l){var u=e.__transition;if(u){if(n in u)return}else e.__transition={};!function(e,t,n){var i,a=e.__transition;function s(e){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=e&&o(e-n.delay)}function o(s){var c,d,h,f;if(1!==n.state)return u();for(c in a)if((f=a[c]).name===n.name){if(3===f.state)return(0,r.timeout)(o);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete a[c]):+c<t&&(f.state=6,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete a[c])}if((0,r.timeout)((function(){3===n.state&&(n.state=4,n.timer.restart(l,n.delay,n.time),l(s))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,i=new Array(h=n.tween.length),c=0,d=-1;c<h;++c)(f=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=f);i.length=d+1}}function l(t){for(var r=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(u),n.state=5,1),a=-1,s=i.length;++a<s;)i[a].call(e,r);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){for(var i in n.state=6,n.timer.stop(),delete a[t],a)return;delete e.__transition}a[t]=n,n.timer=(0,r.timer)(s,0,n.time)}(e,n,{name:t,index:i,group:o,on:a,tween:s,time:l.time,delay:l.delay,duration:l.duration,ease:l.ease,timer:null,state:0})},n.get=o,n.init=function(e,t){var n=o(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n},n.set=function(e,t){var n=o(e,t);if(n.state>3)throw new Error("too late; already running");return n};var i=e("d3-dispatch"),r=e("d3-timer"),a=(0,i.dispatch)("start","end","cancel","interrupt"),s=[];n.CREATED=0;n.SCHEDULED=1;n.STARTING=2;n.STARTED=3;n.RUNNING=4;n.ENDING=5;function o(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}n.ENDED=6},{"d3-dispatch":405,"d3-timer":831}],855:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=(0,i.selector)(e));for(var s=this._groups,o=s.length,l=new Array(o),u=0;u<o;++u)for(var c,d,h=s[u],f=h.length,p=l[u]=new Array(f),m=0;m<f;++m)(c=h[m])&&(d=e.call(c,c.__data__,m,h))&&("__data__"in c&&(d.__data__=c.__data__),p[m]=d,(0,a.default)(p[m],t,n,m,p,(0,a.get)(c,n)));return new r.Transition(l,this._parents,t,n)};var i=e("d3-selection"),r=e("./index.js"),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(e("./schedule.js"));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}},{"./index.js":849,"./schedule.js":854,"d3-selection":700}],856:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=(0,i.selectorAll)(e));for(var s=this._groups,o=s.length,l=[],u=[],c=0;c<o;++c)for(var d,h=s[c],f=h.length,p=0;p<f;++p)if(d=h[p]){for(var m,v=e.call(d,d.__data__,p,h),y=(0,a.get)(d,n),g=0,_=v.length;g<_;++g)(m=v[g])&&(0,a.default)(m,t,n,g,v,y);l.push(v),u.push(d)}return new r.Transition(l,u,t,n)};var i=e("d3-selection"),r=e("./index.js"),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(e("./schedule.js"));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}},{"./index.js":849,"./schedule.js":854,"d3-selection":700}],857:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return new i(this._groups,this._parents)};var i=e("d3-selection").selection.prototype.constructor},{"d3-selection":700}],858:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n){var i="transform"==(e+="")?r.interpolateTransformCss:l.default;return null==t?this.styleTween(e,function(e,t){var n,i,r;return function(){var s=(0,a.style)(this,e),o=(this.style.removeProperty(e),(0,a.style)(this,e));return s===o?null:s===n&&o===i?r:r=t(n=s,i=o)}}(e,i)).on("end.style."+e,u(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var i,r,s;return function(){var o=(0,a.style)(this,e),l=n(this),u=l+"";return null==l&&(this.style.removeProperty(e),u=l=(0,a.style)(this,e)),o===u?null:o===i&&u===r?s:(r=u,s=t(i=o,l))}}(e,i,(0,o.tweenValue)(this,"style."+e,t))).each(function(e,t){var n,i,r,a,o="style."+t,l="end."+o;return function(){var c=(0,s.set)(this,e),d=c.on,h=null==c.value[o]?a||(a=u(t)):void 0;d===n&&r===h||(i=(n=d).copy()).on(l,r=h),c.on=i}}(this._id,e)):this.styleTween(e,function(e,t,n){var i,r,s=n+"";return function(){var o=(0,a.style)(this,e);return o===s?null:o===i?r:r=t(i=o,n)}}(e,i,t),n).on("end.style."+e,null)};var i,r=e("d3-interpolate"),a=e("d3-selection"),s=e("./schedule.js"),o=e("./tween.js"),l=(i=e("./interpolate.js"))&&i.__esModule?i:{default:i};function u(e){return function(){this.style.removeProperty(e)}}},{"./interpolate.js":850,"./schedule.js":854,"./tween.js":863,"d3-interpolate":568,"d3-selection":700}],859:[function(e,t,n){"use strict";function i(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function r(e,t,n){var r,a;function s(){var s=t.apply(this,arguments);return s!==a&&(r=(a=s)&&i(e,s,n)),r}return s._value=t,s}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==t)return this.tween(i,null);if("function"!=typeof t)throw new Error;return this.tween(i,r(e,t,null==n?"":n))}},{}],860:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}((0,i.tweenValue)(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))};var i=e("./tween.js")},{"./tween.js":863}],861:[function(e,t,n){"use strict";function i(e){return function(t){this.textContent=e.call(this,t)}}function r(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&i(r)),t}return r._value=e,r}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,r(e))}},{}],862:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){for(var e=this._name,t=this._id,n=(0,i.newId)(),a=this._groups,s=a.length,o=0;o<s;++o)for(var l,u=a[o],c=u.length,d=0;d<c;++d)if(l=u[d]){var h=(0,r.get)(l,t);(0,r.default)(l,e,n,d,u,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new i.Transition(a,this._parents,e,n)};var i=e("./index.js"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=e[s]}i.default=e,n&&n.set(e,i);return i}(e("./schedule.js"));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}},{"./index.js":849,"./schedule.js":854}],863:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var s,o=(0,i.get)(this.node(),n).tween,l=0,u=o.length;l<u;++l)if((s=o[l]).name===e)return s.value;return null}return this.each((null==t?r:a)(n,e,t))},n.tweenValue=function(e,t,n){var r=e._id;return e.each((function(){var e=(0,i.set)(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return(0,i.get)(e,r).value[t]}};var i=e("./schedule.js");function r(e,t){var n,r;return function(){var a=(0,i.set)(this,e),s=a.tween;if(s!==n)for(var o=0,l=(r=n=s).length;o<l;++o)if(r[o].name===t){(r=r.slice()).splice(o,1);break}a.tween=r}}function a(e,t,n){var r,a;if("function"!=typeof n)throw new Error;return function(){var s=(0,i.set)(this,e),o=s.tween;if(o!==r){a=(r=o).slice();for(var l={name:t,value:n},u=0,c=a.length;u<c;++u)if(a[u].name===t){a[u]=l;break}u===c&&a.push(l)}s.tween=a}}},{"./schedule.js":854}],864:[function(e,t,n){arguments[4][374][0].apply(n,arguments)},{dup:374}],865:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,{sourceEvent:t,target:n,transform:i,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:r}})}},{}],866:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ZoomTransform",{enumerable:!0,get:function(){return a.Transform}}),Object.defineProperty(n,"zoom",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"zoomIdentity",{enumerable:!0,get:function(){return a.identity}}),Object.defineProperty(n,"zoomTransform",{enumerable:!0,get:function(){return a.default}});var i,r=(i=e("./zoom.js"))&&i.__esModule?i:{default:i},a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(e("./transform.js"));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}},{"./transform.js":868,"./zoom.js":869}],867:[function(e,t,n){arguments[4][377][0].apply(n,arguments)},{dup:377}],868:[function(e,t,n){"use strict";function i(e,t,n){this.k=e,this.x=t,this.y=n}Object.defineProperty(n,"__esModule",{value:!0}),n.Transform=i,n.default=a,n.identity=void 0,i.prototype={constructor:i,scale:function(e){return 1===e?this:new i(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new i(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var r=new i(1,0,0);function a(e){for(;!e.__zoom;)if(!(e=e.parentNode))return r;return e.__zoom}n.identity=r,a.prototype=i.prototype},{}],869:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e,t,n,h=p,f=m,b=_,j=y,x=g,w=[0,1/0],k=[[-1/0,-1/0],[1/0,1/0]],S=250,P=a.interpolateZoom,M=(0,i.dispatch)("start","zoom","end"),O=500,L=0,E=10;function A(e){e.property("__zoom",v).on("wheel.zoom",q,{passive:!1}).on("mousedown.zoom",R).on("dblclick.zoom",B).filter(x).on("touchstart.zoom",F).on("touchmove.zoom",H).on("touchend.zoom touchcancel.zoom",W).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function C(e,t){return(t=Math.max(w[0],Math.min(w[1],t)))===e.k?e:new c.Transform(t,e.x,e.y)}function T(e,t,n){var i=t[0]-n[0]*e.k,r=t[1]-n[1]*e.k;return i===e.x&&r===e.y?e:new c.Transform(e.k,i,r)}function D(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function I(e,t,n,i){e.on("start.zoom",(function(){N(this,arguments).event(i).start()})).on("interrupt.zoom end.zoom",(function(){N(this,arguments).event(i).end()})).tween("zoom",(function(){var e=this,r=arguments,a=N(e,r).event(i),s=f.apply(e,r),o=null==n?D(s):"function"==typeof n?n.apply(e,r):n,l=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),u=e.__zoom,d="function"==typeof t?t.apply(e,r):t,h=P(u.invert(o).concat(l/u.k),d.invert(o).concat(l/d.k));return function(e){if(1===e)e=d;else{var t=h(e),n=l/t[2];e=new c.Transform(n,o[0]-t[0]*n,o[1]-t[1]*n)}a.zoom(null,e)}}))}function N(e,t,n){return!n&&e.__zooming||new z(e,t)}function z(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=f.apply(e,t),this.taps=0}function q(e,...t){if(h.apply(this,arguments)){var n=N(this,t).event(e),i=this.__zoom,r=Math.max(w[0],Math.min(w[1],i.k*Math.pow(2,j.apply(this,arguments)))),a=(0,s.pointer)(e);if(n.wheel)n.mouse[0][0]===a[0]&&n.mouse[0][1]===a[1]||(n.mouse[1]=i.invert(n.mouse[0]=a)),clearTimeout(n.wheel);else{if(i.k===r)return;n.mouse=[a,i.invert(a)],(0,o.interrupt)(this),n.start()}(0,d.default)(e),n.wheel=setTimeout(l,150),n.zoom("mouse",b(T(C(i,r),n.mouse[0],n.mouse[1]),n.extent,k))}function l(){n.wheel=null,n.end()}}function R(e,...t){if(!n&&h.apply(this,arguments)){var i=e.currentTarget,a=N(this,t,!0).event(e),l=(0,s.select)(e.view).on("mousemove.zoom",p,!0).on("mouseup.zoom",m,!0),u=(0,s.pointer)(e,i),c=e.clientX,f=e.clientY;(0,r.dragDisable)(e.view),(0,d.nopropagation)(e),a.mouse=[u,this.__zoom.invert(u)],(0,o.interrupt)(this),a.start()}function p(e){if((0,d.default)(e),!a.moved){var t=e.clientX-c,n=e.clientY-f;a.moved=t*t+n*n>L}a.event(e).zoom("mouse",b(T(a.that.__zoom,a.mouse[0]=(0,s.pointer)(e,i),a.mouse[1]),a.extent,k))}function m(e){l.on("mousemove.zoom mouseup.zoom",null),(0,r.dragEnable)(e.view,a.moved),(0,d.default)(e),a.event(e).end()}}function B(e,...t){if(h.apply(this,arguments)){var n=this.__zoom,i=(0,s.pointer)(e.changedTouches?e.changedTouches[0]:e,this),r=n.invert(i),a=n.k*(e.shiftKey?.5:2),o=b(T(C(n,a),i,r),f.apply(this,t),k);(0,d.default)(e),S>0?(0,s.select)(this).transition().duration(S).call(I,o,i,e):(0,s.select)(this).call(A.transform,o,i,e)}}function F(n,...i){if(h.apply(this,arguments)){var r,a,l,u,c=n.touches,f=c.length,p=N(this,i,n.changedTouches.length===f).event(n);for((0,d.nopropagation)(n),a=0;a<f;++a)l=c[a],u=[u=(0,s.pointer)(l,this),this.__zoom.invert(u),l.identifier],p.touch0?p.touch1||p.touch0[2]===u[2]||(p.touch1=u,p.taps=0):(p.touch0=u,r=!0,p.taps=1+!!e);e&&(e=clearTimeout(e)),r&&(p.taps<2&&(t=u[0],e=setTimeout((function(){e=null}),O)),(0,o.interrupt)(this),p.start())}}function H(e,...t){if(this.__zooming){var n,i,r,a,o=N(this,t).event(e),l=e.changedTouches,u=l.length;for((0,d.default)(e),n=0;n<u;++n)i=l[n],r=(0,s.pointer)(i,this),o.touch0&&o.touch0[2]===i.identifier?o.touch0[0]=r:o.touch1&&o.touch1[2]===i.identifier&&(o.touch1[0]=r);if(i=o.that.__zoom,o.touch1){var c=o.touch0[0],h=o.touch0[1],f=o.touch1[0],p=o.touch1[1],m=(m=f[0]-c[0])*m+(m=f[1]-c[1])*m,v=(v=p[0]-h[0])*v+(v=p[1]-h[1])*v;i=C(i,Math.sqrt(m/v)),r=[(c[0]+f[0])/2,(c[1]+f[1])/2],a=[(h[0]+p[0])/2,(h[1]+p[1])/2]}else{if(!o.touch0)return;r=o.touch0[0],a=o.touch0[1]}o.zoom("touch",b(T(i,r,a),o.extent,k))}}function W(e,...i){if(this.__zooming){var r,a,o=N(this,i).event(e),l=e.changedTouches,u=l.length;for((0,d.nopropagation)(e),n&&clearTimeout(n),n=setTimeout((function(){n=null}),O),r=0;r<u;++r)a=l[r],o.touch0&&o.touch0[2]===a.identifier?delete o.touch0:o.touch1&&o.touch1[2]===a.identifier&&delete o.touch1;if(o.touch1&&!o.touch0&&(o.touch0=o.touch1,delete o.touch1),o.touch0)o.touch0[1]=this.__zoom.invert(o.touch0[0]);else if(o.end(),2===o.taps&&(a=(0,s.pointer)(a,this),Math.hypot(t[0]-a[0],t[1]-a[1])<E)){var c=(0,s.select)(this).on("dblclick.zoom");c&&c.apply(this,arguments)}}}return A.transform=function(e,t,n,i){var r=e.selection?e.selection():e;r.property("__zoom",v),e!==r?I(e,t,n,i):r.interrupt().each((function(){N(this,arguments).event(i).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()}))},A.scaleBy=function(e,t,n,i){A.scaleTo(e,(function(){var e=this.__zoom.k,n="function"==typeof t?t.apply(this,arguments):t;return e*n}),n,i)},A.scaleTo=function(e,t,n,i){A.transform(e,(function(){var e=f.apply(this,arguments),i=this.__zoom,r=null==n?D(e):"function"==typeof n?n.apply(this,arguments):n,a=i.invert(r),s="function"==typeof t?t.apply(this,arguments):t;return b(T(C(i,s),r,a),e,k)}),n,i)},A.translateBy=function(e,t,n,i){A.transform(e,(function(){return b(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),f.apply(this,arguments),k)}),null,i)},A.translateTo=function(e,t,n,i,r){A.transform(e,(function(){var e=f.apply(this,arguments),r=this.__zoom,a=null==i?D(e):"function"==typeof i?i.apply(this,arguments):i;return b(c.identity.translate(a[0],a[1]).scale(r.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,k)}),i,r)},z.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=(0,s.select)(this.that).datum();M.call(e,this.that,new u.default(e,{sourceEvent:this.sourceEvent,target:A,type:e,transform:this.that.__zoom,dispatch:M}),t)}},A.wheelDelta=function(e){return arguments.length?(j="function"==typeof e?e:(0,l.default)(+e),A):j},A.filter=function(e){return arguments.length?(h="function"==typeof e?e:(0,l.default)(!!e),A):h},A.touchable=function(e){return arguments.length?(x="function"==typeof e?e:(0,l.default)(!!e),A):x},A.extent=function(e){return arguments.length?(f="function"==typeof e?e:(0,l.default)([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),A):f},A.scaleExtent=function(e){return arguments.length?(w[0]=+e[0],w[1]=+e[1],A):[w[0],w[1]]},A.translateExtent=function(e){return arguments.length?(k[0][0]=+e[0][0],k[1][0]=+e[1][0],k[0][1]=+e[0][1],k[1][1]=+e[1][1],A):[[k[0][0],k[0][1]],[k[1][0],k[1][1]]]},A.constrain=function(e){return arguments.length?(b=e,A):b},A.duration=function(e){return arguments.length?(S=+e,A):S},A.interpolate=function(e){return arguments.length?(P=e,A):P},A.on=function(){var e=M.on.apply(M,arguments);return e===M?A:e},A.clickDistance=function(e){return arguments.length?(L=(e=+e)*e,A):Math.sqrt(L)},A.tapDistance=function(e){return arguments.length?(E=+e,A):E},A};var i=e("d3-dispatch"),r=e("d3-drag"),a=e("d3-interpolate"),s=e("d3-selection"),o=e("d3-transition"),l=f(e("./constant.js")),u=f(e("./event.js")),c=e("./transform.js"),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=r?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(e("./noevent.js"));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function f(e){return e&&e.__esModule?e:{default:e}}function p(e){return!(e.ctrlKey&&"wheel"!==e.type||e.button)}function m(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function v(){return this.__zoom||c.identity}function y(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function g(){return navigator.maxTouchPoints||"ontouchstart"in this}function _(e,t,n){var i=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),s>a?(a+s)/2:Math.min(0,a)||Math.max(0,s))}},{"./constant.js":864,"./event.js":865,"./noevent.js":867,"./transform.js":868,"d3-dispatch":405,"d3-drag":409,"d3-interpolate":568,"d3-selection":700,"d3-transition":836}],870:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("d3-array");Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===i[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return i[e]}}))}));var r=e("d3-axis");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===r[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return r[e]}}))}));var a=e("d3-brush");Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===a[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return a[e]}}))}));var s=e("d3-chord");Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===s[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return s[e]}}))}));var o=e("d3-color");Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===o[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return o[e]}}))}));var l=e("d3-contour");Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===l[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return l[e]}}))}));var u=e("d3-delaunay");Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===u[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return u[e]}}))}));var c=e("d3-dispatch");Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===c[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return c[e]}}))}));var d=e("d3-drag");Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===d[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return d[e]}}))}));var h=e("d3-dsv");Object.keys(h).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===h[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return h[e]}}))}));var f=e("d3-ease");Object.keys(f).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===f[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return f[e]}}))}));var p=e("d3-fetch");Object.keys(p).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===p[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return p[e]}}))}));var m=e("d3-force");Object.keys(m).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===m[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return m[e]}}))}));var v=e("d3-format");Object.keys(v).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===v[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return v[e]}}))}));var y=e("d3-geo");Object.keys(y).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===y[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return y[e]}}))}));var g=e("d3-hierarchy");Object.keys(g).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===g[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return g[e]}}))}));var _=e("d3-interpolate");Object.keys(_).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===_[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return _[e]}}))}));var b=e("d3-path");Object.keys(b).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===b[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return b[e]}}))}));var j=e("d3-polygon");Object.keys(j).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===j[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return j[e]}}))}));var x=e("d3-quadtree");Object.keys(x).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===x[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return x[e]}}))}));var w=e("d3-random");Object.keys(w).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===w[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return w[e]}}))}));var k=e("d3-scale");Object.keys(k).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===k[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return k[e]}}))}));var S=e("d3-scale-chromatic");Object.keys(S).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===S[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return S[e]}}))}));var P=e("d3-selection");Object.keys(P).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===P[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return P[e]}}))}));var M=e("d3-shape");Object.keys(M).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===M[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return M[e]}}))}));var O=e("d3-time");Object.keys(O).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===O[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return O[e]}}))}));var L=e("d3-time-format");Object.keys(L).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===L[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return L[e]}}))}));var E=e("d3-timer");Object.keys(E).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===E[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return E[e]}}))}));var A=e("d3-transition");Object.keys(A).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===A[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return A[e]}}))}));var C=e("d3-zoom");Object.keys(C).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===C[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return C[e]}}))}))},{"d3-array":332,"d3-axis":372,"d3-brush":376,"d3-chord":381,"d3-color":387,"d3-contour":397,"d3-delaunay":400,"d3-dispatch":405,"d3-drag":409,"d3-dsv":415,"d3-ease":423,"d3-fetch":433,"d3-force":440,"d3-format":460,"d3-geo":484,"d3-hierarchy":541,"d3-interpolate":568,"d3-path":583,"d3-polygon":590,"d3-quadtree":597,"d3-random":616,"d3-scale":678,"d3-scale-chromatic":647,"d3-selection":700,"d3-shape":773,"d3-time":816,"d3-time-format":809,"d3-timer":831,"d3-transition":836,"d3-zoom":866}],871:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=e("robust-predicates");const r=Math.pow(2,-52),a=new Uint32Array(512);class s{static from(e,t=h,n=f){const i=e.length,r=new Float64Array(2*i);for(let a=0;a<i;a++){const i=e[a];r[2*a]=t(i),r[2*a+1]=n(i)}return new s(r)}constructor(e){const t=e.length>>1;if(t>0&&"number"!=typeof e[0])throw new Error("Expected coords to contain numbers.");this.coords=e;const n=Math.max(2*t-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(t)),this._hullPrev=new Uint32Array(t),this._hullNext=new Uint32Array(t),this._hullTri=new Uint32Array(t),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(t),this._dists=new Float64Array(t),this.update()}update(){const{coords:e,_hullPrev:t,_hullNext:n,_hullTri:a,_hullHash:s}=this,l=e.length>>1;let d=1/0,h=1/0,f=-1/0,p=-1/0;for(let t=0;t<l;t++){const n=e[2*t],i=e[2*t+1];n<d&&(d=n),i<h&&(h=i),n>f&&(f=n),i>p&&(p=i),this._ids[t]=t}const m=(d+f)/2,v=(h+p)/2;let y,g,_,b=1/0;for(let t=0;t<l;t++){const n=o(m,v,e[2*t],e[2*t+1]);n<b&&(y=t,b=n)}const j=e[2*y],x=e[2*y+1];b=1/0;for(let t=0;t<l;t++){if(t===y)continue;const n=o(j,x,e[2*t],e[2*t+1]);n<b&&n>0&&(g=t,b=n)}let w=e[2*g],k=e[2*g+1],S=1/0;for(let t=0;t<l;t++){if(t===y||t===g)continue;const n=u(j,x,w,k,e[2*t],e[2*t+1]);n<S&&(_=t,S=n)}let P=e[2*_],M=e[2*_+1];if(S===1/0){for(let t=0;t<l;t++)this._dists[t]=e[2*t]-e[0]||e[2*t+1]-e[1];c(this._ids,this._dists,0,l-1);const t=new Uint32Array(l);let n=0;for(let e=0,i=-1/0;e<l;e++){const r=this._ids[e];this._dists[r]>i&&(t[n++]=r,i=this._dists[r])}return this.hull=t.subarray(0,n),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if((0,i.orient2d)(j,x,w,k,P,M)<0){const e=g,t=w,n=k;g=_,w=P,k=M,_=e,P=t,M=n}const O=function(e,t,n,i,r,a){const s=n-e,o=i-t,l=r-e,u=a-t,c=s*s+o*o,d=l*l+u*u,h=.5/(s*u-o*l);return{x:e+(u*c-o*d)*h,y:t+(s*d-l*c)*h}}(j,x,w,k,P,M);this._cx=O.x,this._cy=O.y;for(let t=0;t<l;t++)this._dists[t]=o(e[2*t],e[2*t+1],O.x,O.y);c(this._ids,this._dists,0,l-1),this._hullStart=y;let L=3;n[y]=t[_]=g,n[g]=t[y]=_,n[_]=t[g]=y,a[y]=0,a[g]=1,a[_]=2,s.fill(-1),s[this._hashKey(j,x)]=y,s[this._hashKey(w,k)]=g,s[this._hashKey(P,M)]=_,this.trianglesLen=0,this._addTriangle(y,g,_,-1,-1,-1);for(let o,l,u=0;u<this._ids.length;u++){const c=this._ids[u],d=e[2*c],h=e[2*c+1];if(u>0&&Math.abs(d-o)<=r&&Math.abs(h-l)<=r)continue;if(o=d,l=h,c===y||c===g||c===_)continue;let f=0;for(let e=0,t=this._hashKey(d,h);e<this._hashSize&&(f=s[(t+e)%this._hashSize],-1===f||f===n[f]);e++);f=t[f];let p,m=f;for(;p=n[m],(0,i.orient2d)(d,h,e[2*m],e[2*m+1],e[2*p],e[2*p+1])>=0;)if(m=p,m===f){m=-1;break}if(-1===m)continue;let v=this._addTriangle(m,c,n[m],-1,-1,a[m]);a[c]=this._legalize(v+2),a[m]=v,L++;let b=n[m];for(;p=n[b],(0,i.orient2d)(d,h,e[2*b],e[2*b+1],e[2*p],e[2*p+1])<0;)v=this._addTriangle(b,c,p,a[c],-1,a[b]),a[c]=this._legalize(v+2),n[b]=b,L--,b=p;if(m===f)for(;p=t[m],(0,i.orient2d)(d,h,e[2*p],e[2*p+1],e[2*m],e[2*m+1])<0;)v=this._addTriangle(p,c,m,-1,a[m],a[p]),this._legalize(v+2),a[p]=v,n[m]=m,L--,m=p;this._hullStart=t[c]=m,n[m]=t[b]=c,n[c]=b,s[this._hashKey(d,h)]=c,s[this._hashKey(e[2*m],e[2*m+1])]=m}this.hull=new Uint32Array(L);for(let e=0,t=this._hullStart;e<L;e++)this.hull[e]=t,t=n[t];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,t){return Math.floor(function(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:t,_halfedges:n,coords:i}=this;let r=0,s=0;for(;;){const o=n[e],u=e-e%3;if(s=u+(e+2)%3,-1===o){if(0===r)break;e=a[--r];continue}const c=o-o%3,d=u+(e+1)%3,h=c+(o+2)%3,f=t[s],p=t[e],m=t[d],v=t[h];if(l(i[2*f],i[2*f+1],i[2*p],i[2*p+1],i[2*m],i[2*m+1],i[2*v],i[2*v+1])){t[e]=v,t[o]=f;const i=n[h];if(-1===i){let t=this._hullStart;do{if(this._hullTri[t]===h){this._hullTri[t]=e;break}t=this._hullPrev[t]}while(t!==this._hullStart)}this._link(e,i),this._link(o,n[s]),this._link(s,h);const l=c+(o+1)%3;r<a.length&&(a[r++]=l)}else{if(0===r)break;e=a[--r]}}return s}_link(e,t){this._halfedges[e]=t,-1!==t&&(this._halfedges[t]=e)}_addTriangle(e,t,n,i,r,a){const s=this.trianglesLen;return this._triangles[s]=e,this._triangles[s+1]=t,this._triangles[s+2]=n,this._link(s,i),this._link(s+1,r),this._link(s+2,a),this.trianglesLen+=3,s}}function o(e,t,n,i){const r=e-n,a=t-i;return r*r+a*a}function l(e,t,n,i,r,a,s,o){const l=e-s,u=t-o,c=n-s,d=i-o,h=r-s,f=a-o,p=c*c+d*d,m=h*h+f*f;return l*(d*m-p*f)-u*(c*m-p*h)+(l*l+u*u)*(c*f-d*h)<0}function u(e,t,n,i,r,a){const s=n-e,o=i-t,l=r-e,u=a-t,c=s*s+o*o,d=l*l+u*u,h=.5/(s*u-o*l),f=(u*c-o*d)*h,p=(s*d-l*c)*h;return f*f+p*p}function c(e,t,n,i){if(i-n<=20)for(let r=n+1;r<=i;r++){const i=e[r],a=t[i];let s=r-1;for(;s>=n&&t[e[s]]>a;)e[s+1]=e[s--];e[s+1]=i}else{let r=n+1,a=i;d(e,n+i>>1,r),t[e[n]]>t[e[i]]&&d(e,n,i),t[e[r]]>t[e[i]]&&d(e,r,i),t[e[n]]>t[e[r]]&&d(e,n,r);const s=e[r],o=t[s];for(;;){do{r++}while(t[e[r]]<o);do{a--}while(t[e[a]]>o);if(a<r)break;d(e,r,a)}e[n+1]=e[a],e[a]=s,i-r+1>=a-n?(c(e,t,r,i),c(e,t,n,a-1)):(c(e,t,n,a-1),c(e,t,r,i))}}function d(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}function h(e){return e[0]}function f(e){return e[1]}n.default=s},{"robust-predicates":880}],872:[function(e,t,n){(function(i){(function(){!function(e){"object"==typeof n&&void 0!==t?t.exports=e():("undefined"!=typeof window?window:void 0!==i?i:"undefined"!=typeof self?self:this).dragula=e()}((function(){return function t(n,i,r){function a(o,l){if(!i[o]){if(!n[o]){var u="function"==typeof e&&e;if(!l&&u)return u(o,!0);if(s)return s(o,!0);throw(u=new Error("Cannot find module '"+o+"'")).code="MODULE_NOT_FOUND",u}u=i[o]={exports:{}},n[o][0].call(u.exports,(function(e){return a(n[o][1][e]||e)}),u,u.exports,t,n,i,r)}return i[o].exports}for(var s="function"==typeof e&&e,o=0;o<r.length;o++)a(r[o]);return a}({1:[function(e,t,n){"use strict";var i={};function r(e){var t=i[e];return t?t.lastIndex=0:i[e]=t=new RegExp("(?:^|\\s)"+e+"(?:\\s|$)","g"),t}t.exports={add:function(e,t){var n=e.className;n.length?r(t).test(n)||(e.className+=" "+t):e.className=t},rm:function(e,t){e.className=e.className.replace(r(t)," ").trim()}}},{}],2:[function(e,t,n){(function(n){"use strict";var i=e("contra/emitter"),r=e("crossvent"),a=e("./classes"),s=document,o=s.documentElement;function l(e,t,i,a){n.navigator.pointerEnabled?r[t](e,{mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"}[i],a):n.navigator.msPointerEnabled?r[t](e,{mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"}[i],a):(r[t](e,{mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"}[i],a),r[t](e,i,a))}function u(e){return void 0!==e.touches?e.touches.length:void 0!==e.which&&0!==e.which?e.which:void 0!==e.buttons?e.buttons:void 0!==(e=e.button)?1&e?1:2&e?3:4&e?2:0:void 0}function c(e,t){return void 0!==n[t]?n[t]:(o.clientHeight?o:s.body)[e]}function d(e,t,n){var i=(e=e||{}).className||"";return e.className+=" gu-hide",n=s.elementFromPoint(t,n),e.className=i,n}function h(){return!1}function f(){return!0}function p(e){return e.width||e.right-e.left}function m(e){return e.height||e.bottom-e.top}function v(e){return e.parentNode===s?null:e.parentNode}function y(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||"SELECT"===e.tagName||function e(t){return!!t&&("false"!==t.contentEditable&&("true"===t.contentEditable||e(v(t))))}(e)}function g(e){return e.nextElementSibling||function(){for(var t=e;(t=t.nextSibling)&&1!==t.nodeType;);return t}()}function _(e,t){t=(n=t).targetTouches&&n.targetTouches.length?n.targetTouches[0]:n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n;var n={pageX:"clientX",pageY:"clientY"};return e in n&&!(e in t)&&n[e]in t&&(e=n[e]),t[e]}t.exports=function(e,t){var n,b,j,x,w,k,S,P,M,O,L;1===arguments.length&&!1===Array.isArray(e)&&(t=e,e=[]);var E,A=null,C=t||{};void 0===C.moves&&(C.moves=f),void 0===C.accepts&&(C.accepts=f),void 0===C.invalid&&(C.invalid=function(){return!1}),void 0===C.containers&&(C.containers=e||[]),void 0===C.isContainer&&(C.isContainer=h),void 0===C.copy&&(C.copy=!1),void 0===C.copySortSource&&(C.copySortSource=!1),void 0===C.revertOnSpill&&(C.revertOnSpill=!1),void 0===C.removeOnSpill&&(C.removeOnSpill=!1),void 0===C.direction&&(C.direction="vertical"),void 0===C.ignoreInputTextSelection&&(C.ignoreInputTextSelection=!0),void 0===C.mirrorContainer&&(C.mirrorContainer=s.body);var T=i({containers:C.containers,start:function(e){(e=F(e))&&H(e)},end:W,cancel:G,remove:Y,destroy:function(){I(!0),V({})},canMove:function(e){return!!F(e)},dragging:!1});return!0===C.removeOnSpill&&T.on("over",(function(e){a.rm(e,"gu-hide")})).on("out",(function(e){T.dragging&&a.add(e,"gu-hide")})),I(),T;function D(e){return-1!==T.containers.indexOf(e)||C.isContainer(e)}function I(e){l(o,e=e?"remove":"add","mousedown",R),l(o,e,"mouseup",V)}function N(e){l(o,e?"remove":"add","mousemove",B)}function z(e){r[e=e?"remove":"add"](o,"selectstart",q),r[e](o,"click",q)}function q(e){E&&e.preventDefault()}function R(e){var t,n;k=e.clientX,S=e.clientY,1!==u(e)||e.metaKey||e.ctrlKey||(n=F(t=e.target))&&(E=n,N(),"mousedown"===e.type&&(y(t)?t.focus():e.preventDefault()))}function B(e){if(E)if(0!==u(e)){if(!(void 0!==e.clientX&&Math.abs(e.clientX-k)<=(C.slideFactorX||0)&&void 0!==e.clientY&&Math.abs(e.clientY-S)<=(C.slideFactorY||0))){if(C.ignoreInputTextSelection){var t=_("clientX",e)||0,i=_("clientY",e)||0;if(y(s.elementFromPoint(t,i)))return}i=E,N(!0),z(),W(),H(i),i=function(e){return{left:(e=e.getBoundingClientRect()).left+c("scrollLeft","pageXOffset"),top:e.top+c("scrollTop","pageYOffset")}}(j),x=_("pageX",e)-i.left,w=_("pageY",e)-i.top,a.add(O||j,"gu-transit"),function(){if(!n){var e=j.getBoundingClientRect();(n=j.cloneNode(!0)).style.width=p(e)+"px",n.style.height=m(e)+"px",a.rm(n,"gu-transit"),a.add(n,"gu-mirror"),C.mirrorContainer.appendChild(n),l(o,"add","mousemove",J),a.add(C.mirrorContainer,"gu-unselectable"),T.emit("cloned",n,j,"mirror")}}(),J(e)}}else V({})}function F(e){if(!(T.dragging&&n||D(e))){for(var t=e;v(e)&&!1===D(v(e));){if(C.invalid(e,t))return;if(!(e=v(e)))return}var i=v(e);if(i&&!C.invalid(e,t)&&C.moves(e,i,t,g(e)))return{item:e,source:i}}}function H(e){var t,n;t=e.item,n=e.source,("boolean"==typeof C.copy?C.copy:C.copy(t,n))&&(O=e.item.cloneNode(!0),T.emit("cloned",O,e.item,"copy")),b=e.source,j=e.item,P=M=g(e.item),T.dragging=!0,T.emit("drag",j,b)}function W(){var e;T.dragging&&U(e=O||j,v(e))}function Z(){N(!(E=!1)),z(!0)}function V(e){var t,i;Z(),T.dragging&&(t=O||j,i=_("clientX",e)||0,e=_("clientY",e)||0,(e=$(d(n,i,e),i,e))&&(O&&C.copySortSource||!O||e!==b)?U(t,e):(C.removeOnSpill?Y:G)())}function U(e,t){var n=v(e);O&&C.copySortSource&&t===b&&n.removeChild(j),K(t)?T.emit("cancel",e,b,b):T.emit("drop",e,t,b,M),X()}function Y(){var e,t;T.dragging&&((t=v(e=O||j))&&t.removeChild(e),T.emit(O?"cancel":"remove",e,t,b),X())}function G(e){var t,n,i;T.dragging&&(t=0<arguments.length?e:C.revertOnSpill,!1===(e=K(i=v(n=O||j)))&&t&&(O?i&&i.removeChild(O):b.insertBefore(n,P)),e||t?T.emit("cancel",n,b,b):T.emit("drop",n,i,b,M),X())}function X(){var e=O||j;Z(),n&&(a.rm(C.mirrorContainer,"gu-unselectable"),l(o,"remove","mousemove",J),v(n).removeChild(n),n=null),e&&a.rm(e,"gu-transit"),L&&clearTimeout(L),T.dragging=!1,A&&T.emit("out",e,A,b),T.emit("dragend",e),b=j=O=P=M=L=A=null}function K(e,t){return t=void 0!==t?t:n?M:g(O||j),e===b&&t===P}function $(e,t,n){for(var i=e;i&&!function(){if(!1===D(i))return!1;var r=Q(i,e);r=ee(i,r,t,n);return!!K(i,r)||C.accepts(j,i,b,r)}();)i=v(i);return i}function J(e){if(n){e.preventDefault();var t=_("clientX",e)||0,i=_("clientY",e)||0,r=t-x,a=i-w;n.style.left=r+"px",n.style.top=a+"px";var s=O||j,o=null!==(r=$(e=d(n,t,i),t,i))&&r!==A;if(!o&&null!==r||(A&&u("out"),A=r,o&&u("over")),a=v(s),r!==b||!O||C.copySortSource){var l;if(null!==(e=Q(r,e)))l=ee(r,e,t,i);else{if(!0!==C.revertOnSpill||O)return void(O&&a&&a.removeChild(s));l=P,r=b}(null===l&&o||l!==s&&l!==g(s))&&(M=l,r.insertBefore(s,l),T.emit("shadow",s,r,b))}else a&&a.removeChild(s)}function u(e){T.emit(e,s,A,b)}}function Q(e,t){for(var n=t;n!==e&&v(n)!==e;)n=v(n);return n===o?null:n}function ee(e,t,n,i){var r="horizontal"===C.direction;return(t!==e?function(){var e=t.getBoundingClientRect();return a(r?n>e.left+p(e)/2:i>e.top+m(e)/2)}:function(){var t,a,s,o=e.children.length;for(t=0;t<o;t++){if(s=(a=e.children[t]).getBoundingClientRect(),r&&s.left+s.width/2>n)return a;if(!r&&s.top+s.height/2>i)return a}return null})();function a(e){return e?g(t):t}}}}).call(this,void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./classes":1,"contra/emitter":5,crossvent:6}],3:[function(e,t,n){t.exports=function(e,t){return Array.prototype.slice.call(e,t)}},{}],4:[function(e,t,n){"use strict";var i=e("ticky");t.exports=function(e,t,n){e&&i((function(){e.apply(n||null,t||[])}))}},{ticky:10}],5:[function(e,t,n){"use strict";var i=e("atoa"),r=e("./debounce");t.exports=function(e,t){var n=t||{},a={};return void 0===e&&(e={}),e.on=function(t,n){return a[t]?a[t].push(n):a[t]=[n],e},e.once=function(t,n){return n._once=!0,e.on(t,n),e},e.off=function(t,n){var i=arguments.length;if(1===i)delete a[t];else if(0===i)a={};else{if(!(t=a[t]))return e;t.splice(t.indexOf(n),1)}return e},e.emit=function(){var t=i(arguments);return e.emitterSnapshot(t.shift()).apply(this,t)},e.emitterSnapshot=function(t){var s=(a[t]||[]).slice(0);return function(){var a=i(arguments),o=this||e;if("error"===t&&!1!==n.throws&&!s.length)throw 1===a.length?a[0]:a;return s.forEach((function(i){n.async?r(i,a,o):i.apply(o,a),i._once&&e.off(t,i)})),e}},e}},{"./debounce":4,atoa:3}],6:[function(e,t,n){(function(n){"use strict";var i=e("custom-event"),r=e("./eventmap"),a=n.document,s=function(e,t,n,i){return e.addEventListener(t,n,i)},o=function(e,t,n,i){return e.removeEventListener(t,n,i)},l=[];function u(e,t,n){if(t=function(e,t,n){var i,r;for(i=0;i<l.length;i++)if((r=l[i]).element===e&&r.type===t&&r.fn===n)return i}(e,t,n),t)return n=l[t].wrapper,l.splice(t,1),n}n.addEventListener||(s=function(e,t,i){return e.attachEvent("on"+t,function(e,t,i){var r=u(e,t,i)||function(e,t){return function(i){var r=i||n.event;r.target=r.target||r.srcElement,r.preventDefault=r.preventDefault||function(){r.returnValue=!1},r.stopPropagation=r.stopPropagation||function(){r.cancelBubble=!0},r.which=r.which||r.keyCode,t.call(e,r)}}(e,i);return l.push({wrapper:r,element:e,type:t,fn:i}),r}(e,t,i))},o=function(e,t,n){if(n=u(e,t,n))return e.detachEvent("on"+t,n)}),t.exports={add:s,remove:o,fabricate:function(e,t,n){var s=-1===r.indexOf(t)?new i(t,{detail:n}):function(){var e;return a.createEvent?(e=a.createEvent("Event")).initEvent(t,!0,!0):a.createEventObject&&(e=a.createEventObject()),e}();e.dispatchEvent?e.dispatchEvent(s):e.fireEvent("on"+t,s)}}}).call(this,void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./eventmap":7,"custom-event":8}],7:[function(e,t,n){(function(e){"use strict";var n=[],i="",r=/^on/;for(i in e)r.test(i)&&n.push(i.slice(2));t.exports=n}).call(this,void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(e,t,n){(function(e){var n=e.CustomEvent;t.exports=function(){try{var e=new n("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(e){}}()?n:"undefined"!=typeof document&&"function"==typeof document.createEvent?function(e,t){var n=document.createEvent("CustomEvent");return t?n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail):n.initCustomEvent(e,!1,!1,void 0),n}:function(e,t){var n=document.createEventObject();return n.type=e,t?(n.bubbles=Boolean(t.bubbles),n.cancelable=Boolean(t.cancelable),n.detail=t.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n}}).call(this,void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(e,t,n){var i,r;t=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(e){if(i===setTimeout)return setTimeout(e,0);if((i===a||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:a}catch(e){i=a}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var l,u=[],c=!1,d=-1;function h(){c&&l&&(c=!1,l.length?u=l.concat(u):d=-1,u.length&&f())}function f(){if(!c){var e=o(h);c=!0;for(var t=u.length;t;){for(l=u,u=[];++d<t;)l&&l[d].run();d=-1,t=u.length}l=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}t.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||c||o(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=m,t.addListener=m,t.once=m,t.off=m,t.removeListener=m,t.removeAllListeners=m,t.emit=m,t.prependListener=m,t.prependOnceListener=m,t.listeners=function(e){return[]},t.binding=function(e){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(e){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},{}],10:[function(e,t,n){(function(e){var n="function"==typeof e?function(t){e(t)}:function(e){setTimeout(e,0)};t.exports=n}).call(this,e("timers").setImmediate)},{timers:11}],11:[function(e,t,n){(function(t,i){var r=e("process/browser.js").nextTick,a=Function.prototype.apply,s=Array.prototype.slice,o={},l=0;function u(e,t){this._id=e,this._clearFn=t}n.setTimeout=function(){return new u(a.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new u(a.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},u.prototype.unref=u.prototype.ref=function(){},u.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n.setImmediate="function"==typeof t?t:function(e){var t=l++,i=!(arguments.length<2)&&s.call(arguments,1);return o[t]=!0,r((function(){o[t]&&(i?e.apply(null,i):e.call(null),n.clearImmediate(t))})),t},n.clearImmediate="function"==typeof i?i:function(e){delete o[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":9,timers:11}]},{},[2])(2)}))}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],873:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.InternSet=n.InternMap=void 0;class i extends Map{constructor(e,t=l){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[t,n]of e)this.set(t,n)}get(e){return super.get(a(this,e))}has(e){return super.has(a(this,e))}set(e,t){return super.set(s(this,e),t)}delete(e){return super.delete(o(this,e))}}n.InternMap=i;class r extends Set{constructor(e,t=l){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const t of e)this.add(t)}has(e){return super.has(a(this,e))}add(e){return super.add(s(this,e))}delete(e){return super.delete(o(this,e))}}function a({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):n}function s({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):(e.set(i,n),n)}function o({_intern:e,_key:t},n){const i=t(n);return e.has(i)&&(n=e.get(i),e.delete(i)),n}function l(e){return null!==e&&"object"==typeof e?e.valueOf():e}n.InternSet=r},{}],874:[function(e,t,n){"use strict";
/* @preserve
 * Leaflet 1.8.0, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2022 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */!function(e,i){"object"==typeof n&&void 0!==t?i(n):i((e="undefined"!=typeof globalThis?globalThis:e||self).leaflet={})}(void 0,(function(e){function t(e){var t,n,i,r;for(n=1,i=arguments.length;n<i;n++)for(t in r=arguments[n])e[t]=r[t];return e}var n=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}();function i(e,t){var n=Array.prototype.slice;if(e.bind)return e.bind.apply(e,n.call(arguments,1));var i=n.call(arguments,2);return function(){return e.apply(t,i.length?i.concat(n.call(arguments)):arguments)}}var r=0;function a(e){return"_leaflet_id"in e||(e._leaflet_id=++r),e._leaflet_id}function s(e,t,n){var i,r,a,s;return s=function(){i=!1,r&&(a.apply(n,r),r=!1)},a=function(){i?r=arguments:(e.apply(n,arguments),setTimeout(s,t),i=!0)},a}function o(e,t,n){var i=t[1],r=t[0],a=i-r;return e===i&&n?e:((e-r)%a+a)%a+r}function l(){return!1}function u(e,t){if(!1===t)return e;var n=Math.pow(10,void 0===t?6:t);return Math.round(e*n)/n}function c(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function d(e){return c(e).split(/\s+/)}function h(e,t){for(var i in Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?n(e.options):{}),t)e.options[i]=t[i];return e.options}function f(e,t,n){var i=[];for(var r in e)i.push(encodeURIComponent(n?r.toUpperCase():r)+"="+encodeURIComponent(e[r]));return(t&&-1!==t.indexOf("?")?"&":"?")+i.join("&")}var p=/\{ *([\w_ -]+) *\}/g;function m(e,t){return e.replace(p,(function(e,n){var i=t[n];if(void 0===i)throw new Error("No value provided for variable "+e);return"function"==typeof i&&(i=i(t)),i}))}var v=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function y(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var g="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function _(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var b=0;function j(e){var t=+new Date,n=Math.max(0,16-(t-b));return b=t+n,window.setTimeout(e,n)}var x=window.requestAnimationFrame||_("RequestAnimationFrame")||j,w=window.cancelAnimationFrame||_("CancelAnimationFrame")||_("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function k(e,t,n){if(!n||x!==j)return x.call(window,i(e,t));e.call(t)}function S(e){e&&w.call(window,e)}var P={__proto__:null,extend:t,create:n,bind:i,get lastId(){return r},stamp:a,throttle:s,wrapNum:o,falseFn:l,formatNum:u,trim:c,splitWords:d,setOptions:h,getParamString:f,template:m,isArray:v,indexOf:y,emptyImageUrl:g,requestFn:x,cancelFn:w,requestAnimFrame:k,cancelAnimFrame:S};function M(){}M.extend=function(e){var i=function(){h(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},r=i.__super__=this.prototype,a=n(r);for(var s in a.constructor=i,i.prototype=a,this)Object.prototype.hasOwnProperty.call(this,s)&&"prototype"!==s&&"__super__"!==s&&(i[s]=this[s]);return e.statics&&t(i,e.statics),e.includes&&(!function(e){if("undefined"==typeof L||!L||!L.Mixin)return;e=v(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}(e.includes),t.apply(null,[a].concat(e.includes))),t(a,e),delete a.statics,delete a.includes,a.options&&(a.options=r.options?n(r.options):{},t(a.options,e.options)),a._initHooks=[],a.callInitHooks=function(){if(!this._initHooksCalled){r.callInitHooks&&r.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,t=a._initHooks.length;e<t;e++)a._initHooks[e].call(this)}},i},M.include=function(e){var n=this.prototype.options;return t(this.prototype,e),e.options&&(this.prototype.options=n,this.mergeOptions(e.options)),this},M.mergeOptions=function(e){return t(this.prototype.options,e),this},M.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),n="function"==typeof e?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var O={on:function(e,t,n){if("object"==typeof e)for(var i in e)this._on(i,e[i],t);else for(var r=0,a=(e=d(e)).length;r<a;r++)this._on(e[r],t,n);return this},off:function(e,t,n){if(arguments.length)if("object"==typeof e)for(var i in e)this._off(i,e[i],t);else{e=d(e);for(var r=1===arguments.length,a=0,s=e.length;a<s;a++)r?this._off(e[a]):this._off(e[a],t,n)}else delete this._events;return this},_on:function(e,t,n){if("function"==typeof t){this._events=this._events||{};var i=this._events[e];i||(i=[],this._events[e]=i),n===this&&(n=void 0);for(var r={fn:t,ctx:n},a=i,s=0,o=a.length;s<o;s++)if(a[s].fn===t&&a[s].ctx===n)return;a.push(r)}else console.warn("wrong listener type: "+typeof t)},_off:function(e,t,n){var i,r,a;if(this._events&&(i=this._events[e]))if(1!==arguments.length)if(n===this&&(n=void 0),"function"==typeof t){for(r=0,a=i.length;r<a;r++){var s=i[r];if(s.ctx===n&&s.fn===t)return this._firingCount&&(s.fn=l,this._events[e]=i=i.slice()),void i.splice(r,1)}console.warn("listener not found")}else console.warn("wrong listener type: "+typeof t);else{if(this._firingCount)for(r=0,a=i.length;r<a;r++)i[r].fn=l;delete this._events[e]}},fire:function(e,n,i){if(!this.listens(e,i))return this;var r=t({},n,{type:e,target:this,sourceTarget:n&&n.sourceTarget||this});if(this._events){var a=this._events[e];if(a){this._firingCount=this._firingCount+1||1;for(var s=0,o=a.length;s<o;s++){var l=a[s];l.fn.call(l.ctx||this,r)}this._firingCount--}}return i&&this._propagateEvent(r),this},listens:function(e,t){"string"!=typeof e&&console.warn('"string" type argument expected');var n=this._events&&this._events[e];if(n&&n.length)return!0;if(t)for(var i in this._eventParents)if(this._eventParents[i].listens(e,t))return!0;return!1},once:function(e,t,n){if("object"==typeof e){for(var r in e)this.once(r,e[r],t);return this}var a=i((function(){this.off(e,t,n).off(e,a,n)}),this);return this.on(e,t,n).on(e,a,n)},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[a(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[a(e)],this},_propagateEvent:function(e){for(var n in this._eventParents)this._eventParents[n].fire(e.type,t({layer:e.target,propagatedFrom:e.target},e),!0)}};O.addEventListener=O.on,O.removeEventListener=O.clearAllEventListeners=O.off,O.addOneTimeEventListener=O.once,O.fireEvent=O.fire,O.hasEventListeners=O.listens;var E=M.extend(O);function A(e,t,n){this.x=n?Math.round(e):e,this.y=n?Math.round(t):t}var C=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};function T(e,t,n){return e instanceof A?e:v(e)?new A(e[0],e[1]):null==e?e:"object"==typeof e&&"x"in e&&"y"in e?new A(e.x,e.y):new A(e,t,n)}function D(e,t){if(e)for(var n=t?[e,t]:e,i=0,r=n.length;i<r;i++)this.extend(n[i])}function I(e,t){return!e||e instanceof D?e:new D(e,t)}function N(e,t){if(e)for(var n=t?[e,t]:e,i=0,r=n.length;i<r;i++)this.extend(n[i])}function z(e,t){return e instanceof N?e:new N(e,t)}function q(e,t,n){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,void 0!==n&&(this.alt=+n)}function R(e,t,n){return e instanceof q?e:v(e)&&"object"!=typeof e[0]?3===e.length?new q(e[0],e[1],e[2]):2===e.length?new q(e[0],e[1]):null:null==e?e:"object"==typeof e&&"lat"in e?new q(e.lat,"lng"in e?e.lng:e.lon,e.alt):void 0===t?null:new q(e,t,n)}A.prototype={clone:function(){return new A(this.x,this.y)},add:function(e){return this.clone()._add(T(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(T(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new A(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new A(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=C(this.x),this.y=C(this.y),this},distanceTo:function(e){var t=(e=T(e)).x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},equals:function(e){return(e=T(e)).x===this.x&&e.y===this.y},contains:function(e){return e=T(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+u(this.x)+", "+u(this.y)+")"}},D.prototype={extend:function(e){return e=T(e),this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(e.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(e.y,this.max.y)):(this.min=e.clone(),this.max=e.clone()),this},getCenter:function(e){return new A((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return new A(this.min.x,this.max.y)},getTopRight:function(){return new A(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,n;return(e="number"==typeof e[0]||e instanceof A?T(e):I(e))instanceof D?(t=e.min,n=e.max):t=n=e,t.x>=this.min.x&&n.x<=this.max.x&&t.y>=this.min.y&&n.y<=this.max.y},intersects:function(e){e=I(e);var t=this.min,n=this.max,i=e.min,r=e.max,a=r.x>=t.x&&i.x<=n.x,s=r.y>=t.y&&i.y<=n.y;return a&&s},overlaps:function(e){e=I(e);var t=this.min,n=this.max,i=e.min,r=e.max,a=r.x>t.x&&i.x<n.x,s=r.y>t.y&&i.y<n.y;return a&&s},isValid:function(){return!(!this.min||!this.max)}},N.prototype={extend:function(e){var t,n,i=this._southWest,r=this._northEast;if(e instanceof q)t=e,n=e;else{if(!(e instanceof N))return e?this.extend(R(e)||z(e)):this;if(t=e._southWest,n=e._northEast,!t||!n)return this}return i||r?(i.lat=Math.min(t.lat,i.lat),i.lng=Math.min(t.lng,i.lng),r.lat=Math.max(n.lat,r.lat),r.lng=Math.max(n.lng,r.lng)):(this._southWest=new q(t.lat,t.lng),this._northEast=new q(n.lat,n.lng)),this},pad:function(e){var t=this._southWest,n=this._northEast,i=Math.abs(t.lat-n.lat)*e,r=Math.abs(t.lng-n.lng)*e;return new N(new q(t.lat-i,t.lng-r),new q(n.lat+i,n.lng+r))},getCenter:function(){return new q((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new q(this.getNorth(),this.getWest())},getSouthEast:function(){return new q(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e="number"==typeof e[0]||e instanceof q||"lat"in e?R(e):z(e);var t,n,i=this._southWest,r=this._northEast;return e instanceof N?(t=e.getSouthWest(),n=e.getNorthEast()):t=n=e,t.lat>=i.lat&&n.lat<=r.lat&&t.lng>=i.lng&&n.lng<=r.lng},intersects:function(e){e=z(e);var t=this._southWest,n=this._northEast,i=e.getSouthWest(),r=e.getNorthEast(),a=r.lat>=t.lat&&i.lat<=n.lat,s=r.lng>=t.lng&&i.lng<=n.lng;return a&&s},overlaps:function(e){e=z(e);var t=this._southWest,n=this._northEast,i=e.getSouthWest(),r=e.getNorthEast(),a=r.lat>t.lat&&i.lat<n.lat,s=r.lng>t.lng&&i.lng<n.lng;return a&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return!!e&&(e=z(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t))},isValid:function(){return!(!this._southWest||!this._northEast)}},q.prototype={equals:function(e,t){return!!e&&(e=R(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=(void 0===t?1e-9:t))},toString:function(e){return"LatLng("+u(this.lat,e)+", "+u(this.lng,e)+")"},distanceTo:function(e){return H.distance(this,R(e))},wrap:function(){return H.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return z([this.lat-t,this.lng-n],[this.lat+t,this.lng+n])},clone:function(){return new q(this.lat,this.lng,this.alt)}};var B,F={latLngToPoint:function(e,t){var n=this.projection.project(e),i=this.scale(t);return this.transformation._transform(n,i)},pointToLatLng:function(e,t){var n=this.scale(t),i=this.transformation.untransform(e,n);return this.projection.unproject(i)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,n=this.scale(e);return new D(this.transformation.transform(t.min,n),this.transformation.transform(t.max,n))},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?o(e.lng,this.wrapLng,!0):e.lng;return new q(this.wrapLat?o(e.lat,this.wrapLat,!0):e.lat,t,e.alt)},wrapLatLngBounds:function(e){var t=e.getCenter(),n=this.wrapLatLng(t),i=t.lat-n.lat,r=t.lng-n.lng;if(0===i&&0===r)return e;var a=e.getSouthWest(),s=e.getNorthEast();return new N(new q(a.lat-i,a.lng-r),new q(s.lat-i,s.lng-r))}},H=t({},F,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var n=Math.PI/180,i=e.lat*n,r=t.lat*n,a=Math.sin((t.lat-e.lat)*n/2),s=Math.sin((t.lng-e.lng)*n/2),o=a*a+Math.cos(i)*Math.cos(r)*s*s,l=2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o));return this.R*l}}),W=6378137,Z={R:W,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,e.lat),-n),r=Math.sin(i*t);return new A(this.R*e.lng*t,this.R*Math.log((1+r)/(1-r))/2)},unproject:function(e){var t=180/Math.PI;return new q((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:(B=W*Math.PI,new D([-B,-B],[B,B]))};function V(e,t,n,i){if(v(e))return this._a=e[0],this._b=e[1],this._c=e[2],void(this._d=e[3]);this._a=e,this._b=t,this._c=n,this._d=i}function U(e,t,n,i){return new V(e,t,n,i)}V.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new A((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};var Y=t({},H,{code:"EPSG:3857",projection:Z,transformation:function(){var e=.5/(Math.PI*Z.R);return U(e,.5,-e,.5)}()}),G=t({},Y,{code:"EPSG:900913"});function X(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function K(e,t){var n,i,r,a,s,o,l="";for(n=0,r=e.length;n<r;n++){for(i=0,a=(s=e[n]).length;i<a;i++)l+=(i?"L":"M")+(o=s[i]).x+" "+o.y;l+=t?De.svg?"z":"x":""}return l||"M0 0"}var $,J=document.documentElement.style,Q="ActiveXObject"in window,ee=Q&&!document.addEventListener,te="msLaunchUri"in navigator&&!("documentMode"in document),ne=Te("webkit"),ie=Te("android"),re=Te("android 2")||Te("android 3"),ae=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),se=ie&&Te("Google")&&ae<537&&!("AudioNode"in window),oe=!!window.opera,le=!te&&Te("chrome"),ue=Te("gecko")&&!ne&&!oe&&!Q,ce=!le&&Te("safari"),de=Te("phantom"),he="OTransition"in J,fe=0===navigator.platform.indexOf("Win"),pe=Q&&"transition"in J,me="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!re,ve="MozPerspective"in J,ye=!window.L_DISABLE_3D&&(pe||me||ve)&&!he&&!de,ge="undefined"!=typeof orientation||Te("mobile"),_e=ge&&ne,be=ge&&me,je=!window.PointerEvent&&window.MSPointerEvent,xe=!(!window.PointerEvent&&!je),we="ontouchstart"in window||!!window.TouchEvent,ke=!window.L_NO_TOUCH&&(we||xe),Se=ge&&oe,Pe=ge&&ue,Me=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Oe=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",l,t),window.removeEventListener("testPassiveEventSupport",l,t)}catch(e){}return e}(),Le=!!document.createElement("canvas").getContext,Ee=!(!document.createElementNS||!X("svg").createSVGRect),Ae=!!Ee&&(($=document.createElement("div")).innerHTML="<svg/>","http://www.w3.org/2000/svg"===($.firstChild&&$.firstChild.namespaceURI)),Ce=!Ee&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&"object"==typeof t.adj}catch(e){return!1}}();function Te(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var De={ie:Q,ielt9:ee,edge:te,webkit:ne,android:ie,android23:re,androidStock:se,opera:oe,chrome:le,gecko:ue,safari:ce,phantom:de,opera12:he,win:fe,ie3d:pe,webkit3d:me,gecko3d:ve,any3d:ye,mobile:ge,mobileWebkit:_e,mobileWebkit3d:be,msPointer:je,pointer:xe,touch:ke,touchNative:we,mobileOpera:Se,mobileGecko:Pe,retina:Me,passiveEvents:Oe,canvas:Le,svg:Ee,vml:Ce,inlineSvg:Ae},Ie=De.msPointer?"MSPointerDown":"pointerdown",Ne=De.msPointer?"MSPointerMove":"pointermove",ze=De.msPointer?"MSPointerUp":"pointerup",qe=De.msPointer?"MSPointerCancel":"pointercancel",Re={touchstart:Ie,touchmove:Ne,touchend:ze,touchcancel:qe},Be={touchstart:function(e,t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&zt(t);Ye(e,t)},touchmove:Ye,touchend:Ye,touchcancel:Ye},Fe={},He=!1;function We(e,t,n){return"touchstart"===t&&(He||(document.addEventListener(Ie,Ze,!0),document.addEventListener(Ne,Ve,!0),document.addEventListener(ze,Ue,!0),document.addEventListener(qe,Ue,!0),He=!0)),Be[t]?(n=Be[t].bind(this,n),e.addEventListener(Re[t],n,!1),n):(console.warn("wrong event specified:",t),L.Util.falseFn)}function Ze(e){Fe[e.pointerId]=e}function Ve(e){Fe[e.pointerId]&&(Fe[e.pointerId]=e)}function Ue(e){delete Fe[e.pointerId]}function Ye(e,t){if(t.pointerType!==(t.MSPOINTER_TYPE_MOUSE||"mouse")){for(var n in t.touches=[],Fe)t.touches.push(Fe[n]);t.changedTouches=[t],e(t)}}var Ge,Xe,Ke,$e,Je,Qe=mt(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),et=mt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),tt="webkitTransition"===et||"OTransition"===et?et+"End":"transitionend";function nt(e){return"string"==typeof e?document.getElementById(e):e}function it(e,t){var n=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!n||"auto"===n)&&document.defaultView){var i=document.defaultView.getComputedStyle(e,null);n=i?i[t]:null}return"auto"===n?null:n}function rt(e,t,n){var i=document.createElement(e);return i.className=t||"",n&&n.appendChild(i),i}function at(e){var t=e.parentNode;t&&t.removeChild(e)}function st(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function ot(e){var t=e.parentNode;t&&t.lastChild!==e&&t.appendChild(e)}function lt(e){var t=e.parentNode;t&&t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function ut(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=ft(e);return n.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}function ct(e,t){if(void 0!==e.classList)for(var n=d(t),i=0,r=n.length;i<r;i++)e.classList.add(n[i]);else if(!ut(e,t)){var a=ft(e);ht(e,(a?a+" ":"")+t)}}function dt(e,t){void 0!==e.classList?e.classList.remove(t):ht(e,c((" "+ft(e)+" ").replace(" "+t+" "," ")))}function ht(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}function ft(e){return e.correspondingElement&&(e=e.correspondingElement),void 0===e.className.baseVal?e.className:e.className.baseVal}function pt(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&function(e,t){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=e.filters.item(i)}catch(e){if(1===t)return}t=Math.round(100*t),n?(n.Enabled=100!==t,n.Opacity=t):e.style.filter+=" progid:"+i+"(opacity="+t+")"}(e,t)}function mt(e){for(var t=document.documentElement.style,n=0;n<e.length;n++)if(e[n]in t)return e[n];return!1}function vt(e,t,n){var i=t||new A(0,0);e.style[Qe]=(De.ie3d?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")}function yt(e,t){e._leaflet_pos=t,De.any3d?vt(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function gt(e){return e._leaflet_pos||new A(0,0)}if("onselectstart"in document)Ge=function(){Mt(window,"selectstart",zt)},Xe=function(){Lt(window,"selectstart",zt)};else{var _t=mt(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ge=function(){if(_t){var e=document.documentElement.style;Ke=e[_t],e[_t]="none"}},Xe=function(){_t&&(document.documentElement.style[_t]=Ke,Ke=void 0)}}function bt(){Mt(window,"dragstart",zt)}function jt(){Lt(window,"dragstart",zt)}function xt(e){for(;-1===e.tabIndex;)e=e.parentNode;e.style&&(wt(),$e=e,Je=e.style.outline,e.style.outline="none",Mt(window,"keydown",wt))}function wt(){$e&&($e.style.outline=Je,$e=void 0,Je=void 0,Lt(window,"keydown",wt))}function kt(e){do{e=e.parentNode}while(!(e.offsetWidth&&e.offsetHeight||e===document.body));return e}function St(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}var Pt={__proto__:null,TRANSFORM:Qe,TRANSITION:et,TRANSITION_END:tt,get:nt,getStyle:it,create:rt,remove:at,empty:st,toFront:ot,toBack:lt,hasClass:ut,addClass:ct,removeClass:dt,setClass:ht,getClass:ft,setOpacity:pt,testProp:mt,setTransform:vt,setPosition:yt,getPosition:gt,get disableTextSelection(){return Ge},get enableTextSelection(){return Xe},disableImageDrag:bt,enableImageDrag:jt,preventOutline:xt,restoreOutline:wt,getSizedParentNode:kt,getScale:St};function Mt(e,t,n,i){if(t&&"object"==typeof t)for(var r in t)Ct(e,r,t[r],n);else for(var a=0,s=(t=d(t)).length;a<s;a++)Ct(e,t[a],n,i);return this}var Ot="_leaflet_events";function Lt(e,t,n,i){if(1===arguments.length)Et(e),delete e[Ot];else if(t&&"object"==typeof t)for(var r in t)Tt(e,r,t[r],n);else if(t=d(t),2===arguments.length)Et(e,(function(e){return-1!==y(t,e)}));else for(var a=0,s=t.length;a<s;a++)Tt(e,t[a],n,i);return this}function Et(e,t){for(var n in e[Ot]){var i=n.split(/\d/)[0];t&&!t(i)||Tt(e,i,null,null,n)}}var At={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ct(e,t,n,i){var r=t+a(n)+(i?"_"+a(i):"");if(e[Ot]&&e[Ot][r])return this;var s=function(t){return n.call(i||e,t||window.event)},o=s;!De.touchNative&&De.pointer&&0===t.indexOf("touch")?s=We(e,t,s):De.touch&&"dblclick"===t?s=function(e,t){e.addEventListener("dblclick",t);var n,i=0;function r(e){if(1===e.detail){if("mouse"!==e.pointerType&&(!e.sourceCapabilities||e.sourceCapabilities.firesTouchEvents)){var r=Date.now();r-i<=200?2==++n&&t(function(e){var t,n,i={};for(n in e)t=e[n],i[n]=t&&t.bind?t.bind(e):t;return e=i,i.type="dblclick",i.detail=2,i.isTrusted=!1,i._simulated=!0,i}(e)):n=1,i=r}}else n=e.detail}return e.addEventListener("click",r),{dblclick:t,simDblclick:r}}(e,s):"addEventListener"in e?"touchstart"===t||"touchmove"===t||"wheel"===t||"mousewheel"===t?e.addEventListener(At[t]||t,s,!!De.passiveEvents&&{passive:!1}):"mouseenter"===t||"mouseleave"===t?(s=function(t){t=t||window.event,Ht(e,t)&&o(t)},e.addEventListener(At[t],s,!1)):e.addEventListener(t,o,!1):e.attachEvent("on"+t,s),e[Ot]=e[Ot]||{},e[Ot][r]=s}function Tt(e,t,n,i,r){r=r||t+a(n)+(i?"_"+a(i):"");var s=e[Ot]&&e[Ot][r];if(!s)return this;!De.touchNative&&De.pointer&&0===t.indexOf("touch")?function(e,t,n){Re[t]?e.removeEventListener(Re[t],n,!1):console.warn("wrong event specified:",t)}(e,t,s):De.touch&&"dblclick"===t?function(e,t){e.removeEventListener("dblclick",t.dblclick),e.removeEventListener("click",t.simDblclick)}(e,s):"removeEventListener"in e?e.removeEventListener(At[t]||t,s,!1):e.detachEvent("on"+t,s),e[Ot][r]=null}function Dt(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function It(e){return Ct(e,"wheel",Dt),this}function Nt(e){return Mt(e,"mousedown touchstart dblclick contextmenu",Dt),e._leaflet_disable_click=!0,this}function zt(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function qt(e){return zt(e),Dt(e),this}function Rt(e,t){if(!t)return new A(e.clientX,e.clientY);var n=St(t),i=n.boundingClientRect;return new A((e.clientX-i.left)/n.x-t.clientLeft,(e.clientY-i.top)/n.y-t.clientTop)}var Bt=De.win&&De.chrome?2*window.devicePixelRatio:De.gecko?window.devicePixelRatio:1;function Ft(e){return De.edge?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/Bt:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}function Ht(e,t){var n=t.relatedTarget;if(!n)return!0;try{for(;n&&n!==e;)n=n.parentNode}catch(e){return!1}return n!==e}var Wt={__proto__:null,on:Mt,off:Lt,stopPropagation:Dt,disableScrollPropagation:It,disableClickPropagation:Nt,preventDefault:zt,stop:qt,getMousePosition:Rt,getWheelDelta:Ft,isExternalTarget:Ht,addListener:Mt,removeListener:Lt},Zt=E.extend({run:function(e,t,n,i){this.stop(),this._el=e,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=gt(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=k(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,n=1e3*this._duration;t<n?this._runFrame(this._easeOut(t/n),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var n=this._startPos.add(this._offset.multiplyBy(e));t&&n._round(),yt(this._el,n),this.fire("step")},_complete:function(){S(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),Vt=E.extend({options:{crs:Y,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=h(this,t),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=i(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),void 0!==t.zoom&&(this._zoom=this._limitZoom(t.zoom)),t.center&&void 0!==t.zoom&&this.setView(R(t.center),t.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=et&&De.any3d&&!De.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Mt(this._proxy,tt,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,n,i){if((n=void 0===n?this._zoom:this._limitZoom(n),e=this._limitCenter(R(e),n,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&!0!==i)&&(void 0!==i.animate&&(i.zoom=t({animate:i.animate},i.zoom),i.pan=t({animate:i.animate,duration:i.duration},i.pan)),this._zoom!==n?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,n,i.zoom):this._tryAnimatedPan(e,i.pan)))return clearTimeout(this._sizeTimer),this;return this._resetView(e,n),this},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||(De.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||(De.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,n){var i=this.getZoomScale(t),r=this.getSize().divideBy(2),a=(e instanceof A?e:this.latLngToContainerPoint(e)).subtract(r).multiplyBy(1-1/i),s=this.containerPointToLatLng(r.add(a));return this.setView(s,t,{zoom:n})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():z(e);var n=T(t.paddingTopLeft||t.padding||[0,0]),i=T(t.paddingBottomRight||t.padding||[0,0]),r=this.getBoundsZoom(e,!1,n.add(i));if((r="number"==typeof t.maxZoom?Math.min(t.maxZoom,r):r)===1/0)return{center:e.getCenter(),zoom:r};var a=i.subtract(n).divideBy(2),s=this.project(e.getSouthWest(),r),o=this.project(e.getNorthEast(),r);return{center:this.unproject(s.add(o).divideBy(2).add(a),r),zoom:r}},fitBounds:function(e,t){if(!(e=z(e)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(e,t);return this.setView(n.center,n.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(t=t||{},!(e=T(e).round()).x&&!e.y)return this.fire("moveend");if(!0!==t.animate&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Zt,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),!1!==t.animate){ct(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,n,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,n){if(!1===(n=n||{}).animate||!De.any3d)return this.setView(e,t,n);this._stop();var i=this.project(this.getCenter()),r=this.project(e),a=this.getSize(),s=this._zoom;e=R(e),t=void 0===t?s:t;var o=Math.max(a.x,a.y),l=o*this.getZoomScale(s,t),u=r.distanceTo(i)||1,c=1.42,d=2.0164;function h(e){var t=(l*l-o*o+(e?-1:1)*d*d*u*u)/(2*(e?l:o)*d*u),n=Math.sqrt(t*t+1)-t;return n<1e-9?-18:Math.log(n)}function f(e){return(Math.exp(e)-Math.exp(-e))/2}function p(e){return(Math.exp(e)+Math.exp(-e))/2}var m=h(0);function v(e){return o*(p(m)*(f(t=m+c*e)/p(t))-f(m))/d;var t}var y=Date.now(),g=(h(1)-m)/c,_=n.duration?1e3*n.duration:1e3*g*.8;return this._moveStart(!0,n.noMoveStart),function n(){var a=(Date.now()-y)/_,l=function(e){return 1-Math.pow(1-e,1.5)}(a)*g;a<=1?(this._flyToFrame=k(n,this),this._move(this.unproject(i.add(r.subtract(i).multiplyBy(v(l)/u)),s),this.getScaleZoom(o/function(e){return o*(p(m)/p(m+c*e))}(l),s),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}.call(this),this},flyToBounds:function(e,t){var n=this._getBoundsCenterZoom(e,t);return this.flyTo(n.center,n.zoom,t)},setMaxBounds:function(e){return(e=z(e)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,z(e));return n.equals(i)||this.panTo(i,t),this._enforcingBounds=!1,this},panInside:function(e,t){var n=T((t=t||{}).paddingTopLeft||t.padding||[0,0]),i=T(t.paddingBottomRight||t.padding||[0,0]),r=this.project(this.getCenter()),a=this.project(e),s=this.getPixelBounds(),o=I([s.min.add(n),s.max.subtract(i)]),l=o.getSize();if(!o.contains(a)){this._enforcingBounds=!0;var u=a.subtract(o.getCenter()),c=o.extend(a).getSize().subtract(l);r.x+=u.x<0?-c.x:c.x,r.y+=u.y<0?-c.y:c.y,this.panTo(this.unproject(r),t),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=t({animate:!1,pan:!0},!0===e?{animate:!0}:e);var n=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),a=n.divideBy(2).round(),s=r.divideBy(2).round(),o=a.subtract(s);return o.x||o.y?(e.animate&&e.pan?this.panBy(o):(e.pan&&this._rawPanBy(o),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:n,newSize:r})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=t({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var n=i(this._handleGeolocationResponse,this),r=i(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(n,r,e):navigator.geolocation.getCurrentPosition(n,r,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var t=e.code,n=e.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+n+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var t=new q(e.coords.latitude,e.coords.longitude),n=t.toBounds(2*e.coords.accuracy),i=this._locateOptions;if(i.setView){var r=this.getBoundsZoom(n);this.setView(t,i.maxZoom?Math.min(r,i.maxZoom):r)}var a={latlng:t,bounds:n,timestamp:e.timestamp};for(var s in e.coords)"number"==typeof e.coords[s]&&(a[s]=e.coords[s]);this.fire("locationfound",a)}},addHandler:function(e,t){if(!t)return this;var n=this[e]=new t(this);return this._handlers.push(n),this.options[e]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(e){this._container._leaflet_id=void 0,this._containerId=void 0}var e;for(e in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),at(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(S(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[e].remove();for(e in this._panes)at(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var n=rt("div","leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),t||this._mapPane);return e&&(this._panes[e]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new N(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,n){e=z(e),n=T(n||[0,0]);var i=this.getZoom()||0,r=this.getMinZoom(),a=this.getMaxZoom(),s=e.getNorthWest(),o=e.getSouthEast(),l=this.getSize().subtract(n),u=I(this.project(o,i),this.project(s,i)).getSize(),c=De.any3d?this.options.zoomSnap:1,d=l.x/u.x,h=l.y/u.y,f=t?Math.max(d,h):Math.min(d,h);return i=this.getScaleZoom(f,i),c&&(i=Math.round(i/(c/100))*(c/100),i=t?Math.ceil(i/c)*c:Math.floor(i/c)*c),Math.max(r,Math.min(a,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new A(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var n=this._getTopLeftPoint(e,t);return new D(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(void 0===e?this.getZoom():e)},getPane:function(e){return"string"==typeof e?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var n=this.options.crs;return t=void 0===t?this._zoom:t,n.scale(e)/n.scale(t)},getScaleZoom:function(e,t){var n=this.options.crs;t=void 0===t?this._zoom:t;var i=n.zoom(e*n.scale(t));return isNaN(i)?1/0:i},project:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.latLngToPoint(R(e),t)},unproject:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.pointToLatLng(T(e),t)},layerPointToLatLng:function(e){var t=T(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){return this.project(R(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(R(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(z(e))},distance:function(e,t){return this.options.crs.distance(R(e),R(t))},containerPointToLayerPoint:function(e){return T(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return T(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(T(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(R(e)))},mouseEventToContainerPoint:function(e){return Rt(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=nt(e);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");Mt(t,"scroll",this._onScroll,this),this._containerId=a(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&De.any3d,ct(e,"leaflet-container"+(De.touch?" leaflet-touch":"")+(De.retina?" leaflet-retina":"")+(De.ielt9?" leaflet-oldie":"")+(De.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=it(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),yt(this._mapPane,new A(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ct(e.markerPane,"leaflet-zoom-hide"),ct(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t){yt(this._mapPane,new A(0,0));var n=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var i=this._zoom!==t;this._moveStart(i,!1)._move(e,t)._moveEnd(i),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(e,t,n,i){void 0===t&&(t=this._zoom);var r=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),i?n&&n.pinch&&this.fire("zoom",n):((r||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return S(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){yt(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[a(this._container)]=this;var t=e?Lt:Mt;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),De.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){S(this._resizeRequest),this._resizeRequest=k((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var n,i=[],r="mouseout"===t||"mouseover"===t,s=e.target||e.srcElement,o=!1;s;){if((n=this._targets[a(s)])&&("click"===t||"preclick"===t)&&this._draggableMoved(n)){o=!0;break}if(n&&n.listens(t,!0)){if(r&&!Ht(s,e))break;if(i.push(n),r)break}if(s===this._container)break;s=s.parentNode}return i.length||o||r||!this.listens(t,!0)||(i=[this]),i},_isClickDisabled:function(e){for(;e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var t=e.target||e.srcElement;if(!(!this._loaded||t._leaflet_disable_events||"click"===e.type&&this._isClickDisabled(t))){var n=e.type;"mousedown"===n&&xt(t),this._fireDOMEvent(e,n)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,n,i){if("click"===e.type){var r=t({},e);r.type="preclick",this._fireDOMEvent(r,r.type,i)}var a=this._findEventTargets(e,n);if(i){for(var s=[],o=0;o<i.length;o++)i[o].listens(n,!0)&&s.push(i[o]);a=s.concat(a)}if(a.length){"contextmenu"===n&&zt(e);var l=a[0],u={originalEvent:e};if("keypress"!==e.type&&"keydown"!==e.type&&"keyup"!==e.type){var c=l.getLatLng&&(!l._radius||l._radius<=10);u.containerPoint=c?this.latLngToContainerPoint(l.getLatLng()):this.mouseEventToContainerPoint(e),u.layerPoint=this.containerPointToLayerPoint(u.containerPoint),u.latlng=c?l.getLatLng():this.layerPointToLatLng(u.layerPoint)}for(o=0;o<a.length;o++)if(a[o].fire(n,u,!0),u.originalEvent._stopped||!1===a[o].options.bubblingMouseEvents&&-1!==y(this._mouseEvents,n))return}},_draggableMoved:function(e){return(e=e.dragging&&e.dragging.enabled()?e:this).dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return gt(this._mapPane)||new A(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){return(e&&void 0!==t?this._getNewPixelOrigin(e,t):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var n=this.getSize()._divideBy(2);return this.project(e,t)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,n){var i=this._getNewPixelOrigin(n,t);return this.project(e,t)._subtract(i)},_latLngBoundsToNewLayerBounds:function(e,t,n){var i=this._getNewPixelOrigin(n,t);return I([this.project(e.getSouthWest(),t)._subtract(i),this.project(e.getNorthWest(),t)._subtract(i),this.project(e.getSouthEast(),t)._subtract(i),this.project(e.getNorthEast(),t)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,n){if(!n)return e;var i=this.project(e,t),r=this.getSize().divideBy(2),a=new D(i.subtract(r),i.add(r)),s=this._getBoundsOffset(a,n,t);return s.round().equals([0,0])?e:this.unproject(i.add(s),t)},_limitOffset:function(e,t){if(!t)return e;var n=this.getPixelBounds(),i=new D(n.min.add(e),n.max.add(e));return e.add(this._getBoundsOffset(i,t))},_getBoundsOffset:function(e,t,n){var i=I(this.project(t.getNorthEast(),n),this.project(t.getSouthWest(),n)),r=i.min.subtract(e.min),a=i.max.subtract(e.max);return new A(this._rebound(r.x,-a.x),this._rebound(r.y,-a.y))},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),n=this.getMaxZoom(),i=De.any3d?this.options.zoomSnap:1;return i&&(e=Math.round(e/i)*i),Math.max(t,Math.min(n,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){dt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var n=this._getCenterOffset(e)._trunc();return!(!0!==(t&&t.animate)&&!this.getSize().contains(n))&&(this.panBy(n,t),!0)},_createAnimProxy:function(){var e=this._proxy=rt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",(function(e){var t=Qe,n=this._proxy.style[t];vt(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),n===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){at(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),t=this.getZoom();vt(this._proxy,this.project(e,t),this.getZoomScale(t,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(t),r=this._getCenterOffset(e)._divideBy(1-1/i);return!(!0!==n.animate&&!this.getSize().contains(r))&&(k((function(){this._moveStart(!0,!1)._animateZoom(e,t,!0)}),this),!0)},_animateZoom:function(e,t,n,r){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,ct(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:r}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(i(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&dt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});var Ut=M.extend({options:{position:"topright"},initialize:function(e){h(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),n=this.getPosition(),i=e._controlCorners[n];return ct(t,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(t,i.firstChild):i.appendChild(t),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(at(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),Yt=function(e){return new Ut(e)};Vt.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},t="leaflet-",n=this._controlContainer=rt("div",t+"control-container",this._container);function i(i,r){var a=t+i+" "+t+r;e[i+r]=rt("div",a,n)}i("top","left"),i("top","right"),i("bottom","left"),i("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)at(this._controlCorners[e]);at(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Gt=Ut.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,n,i){return n<i?-1:i<n?1:0}},initialize:function(e,t,n){for(var i in h(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,e)this._addLayer(e[i],i);for(i in t)this._addLayer(t[i],i,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return Ut.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(a(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){ct(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(ct(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):dt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return dt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=rt("div",e),n=this.options.collapsed;t.setAttribute("aria-haspopup",!0),Nt(t),It(t);var i=this._section=rt("section",e+"-list");n&&(this._map.on("click",this.collapse,this),Mt(t,{mouseenter:function(){Mt(i,"click",zt),this.expand(),setTimeout((function(){Lt(i,"click",zt)}))},mouseleave:this.collapse},this));var r=this._layersLink=rt("a",e+"-toggle",t);r.href="#",r.title="Layers",r.setAttribute("role","button"),Mt(r,"click",zt),Mt(r,"focus",this.expand,this),n||this.expand(),this._baseLayersList=rt("div",e+"-base",i),this._separator=rt("div",e+"-separator",i),this._overlaysList=rt("div",e+"-overlays",i),t.appendChild(i)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&a(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,n){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:n}),this.options.sortLayers&&this._layers.sort(i((function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)}),this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;st(this._baseLayersList),st(this._overlaysList),this._layerControlInputs=[];var e,t,n,i,r=0;for(n=0;n<this._layers.length;n++)i=this._layers[n],this._addItem(i),t=t||i.overlay,e=e||!i.overlay,r+=i.overlay?0:1;return this.options.hideSingleBase&&(e=e&&r>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(a(e.target)),n=t.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;n&&this._map.fire(n,t)},_createRadioElement:function(e,t){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",i=document.createElement("div");return i.innerHTML=n,i.firstChild},_addItem:function(e){var t,n=document.createElement("label"),i=this._map.hasLayer(e.layer);e.overlay?((t=document.createElement("input")).type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=i):t=this._createRadioElement("leaflet-base-layers_"+a(this),i),this._layerControlInputs.push(t),t.layerId=a(e.layer),Mt(t,"click",this._onInputClick,this);var r=document.createElement("span");r.innerHTML=" "+e.name;var s=document.createElement("span");return n.appendChild(s),s.appendChild(t),s.appendChild(r),(e.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var e,t,n=this._layerControlInputs,i=[],r=[];this._handlingClick=!0;for(var a=n.length-1;a>=0;a--)e=n[a],t=this._getLayer(e.layerId).layer,e.checked?i.push(t):e.checked||r.push(t);for(a=0;a<r.length;a++)this._map.hasLayer(r[a])&&this._map.removeLayer(r[a]);for(a=0;a<i.length;a++)this._map.hasLayer(i[a])||this._map.addLayer(i[a]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var e,t,n=this._layerControlInputs,i=this._map.getZoom(),r=n.length-1;r>=0;r--)e=n[r],t=this._getLayer(e.layerId).layer,e.disabled=void 0!==t.options.minZoom&&i<t.options.minZoom||void 0!==t.options.maxZoom&&i>t.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this}}),Xt=Ut.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",n=rt("div",t+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,t+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,t+"-out",n,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,n,i,r){var a=rt("a",n,i);return a.innerHTML=e,a.href="#",a.title=t,a.setAttribute("role","button"),a.setAttribute("aria-label",t),Nt(a),Mt(a,"click",qt),Mt(a,"click",r,this),Mt(a,"click",this._refocusOnMap,this),a},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";dt(this._zoomInButton,t),dt(this._zoomOutButton,t),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(ct(this._zoomOutButton,t),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(ct(this._zoomInButton,t),this._zoomInButton.setAttribute("aria-disabled","true"))}});Vt.mergeOptions({zoomControl:!0}),Vt.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new Xt,this.addControl(this.zoomControl))}));var Kt=Ut.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t="leaflet-control-scale",n=rt("div",t),i=this.options;return this._addScales(i,t+"-line",n),e.on(i.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),n},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,n){e.metric&&(this._mScale=rt("div",t,n)),e.imperial&&(this._iScale=rt("div",t,n))},_update:function(){var e=this._map,t=e.getSize().y/2,n=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(n)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),n=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,n,t/e)},_updateImperial:function(e){var t,n,i,r=3.2808399*e;r>5280?(t=r/5280,n=this._getRoundNum(t),this._updateScale(this._iScale,n+" mi",n/t)):(i=this._getRoundNum(r),this._updateScale(this._iScale,i+" ft",i/r))},_updateScale:function(e,t,n){e.style.width=Math.round(this.options.maxWidth*n)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),n=e/t;return t*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),$t=Ut.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(De.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(e){h(this,e),this._attributions={}},onAdd:function(e){for(var t in e.attributionControl=this,this._container=rt("div","leaflet-control-attribution"),Nt(this._container),e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",(function(){this.removeAttribution(e.layer.getAttribution())}),this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var n=[];this.options.prefix&&n.push(this.options.prefix),e.length&&n.push(e.join(", ")),this._container.innerHTML=n.join(' <span aria-hidden="true">|</span> ')}}});Vt.mergeOptions({attributionControl:!0}),Vt.addInitHook((function(){this.options.attributionControl&&(new $t).addTo(this)}));Ut.Layers=Gt,Ut.Zoom=Xt,Ut.Scale=Kt,Ut.Attribution=$t,Yt.layers=function(e,t,n){return new Gt(e,t,n)},Yt.zoom=function(e){return new Xt(e)},Yt.scale=function(e){return new Kt(e)},Yt.attribution=function(e){return new $t(e)};var Jt=M.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Jt.addTo=function(e,t){return e.addHandler(t,this),this};var Qt,en={Events:O},tn=De.touch?"touchstart mousedown":"mousedown",nn=E.extend({options:{clickTolerance:3},initialize:function(e,t,n,i){h(this,i),this._element=e,this._dragStartTarget=t||e,this._preventOutline=n},enable:function(){this._enabled||(Mt(this._dragStartTarget,tn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(nn._dragging===this&&this.finishDrag(!0),Lt(this._dragStartTarget,tn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!ut(this._element,"leaflet-zoom-anim")))if(e.touches&&1!==e.touches.length)nn._dragging===this&&this.finishDrag();else if(!(nn._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches||(nn._dragging=this,this._preventOutline&&xt(this._element),bt(),Ge(),this._moving))){this.fire("down");var t=e.touches?e.touches[0]:e,n=kt(this._element);this._startPoint=new A(t.clientX,t.clientY),this._startPos=gt(this._element),this._parentScale=St(n);var i="mousedown"===e.type;Mt(document,i?"mousemove":"touchmove",this._onMove,this),Mt(document,i?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(e){if(this._enabled)if(e.touches&&e.touches.length>1)this._moved=!0;else{var t=e.touches&&1===e.touches.length?e.touches[0]:e,n=new A(t.clientX,t.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,zt(e),this._moved||(this.fire("dragstart"),this._moved=!0,ct(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ct(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=e,this._updatePosition()))}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),yt(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){dt(document.body,"leaflet-dragging"),this._lastTarget&&(dt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Lt(document,"mousemove touchmove",this._onMove,this),Lt(document,"mouseup touchend touchcancel",this._onUp,this),jt(),Xe(),this._moved&&this._moving&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,nn._dragging=!1}});function rn(e,t){if(!t||!e.length)return e.slice();var n=t*t;return e=function(e,t){for(var n=[e[0]],i=1,r=0,a=e.length;i<a;i++)cn(e[i],e[r])>t&&(n.push(e[i]),r=i);r<a-1&&n.push(e[a-1]);return n}(e,n),e=function(e,t){var n=e.length,i=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(n);i[0]=i[n-1]=1,sn(e,i,t,0,n-1);var r,a=[];for(r=0;r<n;r++)i[r]&&a.push(e[r]);return a}(e,n),e}function an(e,t,n){return Math.sqrt(dn(e,t,n,!0))}function sn(e,t,n,i,r){var a,s,o,l=0;for(s=i+1;s<=r-1;s++)(o=dn(e[s],e[i],e[r],!0))>l&&(a=s,l=o);l>n&&(t[a]=1,sn(e,t,n,i,a),sn(e,t,n,a,r))}function on(e,t,n,i,r){var a,s,o,l=i?Qt:un(e,n),u=un(t,n);for(Qt=u;;){if(!(l|u))return[e,t];if(l&u)return!1;o=un(s=ln(e,t,a=l||u,n,r),n),a===l?(e=s,l=o):(t=s,u=o)}}function ln(e,t,n,i,r){var a,s,o=t.x-e.x,l=t.y-e.y,u=i.min,c=i.max;return 8&n?(a=e.x+o*(c.y-e.y)/l,s=c.y):4&n?(a=e.x+o*(u.y-e.y)/l,s=u.y):2&n?(a=c.x,s=e.y+l*(c.x-e.x)/o):1&n&&(a=u.x,s=e.y+l*(u.x-e.x)/o),new A(a,s,r)}function un(e,t){var n=0;return e.x<t.min.x?n|=1:e.x>t.max.x&&(n|=2),e.y<t.min.y?n|=4:e.y>t.max.y&&(n|=8),n}function cn(e,t){var n=t.x-e.x,i=t.y-e.y;return n*n+i*i}function dn(e,t,n,i){var r,a=t.x,s=t.y,o=n.x-a,l=n.y-s,u=o*o+l*l;return u>0&&((r=((e.x-a)*o+(e.y-s)*l)/u)>1?(a=n.x,s=n.y):r>0&&(a+=o*r,s+=l*r)),o=e.x-a,l=e.y-s,i?o*o+l*l:new A(a,s)}function hn(e){return!v(e[0])||"object"!=typeof e[0][0]&&void 0!==e[0][0]}function fn(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),hn(e)}var pn={__proto__:null,simplify:rn,pointToSegmentDistance:an,closestPointOnSegment:function(e,t,n){return dn(e,t,n)},clipSegment:on,_getEdgeIntersection:ln,_getBitCode:un,_sqClosestPointOnSegment:dn,isFlat:hn,_flat:fn};function mn(e,t,n){var i,r,a,s,o,l,u,c,d,h=[1,4,2,8];for(r=0,u=e.length;r<u;r++)e[r]._code=un(e[r],t);for(s=0;s<4;s++){for(c=h[s],i=[],r=0,a=(u=e.length)-1;r<u;a=r++)o=e[r],l=e[a],o._code&c?l._code&c||((d=ln(l,o,c,t,n))._code=un(d,t),i.push(d)):(l._code&c&&((d=ln(l,o,c,t,n))._code=un(d,t),i.push(d)),i.push(o));e=i}return e}var vn={__proto__:null,clipPolygon:mn},yn={project:function(e){return new A(e.lng,e.lat)},unproject:function(e){return new q(e.y,e.x)},bounds:new D([-180,-90],[180,90])},gn={R:6378137,R_MINOR:6356752.314245179,bounds:new D([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var t=Math.PI/180,n=this.R,i=e.lat*t,r=this.R_MINOR/n,a=Math.sqrt(1-r*r),s=a*Math.sin(i),o=Math.tan(Math.PI/4-i/2)/Math.pow((1-s)/(1+s),a/2);return i=-n*Math.log(Math.max(o,1e-10)),new A(e.lng*t*n,i)},unproject:function(e){for(var t,n=180/Math.PI,i=this.R,r=this.R_MINOR/i,a=Math.sqrt(1-r*r),s=Math.exp(-e.y/i),o=Math.PI/2-2*Math.atan(s),l=0,u=.1;l<15&&Math.abs(u)>1e-7;l++)t=a*Math.sin(o),t=Math.pow((1-t)/(1+t),a/2),o+=u=Math.PI/2-2*Math.atan(s*t)-o;return new q(o*n,e.x*n/i)}},_n={__proto__:null,LonLat:yn,Mercator:gn,SphericalMercator:Z},bn=t({},H,{code:"EPSG:3395",projection:gn,transformation:function(){var e=.5/(Math.PI*gn.R);return U(e,.5,-e,.5)}()}),jn=t({},H,{code:"EPSG:4326",projection:yn,transformation:U(1/180,1,-1/180,.5)}),xn=t({},F,{projection:yn,transformation:U(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var n=t.lng-e.lng,i=t.lat-e.lat;return Math.sqrt(n*n+i*i)},infinite:!0});F.Earth=H,F.EPSG3395=bn,F.EPSG3857=Y,F.EPSG900913=G,F.EPSG4326=jn,F.Simple=xn;var wn=E.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[a(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[a(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var n=this.getEvents();t.on(n,this),this.once("remove",(function(){t.off(n,this)}),this)}this.onAdd(t),this.fire("add"),t.fire("layeradd",{layer:this})}}});Vt.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=a(e);return this._layers[t]||(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e)),this},removeLayer:function(e){var t=a(e);return this._layers[t]?(this._loaded&&e.onRemove(this),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return a(e)in this._layers},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},_addLayers:function(e){for(var t=0,n=(e=e?v(e)?e:[e]:[]).length;t<n;t++)this.addLayer(e[t])},_addZoomLimit:function(e){isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[a(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=a(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var r=this._zoomBoundLayers[i].options;e=void 0===r.minZoom?e:Math.min(e,r.minZoom),t=void 0===r.maxZoom?t:Math.max(t,r.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var kn=wn.extend({initialize:function(e,t){var n,i;if(h(this,t),this._layers={},e)for(n=0,i=e.length;n<i;n++)this.addLayer(e[n])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return("number"==typeof e?e:this.getLayerId(e))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t,n,i=Array.prototype.slice.call(arguments,1);for(t in this._layers)(n=this._layers[t])[e]&&n[e].apply(n,i);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return a(e)}}),Sn=kn.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),kn.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),kn.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new N;for(var t in this._layers){var n=this._layers[t];e.extend(n.getBounds?n.getBounds():n.getLatLng())}return e}}),Pn=M.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){h(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var n=this._getIconUrl(e);if(!n){if("icon"===e)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(n,t&&"IMG"===t.tagName?t:null);return this._setIconStyles(i,e),(this.options.crossOrigin||""===this.options.crossOrigin)&&(i.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),i},_setIconStyles:function(e,t){var n=this.options,i=n[t+"Size"];"number"==typeof i&&(i=[i,i]);var r=T(i),a=T("shadow"===t&&n.shadowAnchor||n.iconAnchor||r&&r.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(n.className||""),a&&(e.style.marginLeft=-a.x+"px",e.style.marginTop=-a.y+"px"),r&&(e.style.width=r.x+"px",e.style.height=r.y+"px")},_createImg:function(e,t){return(t=t||document.createElement("img")).src=e,t},_getIconUrl:function(e){return De.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});var Mn=Pn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return"string"!=typeof Mn.imagePath&&(Mn.imagePath=this._detectIconPath()),(this.options.imagePath||Mn.imagePath)+Pn.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var t=function(e,t,n){var i=t.exec(e);return i&&i[n]};return(e=t(e,/^url\((['"])?(.+)\1\)$/,2))&&t(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=rt("div","leaflet-default-icon-path",document.body),t=it(e,"background-image")||it(e,"backgroundImage");if(document.body.removeChild(e),t=this._stripUrl(t))return t;var n=document.querySelector('link[href$="leaflet.css"]');return n?n.href.substring(0,n.href.length-"leaflet.css".length-1):""}}),On=Jt.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new nn(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ct(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&dt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,n=t._map,i=this._marker.options.autoPanSpeed,r=this._marker.options.autoPanPadding,a=gt(t._icon),s=n.getPixelBounds(),o=n.getPixelOrigin(),l=I(s.min._subtract(o).add(r),s.max._subtract(o).subtract(r));if(!l.contains(a)){var u=T((Math.max(l.max.x,a.x)-l.max.x)/(s.max.x-l.max.x)-(Math.min(l.min.x,a.x)-l.min.x)/(s.min.x-l.min.x),(Math.max(l.max.y,a.y)-l.max.y)/(s.max.y-l.max.y)-(Math.min(l.min.y,a.y)-l.min.y)/(s.min.y-l.min.y)).multiplyBy(i);n.panBy(u,{animate:!1}),this._draggable._newPos._add(u),this._draggable._startPos._add(u),yt(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=k(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(S(this._panRequest),this._panRequest=k(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,n=t._shadow,i=gt(t._icon),r=t._map.layerPointToLatLng(i);n&&yt(n,i),t._latlng=r,e.latlng=r,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){S(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),Ln=wn.extend({options:{icon:new Mn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,t){h(this,t),this._latlng=R(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=R(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=e.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,e.title&&(n.title=e.title),"IMG"===n.tagName&&(n.alt=e.alt||"")),ct(n,t),e.keyboard&&(n.tabIndex="0",n.setAttribute("role","button")),this._icon=n,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Mt(n,"focus",this._panOnFocus,this);var r=e.icon.createShadow(this._shadow),a=!1;r!==this._shadow&&(this._removeShadow(),a=!0),r&&(ct(r,t),r.alt=""),this._shadow=r,e.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),r&&a&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Lt(this._icon,"focus",this._panOnFocus,this),at(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&at(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&yt(this._icon,e),this._shadow&&yt(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(ct(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),On)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new On(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&pt(this._icon,e),this._shadow&&pt(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var t=this.options.icon.options,n=t.iconSize?T(t.iconSize):T(0,0),i=t.iconAnchor?T(t.iconAnchor):T(0,0);e.panInside(this._latlng,{paddingTopLeft:i,paddingBottomRight:n.subtract(i)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var En=wn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return h(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),An=En.extend({options:{fill:!0,radius:10},initialize:function(e,t){h(this,t),this._latlng=R(e),this._radius=this.options.radius},setLatLng:function(e){var t=this._latlng;return this._latlng=R(e),this.redraw(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return En.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,n=this._clickTolerance(),i=[e+n,t+n];this._pxBounds=new D(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var Cn=An.extend({initialize:function(e,n,i){if("number"==typeof n&&(n=t({},i,{radius:n})),h(this,n),this._latlng=R(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new N(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:En.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===H.distance){var r=Math.PI/180,a=this._mRadius/H.R/r,s=n.project([t+a,e]),o=n.project([t-a,e]),l=s.add(o).divideBy(2),u=n.unproject(l).lat,c=Math.acos((Math.cos(a*r)-Math.sin(t*r)*Math.sin(u*r))/(Math.cos(t*r)*Math.cos(u*r)))/r;(isNaN(c)||0===c)&&(c=a/Math.cos(Math.PI/180*t)),this._point=l.subtract(n.getPixelOrigin()),this._radius=isNaN(c)?0:l.x-n.project([u,e-c]).x,this._radiusY=l.y-s.y}else{var d=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(d).x}this._updateBounds()}});var Tn=En.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){h(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t,n,i=1/0,r=null,a=dn,s=0,o=this._parts.length;s<o;s++)for(var l=this._parts[s],u=1,c=l.length;u<c;u++){var d=a(e,t=l[u-1],n=l[u],!0);d<i&&(i=d,r=a(e,t,n))}return r&&(r.distance=Math.sqrt(i)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,t,n,i,r,a,s,o=this._rings[0],l=o.length;if(!l)return null;for(e=0,t=0;e<l-1;e++)t+=o[e].distanceTo(o[e+1])/2;if(0===t)return this._map.layerPointToLatLng(o[0]);for(e=0,i=0;e<l-1;e++)if(r=o[e],a=o[e+1],(i+=n=r.distanceTo(a))>t)return s=(i-t)/n,this._map.layerPointToLatLng([a.x-s*(a.x-r.x),a.y-s*(a.y-r.y)])},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=R(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new N,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return hn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],n=hn(e),i=0,r=e.length;i<r;i++)n?(t[i]=R(e[i]),this._bounds.extend(t[i])):t[i]=this._convertLatLngs(e[i]);return t},_project:function(){var e=new D;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),t=new A(e,e);this._rawPxBounds&&(this._pxBounds=new D([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)]))},_projectLatlngs:function(e,t,n){var i,r,a=e[0]instanceof q,s=e.length;if(a){for(r=[],i=0;i<s;i++)r[i]=this._map.latLngToLayerPoint(e[i]),n.extend(r[i]);t.push(r)}else for(i=0;i<s;i++)this._projectLatlngs(e[i],t,n)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else{var t,n,i,r,a,s,o,l=this._parts;for(t=0,i=0,r=this._rings.length;t<r;t++)for(n=0,a=(o=this._rings[t]).length;n<a-1;n++)(s=on(o[n],o[n+1],e,n,!0))&&(l[i]=l[i]||[],l[i].push(s[0]),s[1]===o[n+1]&&n!==a-2||(l[i].push(s[1]),i++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,n=0,i=e.length;n<i;n++)e[n]=rn(e[n],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var n,i,r,a,s,o,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(n=0,a=this._parts.length;n<a;n++)for(i=0,r=(s=(o=this._parts[n]).length)-1;i<s;r=i++)if((t||0!==i)&&an(e,o[r],o[i])<=l)return!0;return!1}});Tn._flat=fn;var Dn=Tn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,t,n,i,r,a,s,o,l,u=this._rings[0],c=u.length;if(!c)return null;for(a=s=o=0,e=0,t=c-1;e<c;t=e++)n=u[e],i=u[t],r=n.y*i.x-i.y*n.x,s+=(n.x+i.x)*r,o+=(n.y+i.y)*r,a+=3*r;return l=0===a?u[0]:[s/a,o/a],this._map.layerPointToLatLng(l)},_convertLatLngs:function(e){var t=Tn.prototype._convertLatLngs.call(this,e),n=t.length;return n>=2&&t[0]instanceof q&&t[0].equals(t[n-1])&&t.pop(),t},_setLatLngs:function(e){Tn.prototype._setLatLngs.call(this,e),hn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return hn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,n=new A(t,t);if(e=new D(e.min.subtract(n),e.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else for(var i,r=0,a=this._rings.length;r<a;r++)(i=mn(this._rings[r],e,!0)).length&&this._parts.push(i)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t,n,i,r,a,s,o,l,u=!1;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(r=0,o=this._parts.length;r<o;r++)for(a=0,s=(l=(t=this._parts[r]).length)-1;a<l;s=a++)n=t[a],i=t[s],n.y>e.y!=i.y>e.y&&e.x<(i.x-n.x)*(e.y-n.y)/(i.y-n.y)+n.x&&(u=!u);return u||Tn.prototype._containsPoint.call(this,e,!0)}});var In=Sn.extend({initialize:function(e,t){h(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t,n,i,r=v(e)?e:e.features;if(r){for(t=0,n=r.length;t<n;t++)((i=r[t]).geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var a=this.options;if(a.filter&&!a.filter(e))return this;var s=Nn(e,a);return s?(s.feature=Wn(e),s.defaultOptions=s.options,this.resetStyle(s),a.onEachFeature&&a.onEachFeature(e,s),this.addLayer(s)):this},resetStyle:function(e){return void 0===e?this.eachLayer(this.resetStyle,this):(e.options=t({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer((function(t){this._setLayerStyle(t,e)}),this)},_setLayerStyle:function(e,t){e.setStyle&&("function"==typeof t&&(t=t(e.feature)),e.setStyle(t))}});function Nn(e,t){var n,i,r,a,s="Feature"===e.type?e.geometry:e,o=s?s.coordinates:null,l=[],u=t&&t.pointToLayer,c=t&&t.coordsToLatLng||qn;if(!o&&!s)return null;switch(s.type){case"Point":return zn(u,e,n=c(o),t);case"MultiPoint":for(r=0,a=o.length;r<a;r++)n=c(o[r]),l.push(zn(u,e,n,t));return new Sn(l);case"LineString":case"MultiLineString":return i=Rn(o,"LineString"===s.type?0:1,c),new Tn(i,t);case"Polygon":case"MultiPolygon":return i=Rn(o,"Polygon"===s.type?1:2,c),new Dn(i,t);case"GeometryCollection":for(r=0,a=s.geometries.length;r<a;r++){var d=Nn({geometry:s.geometries[r],type:"Feature",properties:e.properties},t);d&&l.push(d)}return new Sn(l);default:throw new Error("Invalid GeoJSON object.")}}function zn(e,t,n,i){return e?e(t,n):new Ln(n,i&&i.markersInheritOptions&&i)}function qn(e){return new q(e[1],e[0],e[2])}function Rn(e,t,n){for(var i,r=[],a=0,s=e.length;a<s;a++)i=t?Rn(e[a],t-1,n):(n||qn)(e[a]),r.push(i);return r}function Bn(e,t){return void 0!==(e=R(e)).alt?[u(e.lng,t),u(e.lat,t),u(e.alt,t)]:[u(e.lng,t),u(e.lat,t)]}function Fn(e,t,n,i){for(var r=[],a=0,s=e.length;a<s;a++)r.push(t?Fn(e[a],t-1,n,i):Bn(e[a],i));return!t&&n&&r.push(r[0]),r}function Hn(e,n){return e.feature?t({},e.feature,{geometry:n}):Wn(n)}function Wn(e){return"Feature"===e.type||"FeatureCollection"===e.type?e:{type:"Feature",properties:{},geometry:e}}var Zn={toGeoJSON:function(e){return Hn(this,{type:"Point",coordinates:Bn(this.getLatLng(),e)})}};function Vn(e,t){return new In(e,t)}Ln.include(Zn),Cn.include(Zn),An.include(Zn),Tn.include({toGeoJSON:function(e){var t=!hn(this._latlngs);return Hn(this,{type:(t?"Multi":"")+"LineString",coordinates:Fn(this._latlngs,t?1:0,!1,e)})}}),Dn.include({toGeoJSON:function(e){var t=!hn(this._latlngs),n=t&&!hn(this._latlngs[0]),i=Fn(this._latlngs,n?2:t?1:0,!0,e);return t||(i=[i]),Hn(this,{type:(n?"Multi":"")+"Polygon",coordinates:i})}}),kn.include({toMultiPoint:function(e){var t=[];return this.eachLayer((function(n){t.push(n.toGeoJSON(e).geometry.coordinates)})),Hn(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(e);var n="GeometryCollection"===t,i=[];return this.eachLayer((function(t){if(t.toGeoJSON){var r=t.toGeoJSON(e);if(n)i.push(r.geometry);else{var a=Wn(r);"FeatureCollection"===a.type?i.push.apply(i,a.features):i.push(a)}}})),n?Hn(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}});var Un=Vn,Yn=wn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,n){this._url=e,this._bounds=z(t),h(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ct(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){at(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&ot(this._image),this},bringToBack:function(){return this._map&&lt(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=z(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e="IMG"===this._url.tagName,t=this._image=e?this._url:rt("img");ct(t,"leaflet-image-layer"),this._zoomAnimated&&ct(t,"leaflet-zoom-animated"),this.options.className&&ct(t,this.options.className),t.onselectstart=l,t.onmousemove=l,t.onload=i(this.fire,this,"load"),t.onerror=i(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(t.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e?this._url=t.src:(t.src=this._url,t.alt=this.options.alt)},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;vt(this._image,n,t)},_reset:function(){var e=this._image,t=new D(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=t.getSize();yt(e,t.min),e.style.width=n.x+"px",e.style.height=n.y+"px"},_updateOpacity:function(){pt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),Gn=Yn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e="VIDEO"===this._url.tagName,t=this._image=e?this._url:rt("video");if(ct(t,"leaflet-image-layer"),this._zoomAnimated&&ct(t,"leaflet-zoom-animated"),this.options.className&&ct(t,this.options.className),t.onselectstart=l,t.onmousemove=l,t.onloadeddata=i(this.fire,this,"load"),e){for(var n=t.getElementsByTagName("source"),r=[],a=0;a<n.length;a++)r.push(n[a].src);this._url=n.length>0?r:[t.src]}else{v(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(t.style,"objectFit")&&(t.style.objectFit="fill"),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop,t.muted=!!this.options.muted,t.playsInline=!!this.options.playsInline;for(var s=0;s<this._url.length;s++){var o=rt("source");o.src=this._url[s],t.appendChild(o)}}}});var Xn=Yn.extend({_initImage:function(){var e=this._image=this._url;ct(e,"leaflet-image-layer"),this._zoomAnimated&&ct(e,"leaflet-zoom-animated"),this.options.className&&ct(e,this.options.className),e.onselectstart=l,e.onmousemove=l}});var Kn=wn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0},initialize:function(e,t){h(this,e),this._source=t},openOn:function(e){return(e=arguments.length?e:this._source._map).hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&pt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&pt(this._container,1),this.bringToFront(),this.options.interactive&&(ct(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(pt(this._container,0),this._removeTimeout=setTimeout(i(at,void 0,this._container),200)):at(this._container),this.options.interactive&&(dt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=R(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ot(this._container),this},bringToBack:function(){return this._map&&lt(this._container),this},_prepareOpen:function(e){var t=this._source;if(!t._map)return!1;if(t instanceof Sn){t=null;var n=this._source._layers;for(var i in n)if(n[i]._map){t=n[i];break}if(!t)return!1;this._source=t}if(!e)if(t.getCenter)e=t.getCenter();else if(t.getLatLng)e=t.getLatLng();else{if(!t.getBounds)throw new Error("Unable to get source layer LatLng.");e=t.getBounds().getCenter()}return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,t="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof t)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=T(this.options.offset),n=this._getAnchor();this._zoomAnimated?yt(this._container,e.add(n)):t=t.add(e).add(n);var i=this._containerBottom=-t.y,r=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=i+"px",this._container.style.left=r+"px"}},_getAnchor:function(){return[0,0]}});Vt.include({_initOverlay:function(e,t,n,i){var r=t;return r instanceof e||(r=new e(i).setContent(t)),n&&r.setLatLng(n),r}}),wn.include({_initOverlay:function(e,t,n,i){var r=n;return r instanceof e?(h(r,i),r._source=this):(r=t&&!i?t:new e(i,this)).setContent(n),r}});var $n=Kn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return!(e=arguments.length?e:this._source._map).hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,Kn.prototype.openOn.call(this,e)},onAdd:function(e){Kn.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof En||this._source.on("preclick",Dt))},onRemove:function(e){Kn.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof En||this._source.off("preclick",Dt))},getEvents:function(){var e=Kn.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",t=this._container=rt("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=rt("div",e+"-content-wrapper",t);if(this._contentNode=rt("div",e+"-content",n),Nt(t),It(this._contentNode),Mt(t,"contextmenu",Dt),this._tipContainer=rt("div",e+"-tip-container",t),this._tip=rt("div",e+"-tip",this._tipContainer),this.options.closeButton){var i=this._closeButton=rt("a",e+"-close-button",t);i.setAttribute("role","button"),i.setAttribute("aria-label","Close popup"),i.href="#close",i.innerHTML='<span aria-hidden="true">&#215;</span>',Mt(i,"click",this.close,this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var n=e.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),t.width=n+1+"px",t.whiteSpace="",t.height="";var i=e.offsetHeight,r=this.options.maxHeight,a="leaflet-popup-scrolled";r&&i>r?(t.height=r+"px",ct(e,a)):dt(e,a),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),n=this._getAnchor();yt(this._container,t.add(n))},_adjustPan:function(e){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var t=this._map,n=parseInt(it(this._container,"marginBottom"),10)||0,i=this._container.offsetHeight+n,r=this._containerWidth,a=new A(this._containerLeft,-i-this._containerBottom);a._add(gt(this._container));var s=t.layerPointToContainerPoint(a),o=T(this.options.autoPanPadding),l=T(this.options.autoPanPaddingTopLeft||o),u=T(this.options.autoPanPaddingBottomRight||o),c=t.getSize(),d=0,h=0;s.x+r+u.x>c.x&&(d=s.x+r-c.x+u.x),s.x-d-l.x<0&&(d=s.x-l.x),s.y+i+u.y>c.y&&(h=s.y+i-c.y+u.y),s.y-h-l.y<0&&(h=s.y-l.y),(d||h)&&t.fire("autopanstart").panBy([d,h],{animate:e&&"moveend"===e.type})}},_getAnchor:function(){return T(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Vt.mergeOptions({closePopupOnClick:!0}),Vt.include({openPopup:function(e,t,n){return this._initOverlay($n,e,t,n).openOn(this),this},closePopup:function(e){return(e=arguments.length?e:this._popup)&&e.close(),this}}),wn.include({bindPopup:function(e,t){return this._popup=this._initOverlay($n,this._popup,e,t),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&this._popup._prepareOpen(e)&&this._popup.openOn(this._map),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(this._popup&&this._map){qt(e);var t=e.layer||e.target;this._popup._source!==t||t instanceof En?(this._popup._source=t,this.openPopup(e.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){13===e.originalEvent.keyCode&&this._openPopup(e)}});var Jn=Kn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){Kn.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){Kn.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=Kn.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=rt("div",e)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t,n,i=this._map,r=this._container,a=i.latLngToContainerPoint(i.getCenter()),s=i.layerPointToContainerPoint(e),o=this.options.direction,l=r.offsetWidth,u=r.offsetHeight,c=T(this.options.offset),d=this._getAnchor();"top"===o?(t=l/2,n=u):"bottom"===o?(t=l/2,n=0):"center"===o?(t=l/2,n=u/2):"right"===o?(t=0,n=u/2):"left"===o?(t=l,n=u/2):s.x<a.x?(o="right",t=0,n=u/2):(o="left",t=l+2*(c.x+d.x),n=u/2),e=e.subtract(T(t,n,!0)).add(c).add(d),dt(r,"leaflet-tooltip-right"),dt(r,"leaflet-tooltip-left"),dt(r,"leaflet-tooltip-top"),dt(r,"leaflet-tooltip-bottom"),ct(r,"leaflet-tooltip-"+o),yt(r,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&pt(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return T(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Vt.include({openTooltip:function(e,t,n){return this._initOverlay(Jn,e,t,n).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),wn.include({bindTooltip:function(e,t){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Jn,this._tooltip,e,t),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(e||!this._tooltipHandlersAdded){var t=e?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[t](n),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&this._tooltip._prepareOpen(e)&&this._tooltip.openOn(this._map),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_openTooltip:function(e){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0))},_moveTooltip:function(e){var t,n,i=e.latlng;this._tooltip.options.sticky&&e.originalEvent&&(t=this._map.mouseEventToContainerPoint(e.originalEvent),n=this._map.containerPointToLayerPoint(t),i=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(i)}});var Qn=Pn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&"DIV"===e.tagName?e:document.createElement("div"),n=this.options;if(n.html instanceof Element?(st(t),t.appendChild(n.html)):t.innerHTML=!1!==n.html?n.html:"",n.bgPos){var i=T(n.bgPos);t.style.backgroundPosition=-i.x+"px "+-i.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});Pn.Default=Mn;var ei=wn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:De.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){h(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),at(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ot(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(lt(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=s(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof A?e:new A(e,e)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t,n=this.getPane().children,i=-e(-1/0,1/0),r=0,a=n.length;r<a;r++)t=n[r].style.zIndex,n[r]!==this._container&&t&&(i=e(i,+t));isFinite(i)&&(this.options.zIndex=i+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!De.ielt9){pt(this._container,this.options.opacity);var e=+new Date,t=!1,n=!1;for(var i in this._tiles){var r=this._tiles[i];if(r.current&&r.loaded){var a=Math.min(1,(e-r.loaded)/200);pt(r.el,a),a<1?t=!0:(r.active?n=!0:this._onOpaqueTile(r),r.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),t&&(S(this._fadeFrame),this._fadeFrame=k(this._updateOpacity,this))}},_onOpaqueTile:l,_initContainer:function(){this._container||(this._container=rt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(void 0!==e){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===e?(this._levels[n].el.style.zIndex=t-Math.abs(e-n),this._onUpdateLevel(n)):(at(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var i=this._levels[e],r=this._map;return i||((i=this._levels[e]={}).el=rt("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=t,i.origin=r.project(r.unproject(r.getPixelOrigin()),e).round(),i.zoom=e,this._setZoomTransform(i,r.getCenter(),r.getZoom()),i.el.offsetWidth,this._onCreateLevel(i)),this._level=i,i}},_onUpdateLevel:l,_onRemoveLevel:l,_onCreateLevel:l,_pruneTiles:function(){if(this._map){var e,t,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(e in this._tiles)(t=this._tiles[e]).retain=t.current;for(e in this._tiles)if((t=this._tiles[e]).current&&!t.active){var i=t.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)at(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,n,i){var r=Math.floor(e/2),a=Math.floor(t/2),s=n-1,o=new A(+r,+a);o.z=+s;var l=this._tileCoordsToKey(o),u=this._tiles[l];return u&&u.active?(u.retain=!0,!0):(u&&u.loaded&&(u.retain=!0),s>i&&this._retainParent(r,a,s,i))},_retainChildren:function(e,t,n,i){for(var r=2*e;r<2*e+2;r++)for(var a=2*t;a<2*t+2;a++){var s=new A(r,a);s.z=n+1;var o=this._tileCoordsToKey(s),l=this._tiles[o];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n+1<i&&this._retainChildren(r,a,n+1,i))}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return void 0!==t.minNativeZoom&&e<t.minNativeZoom?t.minNativeZoom:void 0!==t.maxNativeZoom&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,n,i){var r=Math.round(t);r=void 0!==this.options.maxZoom&&r>this.options.maxZoom||void 0!==this.options.minZoom&&r<this.options.minZoom?void 0:this._clampZoom(r);var a=this.options.updateWhenZooming&&r!==this._tileZoom;i&&!a||(this._tileZoom=r,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==r&&this._update(e),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var n in this._levels)this._setZoomTransform(this._levels[n],e,t)},_setZoomTransform:function(e,t,n){var i=this._map.getZoomScale(n,e.zoom),r=e.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(t,n)).round();De.any3d?vt(e.el,r,i):yt(e.el,r)},_resetGrid:function(){var e=this._map,t=e.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,r=this._map.getPixelWorldBounds(this._tileZoom);r&&(this._globalTileRange=this._pxBoundsToTileRange(r)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],i).x/n.x),Math.ceil(e.project([0,t.wrapLng[1]],i).x/n.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],i).y/n.x),Math.ceil(e.project([t.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(e){var t=this._map,n=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),i=t.getZoomScale(n,this._tileZoom),r=t.project(e,this._tileZoom).floor(),a=t.getSize().divideBy(2*i);return new D(r.subtract(a),r.add(a))},_update:function(e){var t=this._map;if(t){var n=this._clampZoom(t.getZoom());if(void 0===e&&(e=t.getCenter()),void 0!==this._tileZoom){var i=this._getTiledPixelBounds(e),r=this._pxBoundsToTileRange(i),a=r.getCenter(),s=[],o=this.options.keepBuffer,l=new D(r.getBottomLeft().subtract([o,-o]),r.getTopRight().add([o,-o]));if(!(isFinite(r.min.x)&&isFinite(r.min.y)&&isFinite(r.max.x)&&isFinite(r.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var u in this._tiles){var c=this._tiles[u].coords;c.z===this._tileZoom&&l.contains(new A(c.x,c.y))||(this._tiles[u].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(e,n);else{for(var d=r.min.y;d<=r.max.y;d++)for(var h=r.min.x;h<=r.max.x;h++){var f=new A(h,d);if(f.z=this._tileZoom,this._isValidTile(f)){var p=this._tiles[this._tileCoordsToKey(f)];p?p.current=!0:s.push(f)}}if(s.sort((function(e,t){return e.distanceTo(a)-t.distanceTo(a)})),0!==s.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(h=0;h<s.length;h++)this._addTile(s[h],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var n=this._globalTileRange;if(!t.wrapLng&&(e.x<n.min.x||e.x>n.max.x)||!t.wrapLat&&(e.y<n.min.y||e.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(e);return z(this.options.bounds).overlaps(i)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,n=this.getTileSize(),i=e.scaleBy(n),r=i.add(n);return[t.unproject(i,e.z),t.unproject(r,e.z)]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),n=new N(t[0],t[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),n=new A(+t[0],+t[1]);return n.z=+t[2],n},_removeTile:function(e){var t=this._tiles[e];t&&(at(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){ct(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=l,e.onmousemove=l,De.ielt9&&this.options.opacity<1&&pt(e,this.options.opacity)},_addTile:function(e,t){var n=this._getTilePos(e),r=this._tileCoordsToKey(e),a=this.createTile(this._wrapCoords(e),i(this._tileReady,this,e));this._initTile(a),this.createTile.length<2&&k(i(this._tileReady,this,e,null,a)),yt(a,n),this._tiles[r]={el:a,coords:e,current:!0},t.appendChild(a),this.fire("tileloadstart",{tile:a,coords:e})},_tileReady:function(e,t,n){t&&this.fire("tileerror",{error:t,tile:n,coords:e});var r=this._tileCoordsToKey(e);(n=this._tiles[r])&&(n.loaded=+new Date,this._map._fadeAnimated?(pt(n.el,0),S(this._fadeFrame),this._fadeFrame=k(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),t||(ct(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),De.ielt9||!this._map._fadeAnimated?k(this._pruneTiles,this):setTimeout(i(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new A(this._wrapX?o(e.x,this._wrapX):e.x,this._wrapY?o(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new D(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});var ti=ei.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,t){this._url=e,(t=h(this,t)).detectRetina&&De.retina&&t.maxZoom>0&&(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom++):(t.zoomOffset++,t.maxZoom--),t.minZoom=Math.max(0,t.minZoom)),"string"==typeof t.subdomains&&(t.subdomains=t.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url===e&&void 0===t&&(t=!0),this._url=e,t||this.redraw(),this},createTile:function(e,t){var n=document.createElement("img");return Mt(n,"load",i(this._tileOnLoad,this,t,n)),Mt(n,"error",i(this._tileOnError,this,t,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(n.referrerPolicy=this.options.referrerPolicy),n.alt="",n.setAttribute("role","presentation"),n.src=this.getTileUrl(e),n},getTileUrl:function(e){var n={r:De.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-e.y;this.options.tms&&(n.y=i),n["-y"]=i}return m(this._url,t(n,this.options))},_tileOnLoad:function(e,t){De.ielt9?setTimeout(i(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,n){var i=this.options.errorTileUrl;i&&t.getAttribute("src")!==i&&(t.src=i),e(n,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom;return this.options.zoomReverse&&(e=t-e),e+this.options.zoomOffset},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&((t=this._tiles[e].el).onload=l,t.onerror=l,!t.complete)){t.src=g;var n=this._tiles[e].coords;at(t),delete this._tiles[e],this.fire("tileabort",{tile:t,coords:n})}},_removeTile:function(e){var t=this._tiles[e];if(t)return t.el.setAttribute("src",g),ei.prototype._removeTile.call(this,e)},_tileReady:function(e,t,n){if(this._map&&(!n||n.getAttribute("src")!==g))return ei.prototype._tileReady.call(this,e,t,n)}});function ni(e,t){return new ti(e,t)}var ii=ti.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,n){this._url=e;var i=t({},this.defaultWmsParams);for(var r in n)r in this.options||(i[r]=n[r]);var a=(n=h(this,n)).detectRetina&&De.retina?2:1,s=this.getTileSize();i.width=s.x*a,i.height=s.y*a,this.wmsParams=i},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,ti.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),n=this._crs,i=I(n.project(t[0]),n.project(t[1])),r=i.min,a=i.max,s=(this._wmsVersion>=1.3&&this._crs===jn?[r.y,r.x,a.y,a.x]:[r.x,r.y,a.x,a.y]).join(","),o=ti.prototype.getTileUrl.call(this,e);return o+f(this.wmsParams,o,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+s},setParams:function(e,n){return t(this.wmsParams,e),n||this.redraw(),this}});ti.WMS=ii,ni.wms=function(e,t){return new ii(e,t)};var ri=wn.extend({options:{padding:.1},initialize:function(e){h(this,e),a(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&ct(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var n=this._map.getZoomScale(t,this._zoom),i=this._map.getSize().multiplyBy(.5+this.options.padding),r=this._map.project(this._center,t),a=i.multiplyBy(-n).add(r).subtract(this._map._getNewPixelOrigin(e,t));De.any3d?vt(this._container,a,n):yt(this._container,a)},_reset:function(){for(var e in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),n=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new D(n,n.add(t.multiplyBy(1+2*e)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ai=ri.extend({options:{tolerance:0},getEvents:function(){var e=ri.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ri.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");Mt(e,"mousemove",this._onMouseMove,this),Mt(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Mt(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){S(this._redrawRequest),delete this._ctx,at(this._container),Lt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var e in this._redrawBounds=null,this._layers)this._layers[e]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){ri.prototype._update.call(this);var e=this._bounds,t=this._container,n=e.getSize(),i=De.retina?2:1;yt(t,e.min),t.width=i*n.x,t.height=i*n.y,t.style.width=n.x+"px",t.style.height=n.y+"px",De.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){ri.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[a(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,n=t.next,i=t.prev;n?n.prev=i:this._drawLast=i,i?i.next=n:this._drawFirst=n,delete e._order,delete this._layers[a(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if("string"==typeof e.options.dashArray){var t,n,i=e.options.dashArray.split(/[, ]+/),r=[];for(n=0;n<i.length;n++){if(t=Number(i[n]),isNaN(t))return;r.push(t)}e.options._dashArray=r}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||k(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new D,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var n=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)e=i.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var n,i,r,a,s=e._parts,o=s.length,l=this._ctx;if(o){for(l.beginPath(),n=0;n<o;n++){for(i=0,r=s[n].length;i<r;i++)a=s[n][i],l[i?"lineTo":"moveTo"](a.x,a.y);t&&l.closePath()}this._fillStroke(l,e)}}},_updateCircle:function(e){if(this._drawing&&!e._empty()){var t=e._point,n=this._ctx,i=Math.max(Math.round(e._radius),1),r=(Math.max(Math.round(e._radiusY),1)||i)/i;1!==r&&(n.save(),n.scale(1,r)),n.beginPath(),n.arc(t.x,t.y/r,i,0,2*Math.PI,!1),1!==r&&n.restore(),this._fillStroke(n,e)}},_fillStroke:function(e,t){var n=t.options;n.fill&&(e.globalAlpha=n.fillOpacity,e.fillStyle=n.fillColor||n.color,e.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=n.opacity,e.lineWidth=n.weight,e.strokeStyle=n.color,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.stroke())},_onClick:function(e){for(var t,n,i=this._map.mouseEventToLayerPoint(e),r=this._drawFirst;r;r=r.next)(t=r.layer).options.interactive&&t._containsPoint(i)&&("click"!==e.type&&"preclick"!==e.type||!this._map._draggableMoved(t))&&(n=t);this._fireEvent(!!n&&[n],e)},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(dt(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,t){if(!this._mouseHoverThrottled){for(var n,r,a=this._drawFirst;a;a=a.next)(n=a.layer).options.interactive&&n._containsPoint(t)&&(r=n);r!==this._hoveredLayer&&(this._handleMouseOut(e),r&&(ct(this._container,"leaflet-interactive"),this._fireEvent([r],e,"mouseover"),this._hoveredLayer=r)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],e),this._mouseHoverThrottled=!0,setTimeout(i((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(e,t,n){this._map._fireDOMEvent(t,n||t.type,e)},_bringToFront:function(e){var t=e._order;if(t){var n=t.next,i=t.prev;n&&(n.prev=i,i?i.next=n:n&&(this._drawFirst=n),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e))}},_bringToBack:function(e){var t=e._order;if(t){var n=t.next,i=t.prev;i&&(i.next=n,n?n.prev=i:i&&(this._drawLast=i),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e))}}});function si(e){return De.canvas?new ai(e):null}var oi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch(e){}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),li={_initContainer:function(){this._container=rt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ri.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=oi("shape");ct(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=oi("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[a(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;at(t),e.removeInteractiveTarget(t),delete this._layers[a(e)]},_updateStyle:function(e){var t=e._stroke,n=e._fill,i=e.options,r=e._container;r.stroked=!!i.stroke,r.filled=!!i.fill,i.stroke?(t||(t=e._stroke=oi("stroke")),r.appendChild(t),t.weight=i.weight+"px",t.color=i.color,t.opacity=i.opacity,i.dashArray?t.dashStyle=v(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=i.lineCap.replace("butt","flat"),t.joinstyle=i.lineJoin):t&&(r.removeChild(t),e._stroke=null),i.fill?(n||(n=e._fill=oi("fill")),r.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(r.removeChild(n),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),n=Math.round(e._radius),i=Math.round(e._radiusY||n);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+n+","+i+" 0,23592600")},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){ot(e._container)},_bringToBack:function(e){lt(e._container)}},ui=De.vml?oi:X,ci=ri.extend({_initContainer:function(){this._container=ui("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ui("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){at(this._container),Lt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){ri.prototype._update.call(this);var e=this._bounds,t=e.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(t)||(this._svgSize=t,n.setAttribute("width",t.x),n.setAttribute("height",t.y)),yt(n,e.min),n.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=ui("path");e.options.className&&ct(t,e.options.className),e.options.interactive&&ct(t,"leaflet-interactive"),this._updateStyle(e),this._layers[a(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){at(e._path),e.removeInteractiveTarget(e._path),delete this._layers[a(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,n=e.options;t&&(n.stroke?(t.setAttribute("stroke",n.color),t.setAttribute("stroke-opacity",n.opacity),t.setAttribute("stroke-width",n.weight),t.setAttribute("stroke-linecap",n.lineCap),t.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?t.setAttribute("stroke-dasharray",n.dashArray):t.removeAttribute("stroke-dasharray"),n.dashOffset?t.setAttribute("stroke-dashoffset",n.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),n.fill?(t.setAttribute("fill",n.fillColor||n.color),t.setAttribute("fill-opacity",n.fillOpacity),t.setAttribute("fill-rule",n.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,K(e._parts,t))},_updateCircle:function(e){var t=e._point,n=Math.max(Math.round(e._radius),1),i="a"+n+","+(Math.max(Math.round(e._radiusY),1)||n)+" 0 1,0 ",r=e._empty()?"M0 0":"M"+(t.x-n)+","+t.y+i+2*n+",0 "+i+2*-n+",0 ";this._setPath(e,r)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){ot(e._path)},_bringToBack:function(e){lt(e._path)}});function di(e){return De.svg||De.vml?new ci(e):null}De.vml&&ci.include(li),Vt.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this._createRenderer()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if("overlayPane"===e||void 0===e)return!1;var t=this._paneRenderers[e];return void 0===t&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&si(e)||di(e)}});var hi=Dn.extend({initialize:function(e,t){Dn.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return[(e=z(e)).getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});ci.create=ui,ci.pointsToPath=K,In.geometryToLayer=Nn,In.coordsToLatLng=qn,In.coordsToLatLngs=Rn,In.latLngToCoords=Bn,In.latLngsToCoords=Fn,In.getFeature=Hn,In.asFeature=Wn,Vt.mergeOptions({boxZoom:!0});var fi=Jt.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){Mt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Lt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){at(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||1!==e.which&&1!==e.button)return!1;this._clearDeferredResetState(),this._resetState(),Ge(),bt(),this._startPoint=this._map.mouseEventToContainerPoint(e),Mt(document,{contextmenu:qt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=rt("div","leaflet-zoom-box",this._container),ct(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new D(this._point,this._startPoint),n=t.getSize();yt(this._box,t.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(at(this._box),dt(this._container,"leaflet-crosshair")),Xe(),jt(),Lt(document,{contextmenu:qt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if((1===e.which||1===e.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(i(this._resetState,this),0);var t=new N(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){27===e.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Vt.addInitHook("addHandler","boxZoom",fi),Vt.mergeOptions({doubleClickZoom:!0});var pi=Jt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,n=t.getZoom(),i=t.options.zoomDelta,r=e.originalEvent.shiftKey?n-i:n+i;"center"===t.options.doubleClickZoom?t.setZoom(r):t.setZoomAround(e.containerPoint,r)}});Vt.addInitHook("addHandler","doubleClickZoom",pi),Vt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var mi=Jt.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new nn(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}ct(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){dt(this._map._container,"leaflet-grab"),dt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=z(this._map.options.maxBounds);this._offsetLimit=I(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(t),this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,r=(i-t+n)%e+t-n,a=(i+t+n)%e-t-n,s=Math.abs(r+n)<Math.abs(a+n)?r:a;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(e){var t=this._map,n=t.options,i=!n.inertia||e.noInertia||this._times.length<2;if(t.fire("dragend",e),i)t.fire("moveend");else{this._prunePositions(+new Date);var r=this._lastPos.subtract(this._positions[0]),a=(this._lastTime-this._times[0])/1e3,s=n.easeLinearity,o=r.multiplyBy(s/a),l=o.distanceTo([0,0]),u=Math.min(n.inertiaMaxSpeed,l),c=o.multiplyBy(u/l),d=u/(n.inertiaDeceleration*s),h=c.multiplyBy(-d/2).round();h.x||h.y?(h=t._limitOffset(h,t.options.maxBounds),k((function(){t.panBy(h,{duration:d,easeLinearity:s,noMoveStart:!0,animate:!0})}))):t.fire("moveend")}}});Vt.addInitHook("addHandler","dragging",mi),Vt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var vi=Jt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),Mt(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Lt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,n=e.scrollTop||t.scrollTop,i=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(i,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t,n,i=this._panKeys={},r=this.keyCodes;for(t=0,n=r.left.length;t<n;t++)i[r.left[t]]=[-1*e,0];for(t=0,n=r.right.length;t<n;t++)i[r.right[t]]=[e,0];for(t=0,n=r.down.length;t<n;t++)i[r.down[t]]=[0,e];for(t=0,n=r.up.length;t<n;t++)i[r.up[t]]=[0,-1*e]},_setZoomDelta:function(e){var t,n,i=this._zoomKeys={},r=this.keyCodes;for(t=0,n=r.zoomIn.length;t<n;t++)i[r.zoomIn[t]]=e;for(t=0,n=r.zoomOut.length;t<n;t++)i[r.zoomOut[t]]=-e},_addHooks:function(){Mt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Lt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t,n=e.keyCode,i=this._map;if(n in this._panKeys)i._panAnim&&i._panAnim._inProgress||(t=this._panKeys[n],e.shiftKey&&(t=T(t).multiplyBy(3)),i.panBy(t),i.options.maxBounds&&i.panInsideBounds(i.options.maxBounds));else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!i._popup||!i._popup.options.closeOnEscapeKey)return;i.closePopup()}qt(e)}}});Vt.addInitHook("addHandler","keyboard",vi),Vt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var yi=Jt.extend({addHooks:function(){Mt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Lt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=Ft(e),n=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var r=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i(this._performZoom,this),r),qt(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),n=this._map.options.zoomSnap||0;e._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel),r=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,a=n?Math.ceil(r/n)*n:r,s=e._limitZoom(t+(this._delta>0?a:-a))-t;this._delta=0,this._startTime=null,s&&("center"===e.options.scrollWheelZoom?e.setZoom(t+s):e.setZoomAround(this._lastMousePos,t+s))}});Vt.addInitHook("addHandler","scrollWheelZoom",yi);Vt.mergeOptions({tapHold:De.touchNative&&De.safari&&De.mobile,tapTolerance:15});var gi=Jt.extend({addHooks:function(){Mt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Lt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),1===e.touches.length){var t=e.touches[0];this._startPos=this._newPos=new A(t.clientX,t.clientY),this._holdTimeout=setTimeout(i((function(){this._cancel(),this._isTapValid()&&(Mt(document,"touchend",zt),Mt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",t))}),this),600),Mt(document,"touchend touchcancel contextmenu",this._cancel,this),Mt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){Lt(document,"touchend",zt),Lt(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),Lt(document,"touchend touchcancel contextmenu",this._cancel,this),Lt(document,"touchmove",this._onMove,this)},_onMove:function(e){var t=e.touches[0];this._newPos=new A(t.clientX,t.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,t){var n=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY});n._simulated=!0,t.target.dispatchEvent(n)}});Vt.addInitHook("addHandler","tapHold",gi),Vt.mergeOptions({touchZoom:De.touch,bounceAtZoomLimits:!0});var _i=Jt.extend({addHooks:function(){ct(this._map._container,"leaflet-touch-zoom"),Mt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){dt(this._map._container,"leaflet-touch-zoom"),Lt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(e.touches&&2===e.touches.length&&!t._animatingZoom&&!this._zooming){var n=t.mouseEventToContainerPoint(e.touches[0]),i=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),"center"!==t.options.touchZoom&&(this._pinchStartLatLng=t.containerPointToLatLng(n.add(i)._divideBy(2))),this._startDist=n.distanceTo(i),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),Mt(document,"touchmove",this._onTouchMove,this),Mt(document,"touchend touchcancel",this._onTouchEnd,this),zt(e)}},_onTouchMove:function(e){if(e.touches&&2===e.touches.length&&this._zooming){var t=this._map,n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]),a=n.distanceTo(r)/this._startDist;if(this._zoom=t.getScaleZoom(a,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&a<1||this._zoom>t.getMaxZoom()&&a>1)&&(this._zoom=t._limitZoom(this._zoom)),"center"===t.options.touchZoom){if(this._center=this._startLatLng,1===a)return}else{var s=n._add(r)._divideBy(2)._subtract(this._centerPoint);if(1===a&&0===s.x&&0===s.y)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(s),this._zoom)}this._moved||(t._moveStart(!0,!1),this._moved=!0),S(this._animRequest);var o=i(t._move,t,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=k(o,this,!0),zt(e)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,S(this._animRequest),Lt(document,"touchmove",this._onTouchMove,this),Lt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Vt.addInitHook("addHandler","touchZoom",_i),Vt.BoxZoom=fi,Vt.DoubleClickZoom=pi,Vt.Drag=mi,Vt.Keyboard=vi,Vt.ScrollWheelZoom=yi,Vt.TapHold=gi,Vt.TouchZoom=_i,e.Bounds=D,e.Browser=De,e.CRS=F,e.Canvas=ai,e.Circle=Cn,e.CircleMarker=An,e.Class=M,e.Control=Ut,e.DivIcon=Qn,e.DivOverlay=Kn,e.DomEvent=Wt,e.DomUtil=Pt,e.Draggable=nn,e.Evented=E,e.FeatureGroup=Sn,e.GeoJSON=In,e.GridLayer=ei,e.Handler=Jt,e.Icon=Pn,e.ImageOverlay=Yn,e.LatLng=q,e.LatLngBounds=N,e.Layer=wn,e.LayerGroup=kn,e.LineUtil=pn,e.Map=Vt,e.Marker=Ln,e.Mixin=en,e.Path=En,e.Point=A,e.PolyUtil=vn,e.Polygon=Dn,e.Polyline=Tn,e.Popup=$n,e.PosAnimation=Zt,e.Projection=_n,e.Rectangle=hi,e.Renderer=ri,e.SVG=ci,e.SVGOverlay=Xn,e.TileLayer=ti,e.Tooltip=Jn,e.Transformation=V,e.Util=P,e.VideoOverlay=Gn,e.bind=i,e.bounds=I,e.canvas=si,e.circle=function(e,t,n){return new Cn(e,t,n)},e.circleMarker=function(e,t){return new An(e,t)},e.control=Yt,e.divIcon=function(e){return new Qn(e)},e.extend=t,e.featureGroup=function(e,t){return new Sn(e,t)},e.geoJSON=Vn,e.geoJson=Un,e.gridLayer=function(e){return new ei(e)},e.icon=function(e){return new Pn(e)},e.imageOverlay=function(e,t,n){return new Yn(e,t,n)},e.latLng=R,e.latLngBounds=z,e.layerGroup=function(e,t){return new kn(e,t)},e.map=function(e,t){return new Vt(e,t)},e.marker=function(e,t){return new Ln(e,t)},e.point=T,e.polygon=function(e,t){return new Dn(e,t)},e.polyline=function(e,t){return new Tn(e,t)},e.popup=function(e,t){return new $n(e,t)},e.rectangle=function(e,t){return new hi(e,t)},e.setOptions=h,e.stamp=a,e.svg=di,e.svgOverlay=function(e,t,n){return new Xn(e,t,n)},e.tileLayer=ni,e.tooltip=function(e,t){return new Jn(e,t)},e.transformation=U,e.version="1.8.0",e.videoOverlay=function(e,t,n){return new Gn(e,t,n)};var bi=window.L;e.noConflict=function(){return window.L=bi,this},window.L=e}))},{}],875:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.incircle=function(e,t,n,N,q,R,B,F){const H=e-B,W=n-B,Z=q-B,V=t-F,U=N-F,Y=R-F,G=W*Y,X=Z*U,K=H*H+V*V,$=Z*V,J=H*Y,Q=W*W+U*U,ee=H*U,te=W*V,ne=Z*Z+Y*Y,ie=K*(G-X)+Q*($-J)+ne*(ee-te),re=(Math.abs(G)+Math.abs(X))*K+(Math.abs($)+Math.abs(J))*Q+(Math.abs(ee)+Math.abs(te))*ne,ae=r*re;if(ie>ae||-ie>ae)return ie;return function(e,t,n,r,N,q,R,B,F){let H,W,Z,V,U,Y,G,X,K,$,J,Q,ee,te,ne,ie,re,ae,se,oe,le,ue,ce,de,he,fe,pe,me,ve,ye,ge,_e,be,je,xe;const we=e-R,ke=n-R,Se=N-R,Pe=t-B,Me=r-B,Oe=q-B;ge=ke*Oe,ce=i.splitter*ke,de=ce-(ce-ke),he=ke-de,ce=i.splitter*Oe,fe=ce-(ce-Oe),pe=Oe-fe,_e=he*pe-(ge-de*fe-he*fe-de*pe),be=Se*Me,ce=i.splitter*Se,de=ce-(ce-Se),he=Se-de,ce=i.splitter*Me,fe=ce-(ce-Me),pe=Me-fe,je=he*pe-(be-de*fe-he*fe-de*pe),me=_e-je,ue=_e-me,o[0]=_e-(me+ue)+(ue-je),ve=ge+me,ue=ve-ge,ye=ge-(ve-ue)+(me-ue),me=ye-be,ue=ye-me,o[1]=ye-(me+ue)+(ue-be),xe=ve+me,ue=xe-ve,o[2]=ve-(xe-ue)+(me-ue),o[3]=xe,ge=Se*Pe,ce=i.splitter*Se,de=ce-(ce-Se),he=Se-de,ce=i.splitter*Pe,fe=ce-(ce-Pe),pe=Pe-fe,_e=he*pe-(ge-de*fe-he*fe-de*pe),be=we*Oe,ce=i.splitter*we,de=ce-(ce-we),he=we-de,ce=i.splitter*Oe,fe=ce-(ce-Oe),pe=Oe-fe,je=he*pe-(be-de*fe-he*fe-de*pe),me=_e-je,ue=_e-me,l[0]=_e-(me+ue)+(ue-je),ve=ge+me,ue=ve-ge,ye=ge-(ve-ue)+(me-ue),me=ye-be,ue=ye-me,l[1]=ye-(me+ue)+(ue-be),xe=ve+me,ue=xe-ve,l[2]=ve-(xe-ue)+(me-ue),l[3]=xe,ge=we*Me,ce=i.splitter*we,de=ce-(ce-we),he=we-de,ce=i.splitter*Me,fe=ce-(ce-Me),pe=Me-fe,_e=he*pe-(ge-de*fe-he*fe-de*pe),be=ke*Pe,ce=i.splitter*ke,de=ce-(ce-ke),he=ke-de,ce=i.splitter*Pe,fe=ce-(ce-Pe),pe=Pe-fe,je=he*pe-(be-de*fe-he*fe-de*pe),me=_e-je,ue=_e-me,u[0]=_e-(me+ue)+(ue-je),ve=ge+me,ue=ve-ge,ye=ge-(ve-ue)+(me-ue),me=ye-be,ue=ye-me,u[1]=ye-(me+ue)+(ue-be),xe=ve+me,ue=xe-ve,u[2]=ve-(xe-ue)+(me-ue),u[3]=xe,H=(0,i.sum)((0,i.sum)((0,i.sum)((0,i.scale)((0,i.scale)(4,o,we,M),M,we,O),O,(0,i.scale)((0,i.scale)(4,o,Pe,M),M,Pe,L),L,A),A,(0,i.sum)((0,i.scale)((0,i.scale)(4,l,ke,M),M,ke,O),O,(0,i.scale)((0,i.scale)(4,l,Me,M),M,Me,L),L,C),C,D),D,(0,i.sum)((0,i.scale)((0,i.scale)(4,u,Se,M),M,Se,O),O,(0,i.scale)((0,i.scale)(4,u,Oe,M),M,Oe,L),L,A),A,I);let Le=(0,i.estimate)(H,I),Ee=a*F;if(Le>=Ee||-Le>=Ee)return Le;if(ue=e-we,W=e-(we+ue)+(ue-R),ue=t-Pe,U=t-(Pe+ue)+(ue-B),ue=n-ke,Z=n-(ke+ue)+(ue-R),ue=r-Me,Y=r-(Me+ue)+(ue-B),ue=N-Se,V=N-(Se+ue)+(ue-R),ue=q-Oe,G=q-(Oe+ue)+(ue-B),0===W&&0===Z&&0===V&&0===U&&0===Y&&0===G)return Le;if(Ee=s*F+i.resulterrbound*Math.abs(Le),Le+=(we*we+Pe*Pe)*(ke*G+Oe*Z-(Me*V+Se*Y))+2*(we*W+Pe*U)*(ke*Oe-Me*Se)+((ke*ke+Me*Me)*(Se*U+Pe*V-(Oe*W+we*G))+2*(ke*Z+Me*Y)*(Se*Pe-Oe*we))+((Se*Se+Oe*Oe)*(we*Y+Me*W-(Pe*Z+ke*U))+2*(Se*V+Oe*G)*(we*Me-Pe*ke)),Le>=Ee||-Le>=Ee)return Le;0===Z&&0===Y&&0===V&&0===G||(ge=we*we,ce=i.splitter*we,de=ce-(ce-we),he=we-de,_e=he*he-(ge-de*de-(de+de)*he),be=Pe*Pe,ce=i.splitter*Pe,de=ce-(ce-Pe),he=Pe-de,je=he*he-(be-de*de-(de+de)*he),me=_e+je,ue=me-_e,c[0]=_e-(me-ue)+(je-ue),ve=ge+me,ue=ve-ge,ye=ge-(ve-ue)+(me-ue),me=ye+be,ue=me-ye,c[1]=ye-(me-ue)+(be-ue),xe=ve+me,ue=xe-ve,c[2]=ve-(xe-ue)+(me-ue),c[3]=xe);0===V&&0===G&&0===W&&0===U||(ge=ke*ke,ce=i.splitter*ke,de=ce-(ce-ke),he=ke-de,_e=he*he-(ge-de*de-(de+de)*he),be=Me*Me,ce=i.splitter*Me,de=ce-(ce-Me),he=Me-de,je=he*he-(be-de*de-(de+de)*he),me=_e+je,ue=me-_e,d[0]=_e-(me-ue)+(je-ue),ve=ge+me,ue=ve-ge,ye=ge-(ve-ue)+(me-ue),me=ye+be,ue=me-ye,d[1]=ye-(me-ue)+(be-ue),xe=ve+me,ue=xe-ve,d[2]=ve-(xe-ue)+(me-ue),d[3]=xe);0===W&&0===U&&0===Z&&0===Y||(ge=Se*Se,ce=i.splitter*Se,de=ce-(ce-Se),he=Se-de,_e=he*he-(ge-de*de-(de+de)*he),be=Oe*Oe,ce=i.splitter*Oe,de=ce-(ce-Oe),he=Oe-de,je=he*he-(be-de*de-(de+de)*he),me=_e+je,ue=me-_e,h[0]=_e-(me-ue)+(je-ue),ve=ge+me,ue=ve-ge,ye=ge-(ve-ue)+(me-ue),me=ye+be,ue=me-ye,h[1]=ye-(me-ue)+(be-ue),xe=ve+me,ue=xe-ve,h[2]=ve-(xe-ue)+(me-ue),h[3]=xe);0!==W&&(X=(0,i.scale)(4,o,W,m),H=z(H,(0,i.sum_three)((0,i.scale)(X,m,2*we,O),O,(0,i.scale)((0,i.scale)(4,h,W,M),M,Me,L),L,(0,i.scale)((0,i.scale)(4,d,W,M),M,-Oe,E),E,A,T),T));0!==U&&(K=(0,i.scale)(4,o,U,v),H=z(H,(0,i.sum_three)((0,i.scale)(K,v,2*Pe,O),O,(0,i.scale)((0,i.scale)(4,d,U,M),M,Se,L),L,(0,i.scale)((0,i.scale)(4,h,U,M),M,-ke,E),E,A,T),T));0!==Z&&($=(0,i.scale)(4,l,Z,y),H=z(H,(0,i.sum_three)((0,i.scale)($,y,2*ke,O),O,(0,i.scale)((0,i.scale)(4,c,Z,M),M,Oe,L),L,(0,i.scale)((0,i.scale)(4,h,Z,M),M,-Pe,E),E,A,T),T));0!==Y&&(J=(0,i.scale)(4,l,Y,g),H=z(H,(0,i.sum_three)((0,i.scale)(J,g,2*Me,O),O,(0,i.scale)((0,i.scale)(4,h,Y,M),M,we,L),L,(0,i.scale)((0,i.scale)(4,c,Y,M),M,-Se,E),E,A,T),T));0!==V&&(Q=(0,i.scale)(4,u,V,_),H=z(H,(0,i.sum_three)((0,i.scale)(Q,_,2*Se,O),O,(0,i.scale)((0,i.scale)(4,d,V,M),M,Pe,L),L,(0,i.scale)((0,i.scale)(4,c,V,M),M,-Me,E),E,A,T),T));0!==G&&(ee=(0,i.scale)(4,u,G,b),H=z(H,(0,i.sum_three)((0,i.scale)(ee,b,2*Oe,O),O,(0,i.scale)((0,i.scale)(4,c,G,M),M,ke,L),L,(0,i.scale)((0,i.scale)(4,d,G,M),M,-we,E),E,A,T),T));if(0!==W||0!==U){if(0!==Z||0!==Y||0!==V||0!==G?(ge=Z*Oe,ce=i.splitter*Z,de=ce-(ce-Z),he=Z-de,ce=i.splitter*Oe,fe=ce-(ce-Oe),pe=Oe-fe,_e=he*pe-(ge-de*fe-he*fe-de*pe),be=ke*G,ce=i.splitter*ke,de=ce-(ce-ke),he=ke-de,ce=i.splitter*G,fe=ce-(ce-G),pe=G-fe,je=he*pe-(be-de*fe-he*fe-de*pe),me=_e+je,ue=me-_e,f[0]=_e-(me-ue)+(je-ue),ve=ge+me,ue=ve-ge,ye=ge-(ve-ue)+(me-ue),me=ye+be,ue=me-ye,f[1]=ye-(me-ue)+(be-ue),xe=ve+me,ue=xe-ve,f[2]=ve-(xe-ue)+(me-ue),f[3]=xe,ge=V*-Me,ce=i.splitter*V,de=ce-(ce-V),he=V-de,ce=i.splitter*-Me,fe=ce-(ce- -Me),pe=-Me-fe,_e=he*pe-(ge-de*fe-he*fe-de*pe),be=Se*-Y,ce=i.splitter*Se,de=ce-(ce-Se),he=Se-de,ce=i.splitter*-Y,fe=ce-(ce- -Y),pe=-Y-fe,je=he*pe-(be-de*fe-he*fe-de*pe),me=_e+je,ue=me-_e,p[0]=_e-(me-ue)+(je-ue),ve=ge+me,ue=ve-ge,ye=ge-(ve-ue)+(me-ue),me=ye+be,ue=me-ye,p[1]=ye-(me-ue)+(be-ue),xe=ve+me,ue=xe-ve,p[2]=ve-(xe-ue)+(me-ue),p[3]=xe,ne=(0,i.sum)(4,f,4,p,x),ge=Z*G,ce=i.splitter*Z,de=ce-(ce-Z),he=Z-de,ce=i.splitter*G,fe=ce-(ce-G),pe=G-fe,_e=he*pe-(ge-de*fe-he*fe-de*pe),be=V*Y,ce=i.splitter*V,de=ce-(ce-V),he=V-de,ce=i.splitter*Y,fe=ce-(ce-Y),pe=Y-fe,je=he*pe-(be-de*fe-he*fe-de*pe),me=_e-je,ue=_e-me,S[0]=_e-(me+ue)+(ue-je),ve=ge+me,ue=ve-ge,ye=ge-(ve-ue)+(me-ue),me=ye-be,ue=ye-me,S[1]=ye-(me+ue)+(ue-be),xe=ve+me,ue=xe-ve,S[2]=ve-(xe-ue)+(me-ue),S[3]=xe,ae=4):(x[0]=0,ne=1,S[0]=0,ae=1),0!==W){const e=(0,i.scale)(ne,x,W,E);H=z(H,(0,i.sum)((0,i.scale)(X,m,W,O),O,(0,i.scale)(e,E,2*we,A),A,T),T);const t=(0,i.scale)(ae,S,W,M);H=z(H,(0,i.sum_three)((0,i.scale)(t,M,2*we,O),O,(0,i.scale)(t,M,W,L),L,(0,i.scale)(e,E,W,A),A,C,D),D),0!==Y&&(H=z(H,(0,i.scale)((0,i.scale)(4,h,W,M),M,Y,O),O)),0!==G&&(H=z(H,(0,i.scale)((0,i.scale)(4,d,-W,M),M,G,O),O))}if(0!==U){const e=(0,i.scale)(ne,x,U,E);H=z(H,(0,i.sum)((0,i.scale)(K,v,U,O),O,(0,i.scale)(e,E,2*Pe,A),A,T),T);const t=(0,i.scale)(ae,S,U,M);H=z(H,(0,i.sum_three)((0,i.scale)(t,M,2*Pe,O),O,(0,i.scale)(t,M,U,L),L,(0,i.scale)(e,E,U,A),A,C,D),D)}}if(0!==Z||0!==Y){if(0!==V||0!==G||0!==W||0!==U?(ge=V*Pe,ce=i.splitter*V,de=ce-(ce-V),he=V-de,ce=i.splitter*Pe,fe=ce-(ce-Pe),pe=Pe-fe,_e=he*pe-(ge-de*fe-he*fe-de*pe),be=Se*U,ce=i.splitter*Se,de=ce-(ce-Se),he=Se-de,ce=i.splitter*U,fe=ce-(ce-U),pe=U-fe,je=he*pe-(be-de*fe-he*fe-de*pe),me=_e+je,ue=me-_e,f[0]=_e-(me-ue)+(je-ue),ve=ge+me,ue=ve-ge,ye=ge-(ve-ue)+(me-ue),me=ye+be,ue=me-ye,f[1]=ye-(me-ue)+(be-ue),xe=ve+me,ue=xe-ve,f[2]=ve-(xe-ue)+(me-ue),f[3]=xe,oe=-Oe,le=-G,ge=W*oe,ce=i.splitter*W,de=ce-(ce-W),he=W-de,ce=i.splitter*oe,fe=ce-(ce-oe),pe=oe-fe,_e=he*pe-(ge-de*fe-he*fe-de*pe),be=we*le,ce=i.splitter*we,de=ce-(ce-we),he=we-de,ce=i.splitter*le,fe=ce-(ce-le),pe=le-fe,je=he*pe-(be-de*fe-he*fe-de*pe),me=_e+je,ue=me-_e,p[0]=_e-(me-ue)+(je-ue),ve=ge+me,ue=ve-ge,ye=ge-(ve-ue)+(me-ue),me=ye+be,ue=me-ye,p[1]=ye-(me-ue)+(be-ue),xe=ve+me,ue=xe-ve,p[2]=ve-(xe-ue)+(me-ue),p[3]=xe,ie=(0,i.sum)(4,f,4,p,w),ge=V*U,ce=i.splitter*V,de=ce-(ce-V),he=V-de,ce=i.splitter*U,fe=ce-(ce-U),pe=U-fe,_e=he*pe-(ge-de*fe-he*fe-de*pe),be=W*G,ce=i.splitter*W,de=ce-(ce-W),he=W-de,ce=i.splitter*G,fe=ce-(ce-G),pe=G-fe,je=he*pe-(be-de*fe-he*fe-de*pe),me=_e-je,ue=_e-me,P[0]=_e-(me+ue)+(ue-je),ve=ge+me,ue=ve-ge,ye=ge-(ve-ue)+(me-ue),me=ye-be,ue=ye-me,P[1]=ye-(me+ue)+(ue-be),xe=ve+me,ue=xe-ve,P[2]=ve-(xe-ue)+(me-ue),P[3]=xe,se=4):(w[0]=0,ie=1,P[0]=0,se=1),0!==Z){const e=(0,i.scale)(ie,w,Z,E);H=z(H,(0,i.sum)((0,i.scale)($,y,Z,O),O,(0,i.scale)(e,E,2*ke,A),A,T),T);const t=(0,i.scale)(se,P,Z,M);H=z(H,(0,i.sum_three)((0,i.scale)(t,M,2*ke,O),O,(0,i.scale)(t,M,Z,L),L,(0,i.scale)(e,E,Z,A),A,C,D),D),0!==G&&(H=z(H,(0,i.scale)((0,i.scale)(4,c,Z,M),M,G,O),O)),0!==U&&(H=z(H,(0,i.scale)((0,i.scale)(4,h,-Z,M),M,U,O),O))}if(0!==Y){const e=(0,i.scale)(ie,w,Y,E);H=z(H,(0,i.sum)((0,i.scale)(J,g,Y,O),O,(0,i.scale)(e,E,2*Me,A),A,T),T);const t=(0,i.scale)(se,P,Y,M);H=z(H,(0,i.sum_three)((0,i.scale)(t,M,2*Me,O),O,(0,i.scale)(t,M,Y,L),L,(0,i.scale)(e,E,Y,A),A,C,D),D)}}if(0!==V||0!==G){if(0!==W||0!==U||0!==Z||0!==Y?(ge=W*Me,ce=i.splitter*W,de=ce-(ce-W),he=W-de,ce=i.splitter*Me,fe=ce-(ce-Me),pe=Me-fe,_e=he*pe-(ge-de*fe-he*fe-de*pe),be=we*Y,ce=i.splitter*we,de=ce-(ce-we),he=we-de,ce=i.splitter*Y,fe=ce-(ce-Y),pe=Y-fe,je=he*pe-(be-de*fe-he*fe-de*pe),me=_e+je,ue=me-_e,f[0]=_e-(me-ue)+(je-ue),ve=ge+me,ue=ve-ge,ye=ge-(ve-ue)+(me-ue),me=ye+be,ue=me-ye,f[1]=ye-(me-ue)+(be-ue),xe=ve+me,ue=xe-ve,f[2]=ve-(xe-ue)+(me-ue),f[3]=xe,oe=-Pe,le=-U,ge=Z*oe,ce=i.splitter*Z,de=ce-(ce-Z),he=Z-de,ce=i.splitter*oe,fe=ce-(ce-oe),pe=oe-fe,_e=he*pe-(ge-de*fe-he*fe-de*pe),be=ke*le,ce=i.splitter*ke,de=ce-(ce-ke),he=ke-de,ce=i.splitter*le,fe=ce-(ce-le),pe=le-fe,je=he*pe-(be-de*fe-he*fe-de*pe),me=_e+je,ue=me-_e,p[0]=_e-(me-ue)+(je-ue),ve=ge+me,ue=ve-ge,ye=ge-(ve-ue)+(me-ue),me=ye+be,ue=me-ye,p[1]=ye-(me-ue)+(be-ue),xe=ve+me,ue=xe-ve,p[2]=ve-(xe-ue)+(me-ue),p[3]=xe,te=(0,i.sum)(4,f,4,p,j),ge=W*Y,ce=i.splitter*W,de=ce-(ce-W),he=W-de,ce=i.splitter*Y,fe=ce-(ce-Y),pe=Y-fe,_e=he*pe-(ge-de*fe-he*fe-de*pe),be=Z*U,ce=i.splitter*Z,de=ce-(ce-Z),he=Z-de,ce=i.splitter*U,fe=ce-(ce-U),pe=U-fe,je=he*pe-(be-de*fe-he*fe-de*pe),me=_e-je,ue=_e-me,k[0]=_e-(me+ue)+(ue-je),ve=ge+me,ue=ve-ge,ye=ge-(ve-ue)+(me-ue),me=ye-be,ue=ye-me,k[1]=ye-(me+ue)+(ue-be),xe=ve+me,ue=xe-ve,k[2]=ve-(xe-ue)+(me-ue),k[3]=xe,re=4):(j[0]=0,te=1,k[0]=0,re=1),0!==V){const e=(0,i.scale)(te,j,V,E);H=z(H,(0,i.sum)((0,i.scale)(Q,_,V,O),O,(0,i.scale)(e,E,2*Se,A),A,T),T);const t=(0,i.scale)(re,k,V,M);H=z(H,(0,i.sum_three)((0,i.scale)(t,M,2*Se,O),O,(0,i.scale)(t,M,V,L),L,(0,i.scale)(e,E,V,A),A,C,D),D),0!==U&&(H=z(H,(0,i.scale)((0,i.scale)(4,d,V,M),M,U,O),O)),0!==Y&&(H=z(H,(0,i.scale)((0,i.scale)(4,c,-V,M),M,Y,O),O))}if(0!==G){const e=(0,i.scale)(te,j,G,E);H=z(H,(0,i.sum)((0,i.scale)(ee,b,G,O),O,(0,i.scale)(e,E,2*Oe,A),A,T),T);const t=(0,i.scale)(re,k,G,M);H=z(H,(0,i.sum_three)((0,i.scale)(t,M,2*Oe,O),O,(0,i.scale)(t,M,G,L),L,(0,i.scale)(e,E,G,A),A,C,D),D)}}return I[H-1]}(e,t,n,N,q,R,B,F,re)},n.incirclefast=function(e,t,n,i,r,a,s,o){const l=e-s,u=t-o,c=n-s,d=i-o,h=r-s,f=a-o;return(l*l+u*u)*(c*f-h*d)+(c*c+d*d)*(h*u-l*f)+(h*h+f*f)*(l*d-c*u)};var i=e("./util.js");const r=(10+96*i.epsilon)*i.epsilon,a=(4+48*i.epsilon)*i.epsilon,s=(44+576*i.epsilon)*i.epsilon*i.epsilon,o=(0,i.vec)(4),l=(0,i.vec)(4),u=(0,i.vec)(4),c=(0,i.vec)(4),d=(0,i.vec)(4),h=(0,i.vec)(4),f=(0,i.vec)(4),p=(0,i.vec)(4),m=(0,i.vec)(8),v=(0,i.vec)(8),y=(0,i.vec)(8),g=(0,i.vec)(8),_=(0,i.vec)(8),b=(0,i.vec)(8),j=(0,i.vec)(8),x=(0,i.vec)(8),w=(0,i.vec)(8),k=(0,i.vec)(4),S=(0,i.vec)(4),P=(0,i.vec)(4),M=(0,i.vec)(8),O=(0,i.vec)(16),L=(0,i.vec)(16),E=(0,i.vec)(16),A=(0,i.vec)(32),C=(0,i.vec)(32),T=(0,i.vec)(48),D=(0,i.vec)(64);let I=(0,i.vec)(1152),N=(0,i.vec)(1152);function z(e,t,n){e=(0,i.sum)(e,I,t,n,N);const r=I;return I=N,N=r,e}},{"./util.js":879}],876:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.insphere=function(e,t,n,i,a,s,o,l,u,c,d,h,f,p,m){const v=e-f,y=i-f,g=o-f,_=c-f,b=t-p,j=a-p,x=l-p,w=d-p,k=n-m,S=s-m,P=u-m,M=h-m,O=v*j,L=y*b,E=O-L,A=y*x,C=g*j,T=A-C,D=g*w,I=_*x,N=D-I,z=_*b,q=v*w,R=z-q,B=v*x,F=g*b,H=B-F,W=y*w,Z=_*j,V=W-Z,U=v*v+b*b+k*k,Y=y*y+j*j+S*S,G=g*g+x*x+P*P,X=_*_+w*w+M*M,K=G*(M*E+k*V+S*R)-X*(k*T-S*H+P*E)+(U*(S*N-P*V+M*T)-Y*(P*R+M*H+k*N)),$=Math.abs(k),J=Math.abs(S),Q=Math.abs(P),ee=Math.abs(M),te=Math.abs(O),ie=Math.abs(L),re=Math.abs(A),ae=Math.abs(C),se=Math.abs(D),oe=Math.abs(I),le=Math.abs(z),ue=Math.abs(q),ce=Math.abs(B),de=Math.abs(F),he=Math.abs(W),fe=Math.abs(Z),pe=((se+oe)*J+(fe+he)*Q+(re+ae)*ee)*U+((le+ue)*Q+(ce+de)*ee+(se+oe)*$)*Y+((te+ie)*ee+(he+fe)*$+(le+ue)*J)*G+((re+ae)*$+(de+ce)*J+(te+ie)*Q)*X,me=r*pe;if(K>me||-K>me)return K;return-ne(e,t,n,i,a,s,o,l,u,c,d,h,f,p,m,pe)},n.inspherefast=function(e,t,n,i,r,a,s,o,l,u,c,d,h,f,p){const m=e-h,v=i-h,y=s-h,g=u-h,_=t-f,b=r-f,j=o-f,x=c-f,w=n-p,k=a-p,S=l-p,P=d-p,M=m*b-v*_,O=v*j-y*b,L=y*x-g*j,E=g*_-m*x,A=m*j-y*_,C=v*x-g*b;return(y*y+j*j+S*S)*(P*M+w*C+k*E)-(g*g+x*x+P*P)*(w*O-k*A+S*M)+((m*m+_*_+w*w)*(k*L-S*C+P*O)-(v*v+b*b+k*k)*(S*E+P*A+w*L))};var i=e("./util.js");const r=(16+224*i.epsilon)*i.epsilon,a=(5+72*i.epsilon)*i.epsilon,s=(71+1408*i.epsilon)*i.epsilon*i.epsilon,o=(0,i.vec)(4),l=(0,i.vec)(4),u=(0,i.vec)(4),c=(0,i.vec)(4),d=(0,i.vec)(4),h=(0,i.vec)(4),f=(0,i.vec)(4),p=(0,i.vec)(4),m=(0,i.vec)(4),v=(0,i.vec)(4),y=(0,i.vec)(24),g=(0,i.vec)(24),_=(0,i.vec)(24),b=(0,i.vec)(24),j=(0,i.vec)(24),x=(0,i.vec)(24),w=(0,i.vec)(24),k=(0,i.vec)(24),S=(0,i.vec)(24),P=(0,i.vec)(24),M=(0,i.vec)(1152),O=(0,i.vec)(1152),L=(0,i.vec)(1152),E=(0,i.vec)(1152),A=(0,i.vec)(1152),C=(0,i.vec)(2304),T=(0,i.vec)(2304),D=(0,i.vec)(3456),I=(0,i.vec)(5760),N=(0,i.vec)(8),z=(0,i.vec)(8),q=(0,i.vec)(8),R=(0,i.vec)(16),B=(0,i.vec)(24),F=(0,i.vec)(48),H=(0,i.vec)(48),W=(0,i.vec)(96),Z=(0,i.vec)(192),V=(0,i.vec)(384),U=(0,i.vec)(384),Y=(0,i.vec)(384),G=(0,i.vec)(768);function X(e,t,n,r,a,s,o){return(0,i.sum_three)((0,i.scale)(4,e,r,N),N,(0,i.scale)(4,t,a,z),z,(0,i.scale)(4,n,s,q),q,R,o)}function K(e,t,n,r,a,s,o,l,u,c,d,h){const f=(0,i.sum)((0,i.sum)(e,t,n,r,F),F,(0,i.negate)((0,i.sum)(a,s,o,l,H),H),H,W);return(0,i.sum_three)((0,i.scale)((0,i.scale)(f,W,u,Z),Z,u,V),V,(0,i.scale)((0,i.scale)(f,W,c,Z),Z,c,U),U,(0,i.scale)((0,i.scale)(f,W,d,Z),Z,d,Y),Y,G,h)}const $=(0,i.vec)(96),J=(0,i.vec)(96),Q=(0,i.vec)(96),ee=(0,i.vec)(1152);function te(e,t,n,r,a,s,o,l,u,c){const d=X(e,t,n,r,a,s,B);return(0,i.sum_three)((0,i.scale)((0,i.scale)(d,B,o,F),F,o,$),$,(0,i.scale)((0,i.scale)(d,B,l,F),F,l,J),J,(0,i.scale)((0,i.scale)(d,B,u,F),F,u,Q),Q,Z,c)}function ne(e,t,n,r,N,z,q,R,B,F,H,W,Z,V,U,Y){let G,$,J,Q,ne,ie,re,ae,se,oe,le,ue,ce,de,he,fe,pe,me,ve,ye,ge,_e,be,je,xe,we,ke,Se,Pe,Me,Oe;const Le=e-Z,Ee=r-Z,Ae=q-Z,Ce=F-Z,Te=t-V,De=N-V,Ie=R-V,Ne=H-V,ze=n-U,qe=z-U,Re=B-U,Be=W-U;Se=Le*De,ye=i.splitter*Le,ge=ye-(ye-Le),_e=Le-ge,ye=i.splitter*De,be=ye-(ye-De),je=De-be,Pe=_e*je-(Se-ge*be-_e*be-ge*je),Me=Ee*Te,ye=i.splitter*Ee,ge=ye-(ye-Ee),_e=Ee-ge,ye=i.splitter*Te,be=ye-(ye-Te),je=Te-be,Oe=_e*je-(Me-ge*be-_e*be-ge*je),xe=Pe-Oe,ve=Pe-xe,o[0]=Pe-(xe+ve)+(ve-Oe),we=Se+xe,ve=we-Se,ke=Se-(we-ve)+(xe-ve),xe=ke-Me,ve=ke-xe,o[1]=ke-(xe+ve)+(ve-Me),G=we+xe,ve=G-we,o[2]=we-(G-ve)+(xe-ve),o[3]=G,Se=Ee*Ie,ye=i.splitter*Ee,ge=ye-(ye-Ee),_e=Ee-ge,ye=i.splitter*Ie,be=ye-(ye-Ie),je=Ie-be,Pe=_e*je-(Se-ge*be-_e*be-ge*je),Me=Ae*De,ye=i.splitter*Ae,ge=ye-(ye-Ae),_e=Ae-ge,ye=i.splitter*De,be=ye-(ye-De),je=De-be,Oe=_e*je-(Me-ge*be-_e*be-ge*je),xe=Pe-Oe,ve=Pe-xe,l[0]=Pe-(xe+ve)+(ve-Oe),we=Se+xe,ve=we-Se,ke=Se-(we-ve)+(xe-ve),xe=ke-Me,ve=ke-xe,l[1]=ke-(xe+ve)+(ve-Me),$=we+xe,ve=$-we,l[2]=we-($-ve)+(xe-ve),l[3]=$,Se=Ae*Ne,ye=i.splitter*Ae,ge=ye-(ye-Ae),_e=Ae-ge,ye=i.splitter*Ne,be=ye-(ye-Ne),je=Ne-be,Pe=_e*je-(Se-ge*be-_e*be-ge*je),Me=Ce*Ie,ye=i.splitter*Ce,ge=ye-(ye-Ce),_e=Ce-ge,ye=i.splitter*Ie,be=ye-(ye-Ie),je=Ie-be,Oe=_e*je-(Me-ge*be-_e*be-ge*je),xe=Pe-Oe,ve=Pe-xe,u[0]=Pe-(xe+ve)+(ve-Oe),we=Se+xe,ve=we-Se,ke=Se-(we-ve)+(xe-ve),xe=ke-Me,ve=ke-xe,u[1]=ke-(xe+ve)+(ve-Me),J=we+xe,ve=J-we,u[2]=we-(J-ve)+(xe-ve),u[3]=J,Se=Ce*Te,ye=i.splitter*Ce,ge=ye-(ye-Ce),_e=Ce-ge,ye=i.splitter*Te,be=ye-(ye-Te),je=Te-be,Pe=_e*je-(Se-ge*be-_e*be-ge*je),Me=Le*Ne,ye=i.splitter*Le,ge=ye-(ye-Le),_e=Le-ge,ye=i.splitter*Ne,be=ye-(ye-Ne),je=Ne-be,Oe=_e*je-(Me-ge*be-_e*be-ge*je),xe=Pe-Oe,ve=Pe-xe,m[0]=Pe-(xe+ve)+(ve-Oe),we=Se+xe,ve=we-Se,ke=Se-(we-ve)+(xe-ve),xe=ke-Me,ve=ke-xe,m[1]=ke-(xe+ve)+(ve-Me),Q=we+xe,ve=Q-we,m[2]=we-(Q-ve)+(xe-ve),m[3]=Q,Se=Le*Ie,ye=i.splitter*Le,ge=ye-(ye-Le),_e=Le-ge,ye=i.splitter*Ie,be=ye-(ye-Ie),je=Ie-be,Pe=_e*je-(Se-ge*be-_e*be-ge*je),Me=Ae*Te,ye=i.splitter*Ae,ge=ye-(ye-Ae),_e=Ae-ge,ye=i.splitter*Te,be=ye-(ye-Te),je=Te-be,Oe=_e*je-(Me-ge*be-_e*be-ge*je),xe=Pe-Oe,ve=Pe-xe,h[0]=Pe-(xe+ve)+(ve-Oe),we=Se+xe,ve=we-Se,ke=Se-(we-ve)+(xe-ve),xe=ke-Me,ve=ke-xe,h[1]=ke-(xe+ve)+(ve-Me),ne=we+xe,ve=ne-we,h[2]=we-(ne-ve)+(xe-ve),h[3]=ne,Se=Ee*Ne,ye=i.splitter*Ee,ge=ye-(ye-Ee),_e=Ee-ge,ye=i.splitter*Ne,be=ye-(ye-Ne),je=Ne-be,Pe=_e*je-(Se-ge*be-_e*be-ge*je),Me=Ce*De,ye=i.splitter*Ce,ge=ye-(ye-Ce),_e=Ce-ge,ye=i.splitter*De,be=ye-(ye-De),je=De-be,Oe=_e*je-(Me-ge*be-_e*be-ge*je),xe=Pe-Oe,ve=Pe-xe,f[0]=Pe-(xe+ve)+(ve-Oe),we=Se+xe,ve=we-Se,ke=Se-(we-ve)+(xe-ve),xe=ke-Me,ve=ke-xe,f[1]=ke-(xe+ve)+(ve-Me),ie=we+xe,ve=ie-we,f[2]=we-(ie-ve)+(xe-ve),f[3]=ie;const Fe=(0,i.sum)((0,i.sum)((0,i.negate)(te(l,u,f,Be,qe,-Re,Le,Te,ze,M),M),M,te(u,m,h,ze,Re,Be,Ee,De,qe,O),O,C),C,(0,i.sum)((0,i.negate)(te(m,o,f,qe,Be,ze,Ae,Ie,Re,L),L),L,te(o,l,h,Re,ze,-qe,Ce,Ne,Be,E),E,T),T,ee);let He=(0,i.estimate)(Fe,ee),We=a*Y;if(He>=We||-He>=We)return He;if(ve=e-Le,re=e-(Le+ve)+(ve-Z),ve=t-Te,le=t-(Te+ve)+(ve-V),ve=n-ze,he=n-(ze+ve)+(ve-U),ve=r-Ee,ae=r-(Ee+ve)+(ve-Z),ve=N-De,ue=N-(De+ve)+(ve-V),ve=z-qe,fe=z-(qe+ve)+(ve-U),ve=q-Ae,se=q-(Ae+ve)+(ve-Z),ve=R-Ie,ce=R-(Ie+ve)+(ve-V),ve=B-Re,pe=B-(Re+ve)+(ve-U),ve=F-Ce,oe=F-(Ce+ve)+(ve-Z),ve=H-Ne,de=H-(Ne+ve)+(ve-V),ve=W-Be,me=W-(Be+ve)+(ve-U),0===re&&0===le&&0===he&&0===ae&&0===ue&&0===fe&&0===se&&0===ce&&0===pe&&0===oe&&0===de&&0===me)return He;We=s*Y+i.resulterrbound*Math.abs(He);const Ze=Le*ue+De*re-(Te*ae+Ee*le),Ve=Ee*ce+Ie*ae-(De*se+Ae*ue),Ue=Ae*de+Ne*se-(Ie*oe+Ce*ce),Ye=Ce*le+Te*oe-(Ne*re+Le*de),Ge=Le*ce+Ie*re-(Te*se+Ae*le),Xe=Ee*de+Ne*ae-(De*oe+Ce*ue);return He+=(Ee*Ee+De*De+qe*qe)*(Re*Ye+Be*Ge+ze*Ue+(pe*Q+me*ne+he*J))+(Ce*Ce+Ne*Ne+Be*Be)*(ze*Ve-qe*Ge+Re*Ze+(he*$-fe*ne+pe*G))-((Le*Le+Te*Te+ze*ze)*(qe*Ue-Re*Xe+Be*Ve+(fe*J-pe*ie+me*$))+(Ae*Ae+Ie*Ie+Re*Re)*(Be*Ze+ze*Xe+qe*Ye+(me*G+he*ie+fe*Q)))+2*((Ee*ae+De*ue+qe*fe)*(Re*Q+Be*ne+ze*J)+(Ce*oe+Ne*de+Be*me)*(ze*$-qe*ne+Re*G)-((Le*re+Te*le+ze*he)*(qe*J-Re*ie+Be*$)+(Ae*se+Ie*ce+Re*pe)*(Be*G+ze*ie+qe*Q))),He>=We||-He>=We?He:function(e,t,n,r,a,s,N,z,q,R,B,F,H,W,Z){let V,U,Y,G,$,J,Q,ee,te,ne,ie,re,ae,se;ne=e*a,U=i.splitter*e,Y=U-(U-e),G=e-Y,U=i.splitter*a,$=U-(U-a),J=a-$,ie=G*J-(ne-Y*$-G*$-Y*J),re=r*t,U=i.splitter*r,Y=U-(U-r),G=r-Y,U=i.splitter*t,$=U-(U-t),J=t-$,ae=G*J-(re-Y*$-G*$-Y*J),Q=ie-ae,V=ie-Q,o[0]=ie-(Q+V)+(V-ae),ee=ne+Q,V=ee-ne,te=ne-(ee-V)+(Q-V),Q=te-re,V=te-Q,o[1]=te-(Q+V)+(V-re),se=ee+Q,V=se-ee,o[2]=ee-(se-V)+(Q-V),o[3]=se,ne=r*z,U=i.splitter*r,Y=U-(U-r),G=r-Y,U=i.splitter*z,$=U-(U-z),J=z-$,ie=G*J-(ne-Y*$-G*$-Y*J),re=N*a,U=i.splitter*N,Y=U-(U-N),G=N-Y,U=i.splitter*a,$=U-(U-a),J=a-$,ae=G*J-(re-Y*$-G*$-Y*J),Q=ie-ae,V=ie-Q,l[0]=ie-(Q+V)+(V-ae),ee=ne+Q,V=ee-ne,te=ne-(ee-V)+(Q-V),Q=te-re,V=te-Q,l[1]=te-(Q+V)+(V-re),se=ee+Q,V=se-ee,l[2]=ee-(se-V)+(Q-V),l[3]=se,ne=N*B,U=i.splitter*N,Y=U-(U-N),G=N-Y,U=i.splitter*B,$=U-(U-B),J=B-$,ie=G*J-(ne-Y*$-G*$-Y*J),re=R*z,U=i.splitter*R,Y=U-(U-R),G=R-Y,U=i.splitter*z,$=U-(U-z),J=z-$,ae=G*J-(re-Y*$-G*$-Y*J),Q=ie-ae,V=ie-Q,u[0]=ie-(Q+V)+(V-ae),ee=ne+Q,V=ee-ne,te=ne-(ee-V)+(Q-V),Q=te-re,V=te-Q,u[1]=te-(Q+V)+(V-re),se=ee+Q,V=se-ee,u[2]=ee-(se-V)+(Q-V),u[3]=se,ne=R*W,U=i.splitter*R,Y=U-(U-R),G=R-Y,U=i.splitter*W,$=U-(U-W),J=W-$,ie=G*J-(ne-Y*$-G*$-Y*J),re=H*B,U=i.splitter*H,Y=U-(U-H),G=H-Y,U=i.splitter*B,$=U-(U-B),J=B-$,ae=G*J-(re-Y*$-G*$-Y*J),Q=ie-ae,V=ie-Q,c[0]=ie-(Q+V)+(V-ae),ee=ne+Q,V=ee-ne,te=ne-(ee-V)+(Q-V),Q=te-re,V=te-Q,c[1]=te-(Q+V)+(V-re),se=ee+Q,V=se-ee,c[2]=ee-(se-V)+(Q-V),c[3]=se,ne=H*t,U=i.splitter*H,Y=U-(U-H),G=H-Y,U=i.splitter*t,$=U-(U-t),J=t-$,ie=G*J-(ne-Y*$-G*$-Y*J),re=e*W,U=i.splitter*e,Y=U-(U-e),G=e-Y,U=i.splitter*W,$=U-(U-W),J=W-$,ae=G*J-(re-Y*$-G*$-Y*J),Q=ie-ae,V=ie-Q,d[0]=ie-(Q+V)+(V-ae),ee=ne+Q,V=ee-ne,te=ne-(ee-V)+(Q-V),Q=te-re,V=te-Q,d[1]=te-(Q+V)+(V-re),se=ee+Q,V=se-ee,d[2]=ee-(se-V)+(Q-V),d[3]=se,ne=e*z,U=i.splitter*e,Y=U-(U-e),G=e-Y,U=i.splitter*z,$=U-(U-z),J=z-$,ie=G*J-(ne-Y*$-G*$-Y*J),re=N*t,U=i.splitter*N,Y=U-(U-N),G=N-Y,U=i.splitter*t,$=U-(U-t),J=t-$,ae=G*J-(re-Y*$-G*$-Y*J),Q=ie-ae,V=ie-Q,h[0]=ie-(Q+V)+(V-ae),ee=ne+Q,V=ee-ne,te=ne-(ee-V)+(Q-V),Q=te-re,V=te-Q,h[1]=te-(Q+V)+(V-re),se=ee+Q,V=se-ee,h[2]=ee-(se-V)+(Q-V),h[3]=se,ne=r*B,U=i.splitter*r,Y=U-(U-r),G=r-Y,U=i.splitter*B,$=U-(U-B),J=B-$,ie=G*J-(ne-Y*$-G*$-Y*J),re=R*a,U=i.splitter*R,Y=U-(U-R),G=R-Y,U=i.splitter*a,$=U-(U-a),J=a-$,ae=G*J-(re-Y*$-G*$-Y*J),Q=ie-ae,V=ie-Q,f[0]=ie-(Q+V)+(V-ae),ee=ne+Q,V=ee-ne,te=ne-(ee-V)+(Q-V),Q=te-re,V=te-Q,f[1]=te-(Q+V)+(V-re),se=ee+Q,V=se-ee,f[2]=ee-(se-V)+(Q-V),f[3]=se,ne=N*W,U=i.splitter*N,Y=U-(U-N),G=N-Y,U=i.splitter*W,$=U-(U-W),J=W-$,ie=G*J-(ne-Y*$-G*$-Y*J),re=H*z,U=i.splitter*H,Y=U-(U-H),G=H-Y,U=i.splitter*z,$=U-(U-z),J=z-$,ae=G*J-(re-Y*$-G*$-Y*J),Q=ie-ae,V=ie-Q,p[0]=ie-(Q+V)+(V-ae),ee=ne+Q,V=ee-ne,te=ne-(ee-V)+(Q-V),Q=te-re,V=te-Q,p[1]=te-(Q+V)+(V-re),se=ee+Q,V=se-ee,p[2]=ee-(se-V)+(Q-V),p[3]=se,ne=R*t,U=i.splitter*R,Y=U-(U-R),G=R-Y,U=i.splitter*t,$=U-(U-t),J=t-$,ie=G*J-(ne-Y*$-G*$-Y*J),re=e*B,U=i.splitter*e,Y=U-(U-e),G=e-Y,U=i.splitter*B,$=U-(U-B),J=B-$,ae=G*J-(re-Y*$-G*$-Y*J),Q=ie-ae,V=ie-Q,m[0]=ie-(Q+V)+(V-ae),ee=ne+Q,V=ee-ne,te=ne-(ee-V)+(Q-V),Q=te-re,V=te-Q,m[1]=te-(Q+V)+(V-re),se=ee+Q,V=se-ee,m[2]=ee-(se-V)+(Q-V),m[3]=se,ne=H*a,U=i.splitter*H,Y=U-(U-H),G=H-Y,U=i.splitter*a,$=U-(U-a),J=a-$,ie=G*J-(ne-Y*$-G*$-Y*J),re=r*W,U=i.splitter*r,Y=U-(U-r),G=r-Y,U=i.splitter*W,$=U-(U-W),J=W-$,ae=G*J-(re-Y*$-G*$-Y*J),Q=ie-ae,V=ie-Q,v[0]=ie-(Q+V)+(V-ae),ee=ne+Q,V=ee-ne,te=ne-(ee-V)+(Q-V),Q=te-re,V=te-Q,v[1]=te-(Q+V)+(V-re),se=ee+Q,V=se-ee,v[2]=ee-(se-V)+(Q-V),v[3]=se;const oe=X(o,l,h,q,n,-s,y),le=X(l,u,f,F,s,-q,g),ue=X(u,c,p,Z,q,-F,_),ce=X(c,d,m,n,F,-Z,b),de=X(d,o,v,s,Z,-n,j),he=X(o,f,m,F,n,s,x),fe=X(l,p,v,Z,s,q,w),pe=X(u,m,h,n,q,F,k),me=X(c,v,f,s,F,Z,S),ve=X(d,h,p,q,Z,n,P),ye=(0,i.sum_three)(K(ue,_,fe,w,me,S,le,g,e,t,n,M),M,K(ce,b,pe,k,ve,P,ue,_,r,a,s,O),O,(0,i.sum_three)(K(de,j,me,S,he,x,ce,b,N,z,q,L),L,K(oe,y,ve,P,fe,w,de,j,R,B,F,E),E,K(le,g,he,x,pe,k,oe,y,H,W,Z,A),A,T,D),D,C,I);return I[ye-1]}(e,t,n,r,N,z,q,R,B,F,H,W,Z,V,U)}},{"./util.js":879}],877:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.orient2d=function(e,t,n,h,f,p){const m=(t-p)*(n-f),v=(e-f)*(h-p),y=m-v;if(0===m||0===v||m>0!=v>0)return y;const g=Math.abs(m+v);return Math.abs(y)>=r*g?y:-function(e,t,n,r,h,f,p){let m,v,y,g,_,b,j,x,w,k,S,P,M,O,L,E,A,C;const T=e-h,D=n-h,I=t-f,N=r-f;O=T*N,b=i.splitter*T,j=b-(b-T),x=T-j,b=i.splitter*N,w=b-(b-N),k=N-w,L=x*k-(O-j*w-x*w-j*k),E=I*D,b=i.splitter*I,j=b-(b-I),x=I-j,b=i.splitter*D,w=b-(b-D),k=D-w,A=x*k-(E-j*w-x*w-j*k),S=L-A,_=L-S,o[0]=L-(S+_)+(_-A),P=O+S,_=P-O,M=O-(P-_)+(S-_),S=M-E,_=M-S,o[1]=M-(S+_)+(_-E),C=P+S,_=C-P,o[2]=P-(C-_)+(S-_),o[3]=C;let z=(0,i.estimate)(4,o),q=a*p;if(z>=q||-z>=q)return z;if(_=e-T,m=e-(T+_)+(_-h),_=n-D,y=n-(D+_)+(_-h),_=t-I,v=t-(I+_)+(_-f),_=r-N,g=r-(N+_)+(_-f),0===m&&0===v&&0===y&&0===g)return z;if(q=s*p+i.resulterrbound*Math.abs(z),z+=T*g+N*m-(I*y+D*v),z>=q||-z>=q)return z;O=m*N,b=i.splitter*m,j=b-(b-m),x=m-j,b=i.splitter*N,w=b-(b-N),k=N-w,L=x*k-(O-j*w-x*w-j*k),E=v*D,b=i.splitter*v,j=b-(b-v),x=v-j,b=i.splitter*D,w=b-(b-D),k=D-w,A=x*k-(E-j*w-x*w-j*k),S=L-A,_=L-S,d[0]=L-(S+_)+(_-A),P=O+S,_=P-O,M=O-(P-_)+(S-_),S=M-E,_=M-S,d[1]=M-(S+_)+(_-E),C=P+S,_=C-P,d[2]=P-(C-_)+(S-_),d[3]=C;const R=(0,i.sum)(4,o,4,d,l);O=T*g,b=i.splitter*T,j=b-(b-T),x=T-j,b=i.splitter*g,w=b-(b-g),k=g-w,L=x*k-(O-j*w-x*w-j*k),E=I*y,b=i.splitter*I,j=b-(b-I),x=I-j,b=i.splitter*y,w=b-(b-y),k=y-w,A=x*k-(E-j*w-x*w-j*k),S=L-A,_=L-S,d[0]=L-(S+_)+(_-A),P=O+S,_=P-O,M=O-(P-_)+(S-_),S=M-E,_=M-S,d[1]=M-(S+_)+(_-E),C=P+S,_=C-P,d[2]=P-(C-_)+(S-_),d[3]=C;const B=(0,i.sum)(R,l,4,d,u);O=m*g,b=i.splitter*m,j=b-(b-m),x=m-j,b=i.splitter*g,w=b-(b-g),k=g-w,L=x*k-(O-j*w-x*w-j*k),E=v*y,b=i.splitter*v,j=b-(b-v),x=v-j,b=i.splitter*y,w=b-(b-y),k=y-w,A=x*k-(E-j*w-x*w-j*k),S=L-A,_=L-S,d[0]=L-(S+_)+(_-A),P=O+S,_=P-O,M=O-(P-_)+(S-_),S=M-E,_=M-S,d[1]=M-(S+_)+(_-E),C=P+S,_=C-P,d[2]=P-(C-_)+(S-_),d[3]=C;const F=(0,i.sum)(B,u,4,d,c);return c[F-1]}(e,t,n,h,f,p,g)},n.orient2dfast=function(e,t,n,i,r,a){return(t-a)*(n-r)-(e-r)*(i-a)};var i=e("./util.js");const r=(3+16*i.epsilon)*i.epsilon,a=(2+12*i.epsilon)*i.epsilon,s=(9+64*i.epsilon)*i.epsilon*i.epsilon,o=(0,i.vec)(4),l=(0,i.vec)(8),u=(0,i.vec)(12),c=(0,i.vec)(16),d=(0,i.vec)(4)},{"./util.js":879}],878:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.orient3d=function(e,t,n,_,S,L,E,A,C,T,D,I){const N=e-T,z=_-T,q=E-T,R=t-D,B=S-D,F=A-D,H=n-I,W=L-I,Z=C-I,V=z*F,U=q*B,Y=q*R,G=N*F,X=N*B,K=z*R,$=H*(V-U)+W*(Y-G)+Z*(X-K),J=(Math.abs(V)+Math.abs(U))*Math.abs(H)+(Math.abs(Y)+Math.abs(G))*Math.abs(W)+(Math.abs(X)+Math.abs(K))*Math.abs(Z),Q=r*J;if($>Q||-$>Q)return $;return function(e,t,n,r,_,S,L,E,A,C,T,D,I){let N,z,q,R,B,F,H,W,Z,V,U,Y,G,X,K,$,J,Q,ee,te,ne,ie,re,ae;const se=e-C,oe=r-C,le=L-C,ue=t-T,ce=_-T,de=E-T,he=n-D,fe=S-D,pe=A-D;te=oe*de,Y=i.splitter*oe,G=Y-(Y-oe),X=oe-G,Y=i.splitter*de,K=Y-(Y-de),$=de-K,ne=X*$-(te-G*K-X*K-G*$),ie=le*ce,Y=i.splitter*le,G=Y-(Y-le),X=le-G,Y=i.splitter*ce,K=Y-(Y-ce),$=ce-K,re=X*$-(ie-G*K-X*K-G*$),J=ne-re,U=ne-J,o[0]=ne-(J+U)+(U-re),Q=te+J,U=Q-te,ee=te-(Q-U)+(J-U),J=ee-ie,U=ee-J,o[1]=ee-(J+U)+(U-ie),ae=Q+J,U=ae-Q,o[2]=Q-(ae-U)+(J-U),o[3]=ae,te=le*ue,Y=i.splitter*le,G=Y-(Y-le),X=le-G,Y=i.splitter*ue,K=Y-(Y-ue),$=ue-K,ne=X*$-(te-G*K-X*K-G*$),ie=se*de,Y=i.splitter*se,G=Y-(Y-se),X=se-G,Y=i.splitter*de,K=Y-(Y-de),$=de-K,re=X*$-(ie-G*K-X*K-G*$),J=ne-re,U=ne-J,l[0]=ne-(J+U)+(U-re),Q=te+J,U=Q-te,ee=te-(Q-U)+(J-U),J=ee-ie,U=ee-J,l[1]=ee-(J+U)+(U-ie),ae=Q+J,U=ae-Q,l[2]=Q-(ae-U)+(J-U),l[3]=ae,te=se*ce,Y=i.splitter*se,G=Y-(Y-se),X=se-G,Y=i.splitter*ce,K=Y-(Y-ce),$=ce-K,ne=X*$-(te-G*K-X*K-G*$),ie=oe*ue,Y=i.splitter*oe,G=Y-(Y-oe),X=oe-G,Y=i.splitter*ue,K=Y-(Y-ue),$=ue-K,re=X*$-(ie-G*K-X*K-G*$),J=ne-re,U=ne-J,u[0]=ne-(J+U)+(U-re),Q=te+J,U=Q-te,ee=te-(Q-U)+(J-U),J=ee-ie,U=ee-J,u[1]=ee-(J+U)+(U-ie),ae=Q+J,U=ae-Q,u[2]=Q-(ae-U)+(J-U),u[3]=ae,N=(0,i.sum)((0,i.sum)((0,i.scale)(4,o,he,b),b,(0,i.scale)(4,l,fe,j),j,x),x,(0,i.scale)(4,u,pe,b),b,k);let me=(0,i.estimate)(N,k),ve=a*I;if(me>=ve||-me>=ve)return me;if(U=e-se,z=e-(se+U)+(U-C),U=r-oe,q=r-(oe+U)+(U-C),U=L-le,R=L-(le+U)+(U-C),U=t-ue,B=t-(ue+U)+(U-T),U=_-ce,F=_-(ce+U)+(U-T),U=E-de,H=E-(de+U)+(U-T),U=n-he,W=n-(he+U)+(U-D),U=S-fe,Z=S-(fe+U)+(U-D),U=A-pe,V=A-(pe+U)+(U-D),0===z&&0===q&&0===R&&0===B&&0===F&&0===H&&0===W&&0===Z&&0===V)return me;if(ve=s*I+i.resulterrbound*Math.abs(me),me+=he*(oe*H+de*q-(ce*R+le*F))+W*(oe*de-ce*le)+fe*(le*B+ue*R-(de*z+se*H))+Z*(le*ue-de*se)+pe*(se*F+ce*z-(ue*q+oe*B))+V*(se*ce-ue*oe),me>=ve||-me>=ve)return me;const ye=M(z,B,oe,ce,le,de,c,d),ge=M(q,F,le,de,se,ue,h,f),_e=M(R,H,se,ue,oe,ce,p,m),be=(0,i.sum)(ge,h,_e,m,v);N=P(N,(0,i.scale)(be,v,he,x),x);const je=(0,i.sum)(_e,p,ye,d,y);N=P(N,(0,i.scale)(je,y,fe,x),x);const xe=(0,i.sum)(ye,c,ge,f,g);N=P(N,(0,i.scale)(xe,g,pe,x),x),0!==W&&(N=P(N,(0,i.scale)(4,o,W,w),w),N=P(N,(0,i.scale)(be,v,W,x),x));0!==Z&&(N=P(N,(0,i.scale)(4,l,Z,w),w),N=P(N,(0,i.scale)(je,y,Z,x),x));0!==V&&(N=P(N,(0,i.scale)(4,u,V,w),w),N=P(N,(0,i.scale)(xe,g,V,x),x));0!==z&&(0!==F&&(N=O(N,z,F,pe,V)),0!==H&&(N=O(N,-z,H,fe,Z)));0!==q&&(0!==H&&(N=O(N,q,H,he,W)),0!==B&&(N=O(N,-q,B,pe,V)));0!==R&&(0!==B&&(N=O(N,R,B,fe,Z)),0!==F&&(N=O(N,-R,F,he,W)));return k[N-1]}(e,t,n,_,S,L,E,A,C,T,D,I,J)},n.orient3dfast=function(e,t,n,i,r,a,s,o,l,u,c,d){const h=t-c,f=r-c,p=o-c,m=n-d,v=a-d,y=l-d;return(e-u)*(f*y-v*p)+(i-u)*(p*m-y*h)+(s-u)*(h*v-m*f)};var i=e("./util.js");const r=(7+56*i.epsilon)*i.epsilon,a=(3+28*i.epsilon)*i.epsilon,s=(26+288*i.epsilon)*i.epsilon*i.epsilon,o=(0,i.vec)(4),l=(0,i.vec)(4),u=(0,i.vec)(4),c=(0,i.vec)(4),d=(0,i.vec)(4),h=(0,i.vec)(4),f=(0,i.vec)(4),p=(0,i.vec)(4),m=(0,i.vec)(4),v=(0,i.vec)(8),y=(0,i.vec)(8),g=(0,i.vec)(8),_=(0,i.vec)(4),b=(0,i.vec)(8),j=(0,i.vec)(8),x=(0,i.vec)(8),w=(0,i.vec)(12);let k=(0,i.vec)(192),S=(0,i.vec)(192);function P(e,t,n){e=(0,i.sum)(e,k,t,n,S);const r=k;return k=S,S=r,e}function M(e,t,n,r,a,s,o,l){let u,c,d,h,f,p,m,v,y,g,_,b,j,x,w;return 0===e?0===t?(o[0]=0,l[0]=0,1):(w=-t,g=w*n,c=i.splitter*w,d=c-(c-w),h=w-d,c=i.splitter*n,f=c-(c-n),p=n-f,o[0]=h*p-(g-d*f-h*f-d*p),o[1]=g,g=t*a,c=i.splitter*t,d=c-(c-t),h=t-d,c=i.splitter*a,f=c-(c-a),p=a-f,l[0]=h*p-(g-d*f-h*f-d*p),l[1]=g,2):0===t?(g=e*r,c=i.splitter*e,d=c-(c-e),h=e-d,c=i.splitter*r,f=c-(c-r),p=r-f,o[0]=h*p-(g-d*f-h*f-d*p),o[1]=g,w=-e,g=w*s,c=i.splitter*w,d=c-(c-w),h=w-d,c=i.splitter*s,f=c-(c-s),p=s-f,l[0]=h*p-(g-d*f-h*f-d*p),l[1]=g,2):(g=e*r,c=i.splitter*e,d=c-(c-e),h=e-d,c=i.splitter*r,f=c-(c-r),p=r-f,_=h*p-(g-d*f-h*f-d*p),b=t*n,c=i.splitter*t,d=c-(c-t),h=t-d,c=i.splitter*n,f=c-(c-n),p=n-f,j=h*p-(b-d*f-h*f-d*p),m=_-j,u=_-m,o[0]=_-(m+u)+(u-j),v=g+m,u=v-g,y=g-(v-u)+(m-u),m=y-b,u=y-m,o[1]=y-(m+u)+(u-b),x=v+m,u=x-v,o[2]=v-(x-u)+(m-u),o[3]=x,g=t*a,c=i.splitter*t,d=c-(c-t),h=t-d,c=i.splitter*a,f=c-(c-a),p=a-f,_=h*p-(g-d*f-h*f-d*p),b=e*s,c=i.splitter*e,d=c-(c-e),h=e-d,c=i.splitter*s,f=c-(c-s),p=s-f,j=h*p-(b-d*f-h*f-d*p),m=_-j,u=_-m,l[0]=_-(m+u)+(u-j),v=g+m,u=v-g,y=g-(v-u)+(m-u),m=y-b,u=y-m,l[1]=y-(m+u)+(u-b),x=v+m,u=x-v,l[2]=v-(x-u)+(m-u),l[3]=x,4)}function O(e,t,n,r,a){let s,o,l,u,c,d,h,f,p,m,v,y,g;return v=t*n,o=i.splitter*t,l=o-(o-t),u=t-l,o=i.splitter*n,c=o-(o-n),d=n-c,y=u*d-(v-l*c-u*c-l*d),o=i.splitter*r,c=o-(o-r),d=r-c,h=y*r,o=i.splitter*y,l=o-(o-y),u=y-l,_[0]=u*d-(h-l*c-u*c-l*d),f=v*r,o=i.splitter*v,l=o-(o-v),u=v-l,m=u*d-(f-l*c-u*c-l*d),p=h+m,s=p-h,_[1]=h-(p-s)+(m-s),g=f+p,_[2]=p-(g-f),_[3]=g,e=P(e,4,_),0!==a&&(o=i.splitter*a,c=o-(o-a),d=a-c,h=y*a,o=i.splitter*y,l=o-(o-y),u=y-l,_[0]=u*d-(h-l*c-u*c-l*d),f=v*a,o=i.splitter*v,l=o-(o-v),u=v-l,m=u*d-(f-l*c-u*c-l*d),p=h+m,s=p-h,_[1]=h-(p-s)+(m-s),g=f+p,_[2]=p-(g-f),_[3]=g,e=P(e,4,_)),e}},{"./util.js":879}],879:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.epsilon=void 0,n.estimate=function(e,t){let n=t[0];for(let i=1;i<e;i++)n+=t[i];return n},n.negate=function(e,t){for(let n=0;n<e;n++)t[n]=-t[n];return e},n.resulterrbound=void 0,n.scale=function(e,t,n,i){let a,s,o,l,u,c,d,h,f,p,m;d=r*n,p=d-(d-n),m=n-p;let v=t[0];a=v*n,d=r*v,h=d-(d-v),f=v-h,o=f*m-(a-h*p-f*p-h*m);let y=0;0!==o&&(i[y++]=o);for(let g=1;g<e;g++)v=t[g],l=v*n,d=r*v,h=d-(d-v),f=v-h,u=f*m-(l-h*p-f*p-h*m),s=a+u,c=s-a,o=a-(s-c)+(u-c),0!==o&&(i[y++]=o),a=l+s,o=s-(a-l),0!==o&&(i[y++]=o);0===a&&0!==y||(i[y++]=a);return y},n.splitter=void 0,n.sum=a,n.sum_three=function(e,t,n,i,r,s,o,l){return a(a(e,t,n,i,o),o,r,s,l)},n.vec=function(e){return new Float64Array(e)};const i=11102230246251565e-32;n.epsilon=i;const r=134217729;n.splitter=r;function a(e,t,n,i,r){let a,s,o,l,u=t[0],c=i[0],d=0,h=0;c>u==c>-u?(a=u,u=t[++d]):(a=c,c=i[++h]);let f=0;if(d<e&&h<n)for(c>u==c>-u?(s=u+a,o=a-(s-u),u=t[++d]):(s=c+a,o=a-(s-c),c=i[++h]),a=s,0!==o&&(r[f++]=o);d<e&&h<n;)c>u==c>-u?(s=a+u,l=s-a,o=a-(s-l)+(u-l),u=t[++d]):(s=a+c,l=s-a,o=a-(s-l)+(c-l),c=i[++h]),a=s,0!==o&&(r[f++]=o);for(;d<e;)s=a+u,l=s-a,o=a-(s-l)+(u-l),u=t[++d],a=s,0!==o&&(r[f++]=o);for(;h<n;)s=a+c,l=s-a,o=a-(s-l)+(c-l),c=i[++h],a=s,0!==o&&(r[f++]=o);return 0===a&&0!==f||(r[f++]=a),f}n.resulterrbound=33306690738754706e-32},{}],880:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"incircle",{enumerable:!0,get:function(){return a.incircle}}),Object.defineProperty(n,"incirclefast",{enumerable:!0,get:function(){return a.incirclefast}}),Object.defineProperty(n,"insphere",{enumerable:!0,get:function(){return s.insphere}}),Object.defineProperty(n,"inspherefast",{enumerable:!0,get:function(){return s.inspherefast}}),Object.defineProperty(n,"orient2d",{enumerable:!0,get:function(){return i.orient2d}}),Object.defineProperty(n,"orient2dfast",{enumerable:!0,get:function(){return i.orient2dfast}}),Object.defineProperty(n,"orient3d",{enumerable:!0,get:function(){return r.orient3d}}),Object.defineProperty(n,"orient3dfast",{enumerable:!0,get:function(){return r.orient3dfast}});var i=e("./esm/orient2d.js"),r=e("./esm/orient3d.js"),a=e("./esm/incircle.js"),s=e("./esm/insphere.js")},{"./esm/incircle.js":875,"./esm/insphere.js":876,"./esm/orient2d.js":877,"./esm/orient3d.js":878}]},{},[1])(1)}));